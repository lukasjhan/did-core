<!DOCTYPE html>
<html>
  <head>
    <title>탈중앙 식별자 Decentralized Identifiers (DIDs) v1.0</title>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
    <!--
    === NOTA BENE ===
    For the three scripts below, if your spec resides on dev.w3 you can check
    them out in the same tree and use relative links so that they'll work
    offline.
  -->

    <script
      class="remove"
      src="https://unpkg.com/browse/jquery/dist/jquery.min.js"
    ></script>
    <script
      class="remove"
      src="https://www.w3.org/Tools/respec/respec-w3c"
    ></script>
    <script
      class="removeOnSave"
      src="https://unpkg.com/reqlist/lib/reqlist.js"
    ></script>
    <link
      class="removeOnSave"
      rel="stylesheet"
      type="text/css"
      href="https://unpkg.com/reqlist/lib/reqlist.css"
    />

    <script class="remove" src="./common.js"></script>
    <script class="remove" type="text/javascript">
      var respecConfig = {
        // the W3C WG and public mailing list
        group: 'did',
        wgPublicList: 'public-did-wg',

        // the specification's short name, as in http://www.w3.org/TR/short-name/
        shortName: 'did-core',

        // specification status (e.g., WD, LCWD, NOTE, etc.). If in doubt use ED.
        specStatus: 'REC',

        // W3C Proposed Recommendation information
        prEnd: '2021-08-31',

        // W3C Candidate Recommendation information
        crEnd: '2021-07-13',
        implementationReportURI: 'https://w3c.github.io/did-test-suite/',

        // Editor's Draft URL
        edDraftURI: 'https://w3c.github.io/did-core/',

        // subtitle for the spec
        subtitle: 'Core architecture, data model, and representations',

        // if you wish the publication date to be other than today, set this
        publishDate: '2022-07-19',

        // previously published draft, uncomment this and set its
        // YYYY-MM-DD date and its maturity status
        previousPublishDate: '2021-08-03',
        previousMaturity: 'PR',

        // automatically allow term pluralization
        pluralize: true,

        // extend the bibliography entries
        localBiblio: ccg.localBiblio,
        xref: 'web-platform',
        github: {
          repoURL: 'https://github.com/w3c/did-core/',
          branch: 'main',
        },
        includePermalinks: false,

        // Uncomment these to use the respec extension that generates a list of
        //   normative statements:
        preProcess: [
          /*prepare_reqlist*/
        ],
        postProcess: [, /*add_reqlist_button*/ restrictRefs],

        // list of specification editors
        editors: [
          {
            name: 'Manu Sporny',
            url: 'http://manu.sporny.org/',
            company: 'Digital Bazaar',
            companyURL: 'https://digitalbazaar.com/',
            w3cid: 41758,
          },
          {
            name: 'Amy Guy',
            url: 'https://rhiaro.co.uk/',
            company: 'Digital Bazaar',
            companyURL: 'https://digitalbazaar.com/',
            w3cid: 69000,
          },
          {
            name: 'Markus Sabadello',
            url: 'https://www.linkedin.com/in/markus-sabadello-353a0821',
            company: 'Danube Tech',
            companyURL: 'https://danubetech.com/',
            w3cid: 46729,
          },
          {
            name: 'Drummond Reed',
            url: 'https://www.linkedin.com/in/drummondreed/',
            company: 'Evernym/Avast',
            companyURL: 'https://www.evernym.com/',
            w3cid: 3096,
          },
        ],

        // list of specification authors
        authors: [
          {
            name: 'Manu Sporny',
            url: 'http://manu.sporny.org/',
            company: 'Digital Bazaar',
            companyURL: 'https://digitalbazaar.com/',
            w3cid: 41758,
          },
          {
            name: 'Dave Longley',
            url: 'https://github.com/dlongley',
            company: 'Digital Bazaar',
            companyURL: 'https://digitalbazaar.com/',
            w3cid: 48025,
          },
          {
            name: 'Markus Sabadello',
            url: 'https://www.linkedin.com/in/markus-sabadello-353a0821',
            company: 'Danube Tech',
            companyURL: 'https://danubetech.com/',
            w3cid: 46729,
          },
          {
            name: 'Drummond Reed',
            url: 'https://www.linkedin.com/in/drummondreed/',
            company: 'Evernym/Avast',
            companyURL: 'https://www.evernym.com/',
            w3cid: 3096,
          },
          {
            name: 'Orie Steele',
            url: 'https://www.linkedin.com/in/or13b/',
            company: 'Transmute',
            companyURL: 'https://transmute.industries/',
          },
          {
            name: 'Christopher Allen',
            url: 'https://www.linkedin.com/in/christophera',
            company: 'Blockchain Commons',
            companyURL: 'https://www.BlockchainCommons.com',
            w3cid: 85560,
          },
        ],
        otherLinks: [
          {
            key: 'Related Documents',
            data: [
              {
                value: 'DID Use Cases and Requirements',
                href: 'https://www.w3.org/TR/did-use-cases/',
              },
              {
                value: 'DID Specification Registries',
                href: 'https://www.w3.org/TR/did-spec-registries/',
              },
              {
                value: 'DID Core Implementation Report',
                href: 'https://w3c.github.io/did-test-suite/',
              },
            ],
          },
        ],
        errata: 'https://w3c.github.io/did-core/errata.html',
      };
    </script>
    <style>
      pre .highlight {
        font-weight: bold;
        color: green;
      }

      pre .comment {
        color: SteelBlue;
        user-select: none;
      }

      code a[href] {
        color: inherit;
        border-bottom: none;
      }

      code a[href]:hover {
        border-bottom: 1px solid #c63501;
      }

      table.column-width-50 td {
        width: 50%;
      }

      .longdesc {
        display: none;
      }

      .longdesc:target {
        display: block;
        background-color: #ff9;
      }
    </style>
  </head>

  <body data-cite="infra rfc3986">
    <section id="abstract">
      <p>
        <a>탈중앙 식별자</a> (DIDs)는 검증가능하고 탈중앙화된 디지털 신원을 위한
        새로운 형식의 식별자이다. <a>DID</a>는 <a>DID</a>의 컨트롤러가 결정한
        모든 주체(예: 사람, 조직, 사물, 데이터 모델, 추상 개체 등)를 나타낸다.
        전형적인 중앙 식별자와 다르게, <a>DIDs</a>는 중앙화된 레지스트리, ID
        제공업체, 인증 기관과 분리될 수 있도록 설계되었다. 다른 당사자들이
        <a>DID</a>와 관련된 정보를 찾는 데 도움을 줄 수 있지만, 이 설계는
        <a>DID</a>의 컨트롤러가 다른 당사자의 허가 없이도 그것을 통제하는 것을
        증명할 수 있도록 한다. <a>DID</a>는 <a>DID 주체</a>를 <a>DID 문서</a>와
        연결하여 해당 주제와 관련된 신뢰할 수 있는 상호 작용을 허용하는
        <a>URI</a>이다.
      </p>
      <p>
        각 <a>DID 문서</a>는 <a>DID 컨트롤러</a>가 <a>DID</a>를 통제하는 것을
        증명하는 데 필요한 메커니즘의 집합을 제공하는데 필요한 암호화 자료,
        <a>검증 방법</a>, 또는 <a>서비스</a>를 표현할 수 있다. <a>서비스</a>는
        <a>DID 주체</a>와 관련된 신뢰할 수 있는 상호 작용을 가능하게 한다.
        <a>DID</a>는 데이터 모델과 <a>DID 주체</a>가 같은 정보 리소스인 경우
        <a>DID 주체</a> 자체를 반환하는 수단을 제공할 수 있다.
      </p>
      <p>
        이 문서는 DID 구문, 공통 데이터 모델, 핵심 속성, 직렬화된 표현, DID 작업
        및 DID가 나타내는 리소스를 확인하는 프로세스에 대한 설명을 명시한다.
      </p>
    </section>

    <section id="sotd">
      <p>
        The W3C Decentralized Identifier Working Group은 이 문서를 W3C 제안 권장
        사항으로 게시했으며 이해 관계자가 2021년 8월 26일까지 이 명세를 검토하록
        요청하고 있습니다.
      </p>

      <p>
        문서 발행 시점에, 실험적인 DID 방법 명세가
        <a href="https://w3c.github.io/did-spec-registries/#did-methods"
          >103개</a
        >가 있었으며, 실험적인 DID 방법 드라이버 구현이 32개 있었고, 이 명세와
        일치하는지 여부를 결정하는
        <a href="https://w3c.github.io/did-test-suite/">테스트 모음</a> 및 이
        명세에 준하는 46개의 구현이 제출되었다. 독자들은
        <a href="https://github.com/w3c/did-core/issues">DID Core 이슈</a>와
        <a href="https://github.com/w3c/did-test-suite/issues"
          >DID Core 테스트 스위트 이슈</a
        >에 주의를 기울이는 것이 권장되며, 각 이슈에는 이 명세에 변경을 일으킬
        수 있는 최신 고려 사항 및 제안된 변경 사항이 포함되어 있다. 문서 작성
        시점에서는 추가적인 실질적인 이슈, 변경 또는 수정이 예상되지 않는다.
      </p>

      <p>
        이 문서에 대한 의견은 환영합니다. 의견은 직접
        <a href="https://github.com/w3c/did-core/issues/">GitHub</a>에
        제출하거나,
        <a href="mailto:public-did-wg@w3.org">public-did-wg@w3.org</a>로
        보내주세요 (
        <a href="mailto:public-did-wg-request@w3.org?subject=subscribe">구독</a
        >,
        <a href="https://lists.w3.org/Archives/Public/public-did-wg/"
          >아카이브</a
        >).
      </p>
    </section>

    <section class="informative">
      <h1>서론</h1>
      <p>
        개인 및 조직으로서 우리 중 많은 사람들은 다양한 맥락 속에서 전세계적으로
        고유한 식별자를 사용한다. 그들은 통신주소 (전화번호, 이메일 주소, 소셜
        미디어의 사용자 이름), ID 번호 (여권, 운전면허증, 세금 ID, 건강보험을
        위한) 그리고 상품 식별자 (시리얼 번호, 바코드, RFID)의 역할을 한다. URI
        (Uniform Resource Identifier)는 웹 상의 리소스를 위해 사용되며,
        브라우저에서 보는 각 웹 페이지는 전세계적으로 고유한 URL (Uniform
        Resource Locator)을 가진다.
      </p>
      <p>
        이러한 전세계적으로 고유한 식별자들 중 대부분은 우리의 통제안에 있지
        않는다. 그들은 누구 또는 무엇을 참조하는지, 언제 철회할 수 있는지를
        결정하는 외부의 기관에 의해 발행된다. 그것들은 특정 상황에서만 유용하며
        우리가 선택하지 않은 특정 기관에서만 인식된다. 그것들은 기관이 실패하면
        사라지거나 유효하지 않게 될 수 있습니다. 그들은 불필요하게 개인 정보를
        공개할 수도 있습니다. 대부분의 경우 악의적인 제3자에 의해 사기적으로
        복제되고 주장될 수 있다. 이는 일반적으로 "신원도용"으로 알려져 있다.
      </p>
      <p>
        이 명세에 정의된 The Decentralized Identifiers (DIDs)는 새로운 유형의
        전세계적으로 고유한 식별자이다. 그들은 개인과 기관이 신뢰하는 시스템을
        사용하여 자신의 식별자를 생성할 수 있도록 설계되었다. 이러한 새로운
        식별자를 사용하면 디지털 서명과 같은 암호화 증명을 사용하여 인증함으로써
        식별자에 대한 제어를 증명할 수 있다.
      </p>
      <p>
        Decentralized Identifiers의 생성 및 주장은 엔터티에 의해 제어되므로 각
        엔테티는 원하는 ID, 페르소나 및 상호 작용의 분리를 유지하는데 필요한
        만큼의 DID를 가질 수 있다. 이러한 식별자의 사용은 다른 맥락에 적절하게
        범위가 지정될 수 있다. 이들은 개체가 자신이나 자신이 통제하는 사물을
        식별하도록 요구하는 다른 사람, 기관 또는 시스템과의 상호 작용을 지원하는
        동시에 개인 또는 개인 데이터의 지속적인 존재를 보장하기 위해 중앙 기관에
        의존하지 않고 얼마나 많은 개인 또는 개인 데이터가 공개되어야 하는지에
        대한 제어를 제공한다. 이러한 아이디어는 DID 사용 사례 문서
        [[DID-USE-CASES]]에서 살펴본다.
      </p>
      <p>
        이 명세는 DID의 생성, 지속성, 해결 또는 해석을 뒷받침하는 특정 기술이나
        암호화를 전제로 하지 않는다. 예를 들어, 구현자는 연합 또는 중앙 집중식
        ID 관리 시스템에 등록된 식별자를 기반으로 DID를 생성할 수 있다. 실제로
        거의 모든 유형의 식별자 시스템은 DID를 지원할 수 있다. 이는 중앙 집중식,
        연합, 탈중앙식 식별자의 세계를 연결하는 상호 운용성의 다리를 만든다.
        이는 구현자가 신뢰하는 컴퓨팅 인프라와 함께 작동하는 특정 유형의 DID를
        설계할 수 있도록 한다. 예를들어, 분산 원장, 탈중앙화 파일 시스템, 분산
        데이터베이스 및 P2P 네트워크와 같다.
      </p>
      <p>본 명세서는 다음을 위한 것입니다:</p>
      <ul>
        <li>
          Decentralized Identifiers의 핵심 아키텍처 원칙을 이해하고자 하는
          누구에게나;
        </li>

        <li>
          Decentralized Identifiers 및 관련 데이터 형식을 생성하고 사용하려는
          소프트웨어 개발자에게;
        </li>
        <li>
          소프트웨어 및 하드웨어 시스템에서 Decentralized Identifiers를 사용하는
          방법을 이해하려는 시스템 통합자에게;
        </li>
        <li>
          본 문서에서 설명한 생태계에 부합하는 새로운 DID 기반의 인프라를
          생성하고자 하는 명세서 저자에게.
        </li>
      </ul>

      <p>
        이 사양 외에도, 독자들은 탈중앙 식별자에 대한 사용 사례 및 요구 사항
        [[DID-USE-CASES]] 문서를 유용하게 찾을 수 있을 것이다.
      </p>

      <section class="informative">
        <h2>A Simple Example</h2>

        <p>
          <a>DID</a>는 세 부분으로 구성된 간단한 텍스트 문자열입니다: 1)
          <code>did</code> URI 체계 식별자, 2) <a>DID 메소드</a>에 대한 식별자,
          그리고 3) DID 메소드별 특정 식별자.
        </p>

        <figure id="parts-of-a-did">
          <img
            style="margin: auto; display: block; width: 75%"
            src="diagrams/parts-of-a-did.svg"
            alt="
A diagram showing the parts of a DID. The left-most letters spell 'did' in blue,
are enclosed in a horizontal bracket from above and a label that reads 'scheme'
above the bracket. A gray colon follows the 'did' letters. The middle letters
spell 'example' in magenta, are enclosed in a horizontal bracket from below and
a label that reads 'DID Method' below the bracket. A gray colon follows the
DID Method. Finally, the letters at the end read '123456789abcdefghi' in
green, are enclosed in a horizontal bracket from below and a label that
reads 'DID Method Specific String' below the bracket.
        "
          />
          <figcaption>
            A simple example of a decentralized identifier (DID)
          </figcaption>
        </figure>

        <p>
          위의 예시 <a>DID</a>는 <a>DID 문서</a>로 해석된다. <a>DID 문서</a>는
          <a>DID</a>와 관련된 정보를 포함하며, 예를 들어 <a>DID 컨트롤러</a>를
          암호학적으로 <a>인증</a>하는 방법과 같은 내용이 포함된다.
        </p>

        <pre class="example nohighlight" title="A simple DID document">
{
  "@context": [
    "https://www.w3.org/ns/did/v1",
    "https://w3id.org/security/suites/ed25519-2020/v1"
  ]
  "id": "did:example:123456789abcdefghi",
  "authentication": [{
    <span class="comment">// used to authenticate as did:...fghi</span>
    "id": "did:example:123456789abcdefghi#keys-1",
    "type": "Ed25519VerificationKey2020",
    "controller": "did:example:123456789abcdefghi",
    "publicKeyMultibase": "zH3C2AVvLMv6gmMNam3uVAjZpfkcJCwDwnZn6z3wXmqPV"
  }]
}
      </pre>
      </section>

      <section class="informative">
        <h2>Design Goals</h2>

        <p>
          <a>탈중앙 식별자</a>는 검증 가능한 크리덴셜 생태계 [[VC-DATA-MODEL]]와
          같은 더 큰 시스템의 구성 요소로, 이 사양의 설계 목표에 영향을
          미쳤습니다. 탈중앙 식별자에 대한 설계 목표는 여기에 요약되어 있다.
        </p>

        <table class="simple">
          <thead>
            <tr>
              <th>Goal</th>
              <th>Description</th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td>분산화</td>
              <td>
                식별자 관리에서 중앙 집중식 권한 또는 단일 실패 지점의 요구
                사항을 제거하며, 이는 전 세계적으로 고유한 식별자, 공개 검증 키,
                <a>서비스</a>, 그리고 기타 정보의 등록을 포함한다.
              </td>
            </tr>
            <tr>
              <td>제어</td>
              <td>
                외부 권한에 의존할 필요 없이 인간 및 비인간 개체에게 그들의
                디지털 식별자를 직접 제어할 수 있는 권한을 부여한다.
              </td>
            </tr>
            <tr>
              <td>프라이버시</td>
              <td>
                개체가 정보의 프라이버시를 제어할 수 있도록 하며, 이는 최소한,
                선택적 및 단계적인 속성 또는 기타 데이터의 공개를 포함한다.
              </td>
            </tr>
            <tr>
              <td>보안</td>
              <td>
                요청하는 당사자가 필요한 수준의 보증에 대해 <a>DID 문서</a>에
                의존할 수 있을 만큼 충분한 보안을 제공한다.
              </td>
            </tr>
            <tr>
              <td>증명 기반</td>
              <td>
                <a>DID 컨트롤러</a>가 다른 개체와 상호 작용할 때 암호학적 증명을
                제공할 수 있도록 한다.
              </td>
            </tr>
            <tr>
              <td>발견 가능성</td>
              <td>
                개체가 다른 개체의 <a>DID</a>를 발견하여 그 개체에 대해 더 많이
                알아보거나 상호 작용할 수 있도록 한다.
              </td>
            </tr>
            <tr>
              <td>상호 운용성</td>
              <td>
                상호 운용 가능한 표준을 사용하여 <a>DID</a> 인프라가 상호
                운용성을 위해 설계된 기존 도구 및 소프트웨어 라이브러리를 활용할
                수 있도록 한다.
              </td>
            </tr>
            <tr>
              <td>휴대성</td>
              <td>
                시스템 및 네트워크에 독립적이며 <a>DID</a> 및
                <a>DID 메소드</a>를 지원하는 모든 시스템에서 디지털 식별자를
                사용할 수 있도록 한다.
              </td>
            </tr>
            <tr>
              <td>단순성</td>
              <td>
                기술을 더 쉽게 이해하고 구현하며 배포할 수 있도록 간단한 기능
                세트를 선호한다.
              </td>
            </tr>
            <tr>
              <td>확장성</td>
              <td>
                가능한 경우, 상호 운용성, 휴대성 또는 단순성을 크게 방해하지
                않는 한 확장성을 제공한다.
              </td>
            </tr>
          </tbody>
        </table>
      </section>

      <section class="informative">
        <h2>Architecture Overview</h2>

        <p>
          이 섹션은 탈중앙 식별자 구조의 주요 구성 요소에 대한 기본 개요를
          제공한다.
        </p>

        <figure id="brief-architecture-overview">
          <img
            style="margin: auto; display: block; width: 75%"
            src="diagrams/did_brief_architecture_overview.svg"
            alt="
DIDs and DID documents are recorded on a Verifiable Data Registry; DIDs resolve
to DID documents; DIDs refer to DID subjects; a DID controller controls a DID
document; DID URLs contains a DID; DID URLs dereferenced to DID document
fragments or external resources.
        "
          />
          <figcaption>
            Overview of DID architecture and the relationship of the basic
            components. See also:
            <a
              class="longdesc-link"
              href="#brief-architecture-overview-longdesc"
              >narrative description</a
            >.
          </figcaption>
        </figure>

        <div class="longdesc" id="brief-architecture-overview-longdesc">
          <p>
            다이어그램에는 내부적으로 레이블이 붙은 여섯 개의 도형이 있으며,
            이들 사이에는 레이블이 붙은 화살표가 다음과 같이 표시되어 있다.
            다이어그램의 중앙에는 "DID URL"이라고 레이블이 붙은 사각형이 있으며,
            그 안에는 "did:example:123/path/to/rsrc"라고 작은 타자기 글씨가 적혀
            있다. 다이어그램의 상단 중앙에는 "did:example:123"이라고 작은 타자기
            글씨가 적힌 "DID"라고 레이블이 붙은 사각형이 있다. 다이어그램의 왼쪽
            상단에는 "DID 주체"라고 레이블이 붙은 타원형이 있다. 다이어그램의
            하단 중앙에는 "DID 문서"라고 레이블이 붙은 사각형이 있다. 왼쪽
            하단에는 "DID 컨트롤러"라고 레이블이 붙은 타원형이 있다.
            다이어그램의 오른쪽 중앙에는 "검증 가능한 데이터 레지스트리"라고
            레이블이 붙은 원통형의 입체적인 렌더링이 있다.
          </p>
          <p>
            "DID URL" 사각형의 상단에서 "포함함"이라고 레이블이 붙은 화살표가
            위로 향하며 "DID" 사각형을 가리킨다. "DID URL" 사각형의 하단에서
            "참조하며, <strong><em>역참조함</em></strong
            >"이라고 레이블이 붙은 화살표가 아래로 향하며 "DID 문서" 사각형을
            가리킨다. "DID" 사각형에서 "<strong><em>해석됨</em></strong
            >으로" 레이블이 붙은 화살표가 아래로 향해 "DID 문서" 사각형을
            가리킨다. "DID" 사각형에서 "참조함으로" 레이블이 붙은 화살표가
            왼쪽으로 향해 "DID 주체" 타원을 가리킨다. "DID 컨트롤러" 타원에서
            "제어함"이라고 레이블이 붙은 화살표가 오른쪽으로 향해 "DID 문서"
            사각형을 가리킵니다. "DID" 사각형에서 "기록됨으로" 레이블이 붙은
            화살표가 오른쪽 아래로 향해 "검증 가능한 데이터 레지스트리" 원통을
            가리킨다. "DID 문서" 사각형에서 "기록됨으로" 레이블이 붙은 화살표가
            오른쪽 위로 향해 "검증 가능한 데이터 레지스트리" 원통을 가리킨다.
          </p>
        </div>

        <dl>
          <dt>DIDs 및 DID URL</dt>
          <dd>
            탈중앙화 식별자 또는 <a>DID</a>는 세 부분으로 구성된
            <a>URI</a>입니다: 체계 <code>did:</code>, 메소드 식별자, 그리고
            <a>DID 메소드</a>에 의해 지정된 독특한 메소드별 식별자.
            <a>DIDs</a>는 <a>DID 문서</a>로 해석된다. <a>DID URL</a>은 기본
            <a>DID</a>의 구문을 확장하여 경로, 쿼리, 프래그먼트와 같은 다른 표준
            <a>URI</a> 구성 요소를 포함하여 특정 <a>리소스</a>를 찾습니다—예를
            들어, <a>DID 문서</a> 내의 암호화된 공개 키 또는
            <a>DID 문서</a> 외부의 <a>리소스</a>. 이 개념들은
            <a href="#did-syntax"></a> 및 <a href="#did-url-syntax"></a>에서
            자세히 설명됩니다.
          </dd>
          <dt>DID 주체</dt>
          <dd>
            <a>DID</a>의 주체는 정의에 따라 <a>DID</a>에 의해 식별되는 개체이다.
            <a>DID 주체</a>는 또한 <a>DID 컨트롤러</a>일 수 있다. 무엇이든
            <a>DID</a>의 주체가 될 수 있습니다: 개인, 그룹, 조직, 사물 또는
            개념. 이는 <a href="#did-subject"></a>에서 더 자세히 정의된다.
          </dd>
          <dt>DID 컨트롤러</dt>
          <dd>
            <a>DID 컨트롤러</a>는 <a>DID 메소드</a>에 의해 정의된 기능으로
            <a>DID 문서</a>에 변경을 가할 수 있는 개체(사람, 조직 또는 자율
            소프트웨어)이다. 이 기능은 일반적으로 컨트롤러를 대신하여 작동하는
            소프트웨어에 의해 사용되는 암호화 키 세트의 제어를 통해 주장되지만,
            다른 메커니즘을 통해서도 주장될 수 있다. 주의할 점은 <a>DID</a>에
            여러 컨트롤러가 있을 수 있으며, <a>DID 주체</a>가
            <a>DID 컨트롤러</a>일 수도 있다. 이 개념은
            <a href="#did-controller"></a>에서 문서화되어 있다.
          </dd>
          <dt>검증 가능한 데이터 레지스트리</dt>
          <dd>
            <a>DIDs</a>가 <a>DID 문서</a>로 해석되기 위해 일반적으로 어떤 종류의
            기반 시스템 또는 네트워크에 기록된다. 특정 기술에 관계없이
            <a>DIDs</a>를 기록하고 <a>DID 문서</a>를 생성하는 데 필요한 데이터를
            반환하는 모든 시스템은 <a>검증 가능한 데이터 레지스트리</a>라고
            한다. 예시로는 <a>분산 원장</a>, 분산 파일 시스템, 모든 종류의
            데이터베이스, P2P 네트워크 및 기타 형태의 신뢰할 수 있는 데이터
            저장소가 있다. 이 개념은 <a href="#methods"></a>에서 더 자세히
            다루어진다.
          </dd>

          <dt>DID 문서</dt>
          <dd>
            <a>DID 문서</a>는 <a>DID</a>와 관련된 정보를 포함한다. 일반적으로
            암호화된 공개 키와 같은 <a>검증 방법</a>과 <a>DID 주체</a>와의
            상호작용과 관련된 <a>서비스</a>를 표현한다. <a>DID 문서</a>에서
            지원되는 일반적인 속성들은 <a href="#core-properties"></a>에
            명시되어 있다. <a>DID 문서</a>는 바이트 스트림으로 직렬화될 수
            있습니다(참조 <a href="#representations"></a>). <a>DID 문서</a>에
            존재하는 속성은 <a href="#methods"></a>에 개요된 해당 작업에 따라
            업데이트될 수 있다.
          </dd>
          <dt>DID 메소드</dt>
          <dd>
            <a>DID 메소드</a>는 특정 유형의 <a>DID</a> 및 그와 관련된
            <a>DID 문서</a>가 생성되고, 해석되고, 업데이트되며, 비활성화되는
            메커니즘이다. <a>DID 메소드</a>는 <a href="#methods"></a>에 정의된
            별도의 DID 메소드 사양을 사용하여 정의된다.
          </dd>
          <dt>DID 변환기 및 DID 해석</dt>
          <dd>
            <a>DID 변환기</a>는 <a>DID</a>를 입력으로 받아 규범을 준수하는
            <a>DID 문서</a>를 출력으로 생성하는 시스템 구성요소이다. 이 과정을
            <a>DID 해석</a>이라고 한다. 특정 유형의 <a>DID</a>를 해석하는 단계는
            관련 <a>DID 메소드</a> 사양에 의해 정의된다. <a>DID 해석</a> 과정은
            <a href="#resolution"></a>에서 자세히 설명된다.
          </dd>
          <dt>DID URL 역참조자 및 DID URL 역참조</dt>
          <dd>
            <a>DID URL 역참조자</a>는 <a>DID URL</a>을 입력으로 받아
            <a>리소스</a>를 출력으로 생성하는 시스템 구성요소이다. 이 과정을
            <a>DID URL 역참조</a>라고 한다. <a>DID URL 역참조</a> 과정은
            <a href="#did-url-dereferencing"></a>에서 자세히 설명된다.
          </dd>
        </dl>
      </section>

      <section id="conformance">
        <p>
          이 문서에는 JSON 및 JSON-LD 콘텐츠가 포함된 예시가 있다. 이러한 예시
          중 일부에는 잘못된 문자가 포함되어 있으며, 이에는 인라인
          주석(<code>//</code>)과 예시에 큰 가치를 더하지 않는 정보를 나타내기
          위한 줄임표(<code>...</code>)가 포함된다. 구현자들은 유효한 JSON 또는
          JSON-LD로 정보를 사용하고자 할 경우 이 콘텐츠를 제거해야 한다는 점에
          유의해야 한다.
        </p>
        <p>
          일부 예시에는 이 사양에 정의되지 않은 용어들이 포함되어 있으며, 이들은
          속성 이름과 값 모두에 해당한다. 이러한 용어들은 주석(<code
            >// external (property name|value)</code
          >)으로 표시된다. <a>DID 문서</a>에서 사용될 때 이러한 용어들은 DID
          사양 레지스트리 [[?DID-SPEC-REGISTRIES]]에 공식 정의 및 JSON-LD
          컨텍스트와 함께 등록되어 있을 것으로 예상된다.
        </p>

        <p>
          <a>DID</a> 및 <a>DID 문서</a>에 대한 구현의 상호 운용성은 이 사양에
          부합하는 <a>DID</a> 및 <a>DID 문서</a>를 생성하고 구문 분석하는 구현의
          능력을 평가함으로써 테스트된다. <a>DID</a> 및 <a>DID 문서</a>의
          생산자와 소비자에 대한 상호 운용성은 <a>DID</a>와 <a>DID 문서</a>가
          규범에 부합하도록 보장함으로써 제공된다. <a>DID 메소드</a> 사양에 대한
          상호 운용성은 각 <a>DID 메소드</a> 사양의 세부 사항에 의해 제공된다.
          웹 브라우저가 모든 알려진 <a>URI</a> 체계를 구현할 필요가 없는 것과
          마찬가지로, <a>DID</a>와 작동하는 규범에 부합하는 소프트웨어가 모든
          알려진 <a>DID 메소드</a>를 구현할 필요는 없다. 그러나 특정
          <a>DID 메소드</a>의 모든 구현은 해당 메소드에 대해 상호 운용 가능할
          것으로 예상된다.
        </p>
        <p>
          <dfn>규범에 부합하는 DID</dfn>는 <a href="#identifier"></a>에서 명시된
          규칙의 구체적인 표현으로, 해당 섹션의 관련 규범적 진술에 부합하는
          것이다.
        </p>

        <p>
          <dfn>규범에 부합하는 DID 문서</dfn>는 이 사양에서 설명된 데이터 모델의
          구체적인 표현으로, <a href="#data-model"></a> 및
          <a href="#core-properties"></a>의 관련 규범적 진술에 부합하는 것이다.
          규범에 부합하는 문서의 직렬화 형식은 <a href="#representations"></a>에
          설명된 대로 결정적이고, 양방향이며, 손실이 없다.
        </p>
        <p>
          <dfn>규범에 부합하는 생산자</dfn>는 <a>규범에 부합하는 DID</a> 또는
          <a>규범에 부합하는 DID 문서</a>를 생성하고
          <a href="#representations"></a>의 관련 규범적 진술에 부합하는
          소프트웨어 및/또는 하드웨어로 구현된 알고리즘이다.
        </p>
        <p>
          <dfn>규범에 부합하는 소비자</dfn>는 <a>규범에 부합하는 DID</a> 또는
          <a>규범에 부합하는 DID 문서</a>를 소비하고
          <a href="#representations"></a>의 관련 규범적 진술에 부합하는
          소프트웨어 및/또는 하드웨어로 구현된 알고리즘이다.
        </p>
        <p>
          <dfn class="lint-ignore">규범에 부합하는 DID 변환기</dfn>는
          <a href="#did-resolution"></a>의 관련 규범적 진술에 부합하는
          소프트웨어 및/또는 하드웨어로 구현된 알고리즘이다.
        </p>

        <p>
          <dfn class="lint-ignore">규범에 부합하는 DID URL 역참조자</dfn>는
          <a href="#did-url-dereferencing"></a>의 관련 규범적 진술에 부합하는
          소프트웨어 및/또는 하드웨어로 구현된 알고리즘이다.
        </p>
        <p>
          <dfn class="lint-ignore">규범에 부합하는 DID 메소드</dfn>는
          <a href="#methods"></a>의 관련 규범적 진술에 부합하는 모든 사양이다.
        </p>
      </section>
    </section>

    <section class="informative">
      <h2>용어</h2>

      <div data-include="terms.html"></div>

      <p>
        이 규격은 위의 용어뿐만 아니라, <a href="#data-model">데이터 모델</a>을
        공식적으로 정의하기 위해 [[INFRA]] 규격의 용어를 사용한다. [[INFRA]]
        용어가 사용될 때, 예를 들어
        <a data-cite="INFRA#strings">문자열(string)</a>,
        <a data-cite="INFRA#ordered-set">집합(set)</a>,
        <a data-cite="INFRA#maps">맵(map)</a>과 같은 경우, 그것은 해당 규격에
        직접 연결된다.
      </p>
    </section>

    <section>
      <h2 id="identifier">식별자</h2>
      <p>
        이 섹션에서는 <a>DID</a> 및 <a>DID URL</a>의 공식 구문을 설명한다.
        "일반"이라는 용어는 여기에 정의된 구문을 해당 사양의 <em>특정</em>
        <a>DID 메소드</a>에 의해 정의된 구문과 구별하는 데 사용된다.
        <a>DID</a> 및 <a>DID URL</a>의 생성 프로세스와 타이밍은
        <a href="#method-operations"></a> 및 <a href="#creation-of-a-did"></a>에
        설명되어 있다.
      </p>

      <section class="normative">
        <h3 id="did-syntax">DID 구문</h3>

        <p>
          일반 <a>DID 체계</a>는 [RFC3986]을 준수하는 <a>URI</a> 체계이다. ABNF
          정의는 [RFC5234]의 구문과 <code>ALPHA</code> 및 <code>DIGIT</code>에
          대한 해당 정의를 사용하는 아래에서 찾을 수 있다. 아래 ABNF에 정의되지
          않은 다른 모든 규칙 이름은 [RFC3986]에 정의되어 있다. 모든
          <a>DID</a>는 DID 구문 ABNF 규칙을 준수해야 한다.
        </p>

        <table class="simple">
          <thead>
            <tr>
              <th>DID 구문 ABNF 규칙</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <pre class="nohighlight">
did                = "did:" method-name ":" method-specific-id
method-name        = 1*method-char
method-char        = %x61-7A / DIGIT
method-specific-id = *( *idchar ":" ) 1*idchar
idchar             = ALPHA / DIGIT / "." / "-" / "_" / pct-encoded
pct-encoded        = "%" HEXDIG HEXDIG
              </pre
                >
              </td>
            </tr>
          </tbody>
        </table>

        <p>
          DID 구문과 관련된 <a>DID 메소드</a> 요구 사항은 섹션
          <a href="#method-syntax"></a>을 참조하세요.
        </p>
      </section>

      <section class="normative">
        <h3 id="did-url-syntax">DID URL 구문</h3>

        <p>
          <a>DID URL</a>은 특정 <a>리소스</a>에 대한 네트워크 위치 식별자이다.
          이는 <a>DID 주체</a>, <a>verification methods</a>, <a>서비스</a>,
          <a>DID 문서</a>의 특정 부분 또는 기타 리소스와 같은 항목을 검색하는 데
          사용될 수 있다.
        </p>

        <p>
          다음은 [[!RFC5234]]의 문법을 사용하는 ABNF 정의이다. 이것은
          <a href="#did-syntax"></a>에 정의된 <code>did</code> 체계에 기반을
          두고 있다.
          <a data-cite="!rfc3986#section-3.3"><code>path-abempty</code></a
          >, <a data-cite="!rfc3986#section-3.4"><code>query</code></a
          >, 그리고
          <a data-cite="!rfc3986#section-3.5"><code>fragment</code></a> 구성
          요소들은 [[!RFC3986]]에 정의되어 있다. 모든 <a>DID URL</a>은 DID URL
          문법 ABNF 규칙을 준수해야 한다. <a>DID 메소드</a>는
          <a href="#method-syntax"></a>에 설명된 대로 이 규칙들을 추가로 제한할
          수 있다.
        </p>

        <table class="simple">
          <thead>
            <tr>
              <th>DID URL 구문 ABNF 규칙</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <pre class="nohighlight">
did-url = did path-abempty [ "?" query ] [ "#" fragment ]
              </pre
                >
              </td>
            </tr>
          </tbody>
        </table>

        <p class="note" title="Semicolon character is reserved for future use">
          세미콜론(<code>;</code>) 문자는 <a>DID URL</a> 문법의 규칙에 따라
          사용될 수 있지만, 이 규격의 미래 버전에서는 [[?MATRIX-URIS]]에 설명된
          대로 매개변수의 하위 구분자로 사용될 수 있다. 미래의 충돌을 피하기
          위해 개발자들은 이를 사용하지 않는 것이 좋다.
        </p>

        <section class="notoc">
          <h2>Path</h2>

          <p>
            <a>DID 경로</a>는 일반 <a>URI</a> 경로와 동일하며
            <a data-cite="RFC3986#section-3.3">RFC&nbsp;3986, 섹션 3.3</a>의
            <code>path-abempty</code> ABNF 규칙을 준수한다. <a>URI</a>와
            마찬가지로, 경로 의미론은 <a>DID 메소드</a>에 의해 지정될 수 있으며,
            이는 다시 <a>DID 컨트롤러</a>가 해당 의미론을 더욱 특화할 수 있게 할
            수 있다.
          </p>

          <pre class="example nohighlight">
did:example:123456/path
        </pre
          >
        </section>

        <section class="notoc">
          <h2>Query</h2>

          <p>
            <a>DID 쿼리</a>는 일반 <a>URI</a> 쿼리와 동일하며
            <a data-cite="RFC3986#section-3.4">RFC&nbsp;3986, 섹션 3.4</a>의
            <code>query</code> ABNF 규칙을 준수한다. 이 문법 기능은
            <a href="#did-parameters"></a>에서 자세히 설명되어 있다.
          </p>

          <pre class="example nohighlight">
did:example:123456?versionId=1
        </pre
          >
        </section>

        <section class="notoc">
          <h2>Fragment</h2>

          <p>
            <a>DID 프레그먼트</a>의 문법과 의미론은 일반 <a>URI</a> 프레그먼트와
            동일하며
            <a data-cite="RFC3986#section-3.5">RFC&nbsp;3986, 섹션 3.5</a>의
            <code>fragment</code> ABNF 규칙을 준수한다.
          </p>

          <p>
            <a>DID 프레그먼트</a>는 <a>DID 문서</a>나 외부 <a>리소스</a>로의
            방법에 독립적인 참조로 사용한다. 아래에는 DID 프레그먼트 식별자의 몇
            가지 예시가 나와 있다.
          </p>

          <pre
            class="example nohighlight"
            title="A unique verification method in a DID Document"
          >
did:example:123#public-key-0
        </pre
          >

          <pre
            class="example nohighlight"
            title="A unique service in a DID Document"
          >
did:example:123#agent
        </pre
          >

          <pre
            class="example nohighlight"
            title="A resource external to a DID Document"
          >
did:example:123?service=agent&amp;relativeRef=/credentials#degree
        </pre
          >

          <p class="note" title="표현별 프레그먼트 의미론">
            상호 운용성을 극대화하기 위해, 구현자들은 <a>DID 프레그먼트</a>가
            <a>표현</a>간에 동일하게 해석되도록 보장하는 데 주의를 기울여야
            합니다(참조 <a href="#representations"></a>). 예를 들어, JSON
            Pointer [[?RFC6901]]가 <a>DID 프레그먼트</a>에서 사용될 수 있지만,
            비-JSON <a>표현</a>에서는 동일한 방식으로 해석되지 않을 것이다.
          </p>
          <p>
            이 섹션의 의미론과 호환되며 그 위에 덧붙여진 프레그먼트 식별자에
            대한 추가적인 의미론은 <a href="#application-did-ld-json"></a>에서
            JSON-LD 표현에 대해 설명되어 있다. <a>DID 프레그먼트</a>를 어떻게
            역참조하는지에 대한 정보는 <a href="#did-url-dereferencing"></a>에서
            확인할 수 있다.
          </p>
        </section>

        <section>
          <h2>DID Parameters</h2>

          <p>
            <a>DID URL</a> 문법은 <a href="#query"></a>에서 설명된
            <code>query</code> 구성 요소를 기반으로 한 매개변수에 대한 간단한
            형식을 지원한다. <a>DID URL</a>에 DID 매개변수를 추가하는 것은 그
            매개변수가 <a>리소스</a>에 대한 식별자의 일부가 된다는 것을
            의미한다.
          </p>

          <pre
            class="example nohighlight"
            title="A DID URL with a 'versionTime' DID parameter"
          >
did:example:123?versionTime=2021-05-10T17:00:00Z
        </pre
          >

          <pre
            class="example nohighlight"
            title="A DID URL with a 'service' and a 'relativeRef' DID parameter"
          >
did:example:123?service=files&amp;relativeRef=/resume.pdf
        </pre
          >

          <p>
            일부 DID 매개변수는 특정 <a>DID 메소드</a>와 완전히 독립적이며, 모든
            <a>DID</a>에 대해 동일하게 작동한다. 다른 DID 매개변수는 모든
            <a>DID 메소드</a>에서 지원되지 않다. 선택적 매개변수가 지원되는
            경우, 지원하는 <a>DID 메소드</a> 전반에 걸쳐 균일하게 작동할 것으로
            예상된다. 다음 표는 모든 <a>DID 메소드</a>에서 동일하게 작동하는
            일반적인 DID 매개변수를 제공한다. 모든
            <a href="#did-parameters">DID 매개변수</a>에 대한 지원은 선택적이다.
          </p>
          <p class="note">
            일반적으로 DID URL 역참조 구현체는 추가 구현 세부사항에 대해
            [[?DID-RESOLUTION]]을 참조할 것으로 예상된다. 이 사양의 범위는 가장
            일반적인 쿼리 매개변수의 계약만을 정의한다.
          </p>
          <table class="simple">
            <thead>
              <tr>
                <th>Parameter&nbsp;Name</th>
                <th>Description</th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  <code><a>service</a></code>
                </td>
                <td>
                  서비스 ID를 통해 <a>DID 문서</a>에서 서비스를 식별한다.
                  존재하는 경우, 관련 값은 반드시
                  <a data-lt="ascii string">ASCII 문자열</a>이어야 한다.
                </td>
              </tr>
              <tr>
                <td>
                  <code>relativeRef</code>
                </td>
                <td>
                  <a data-cite="RFC3986#section-4.2">RFC3986 섹션 4.2</a>에 따른
                  상대적인 <a>URI</a> 참조로, <code>service</code> 매개변수를
                  사용하여 <a>DID 문서</a>에서 선택된 <a>서비스 엔드포인트</a>에
                  위치한 <a>리소스</a>를 식별한다. 존재하는 경우, 관련 값은
                  반드시 <a data-lt="ascii string">ASCII 문자열</a>이어야 하며
                  <a data-cite="RFC3986#section-2.1">RFC3986 섹션 2.1</a>에
                  명시된 대로 특정 문자에 대해 퍼센트 인코딩을 사용해야 한다.
                </td>
              </tr>
              <tr>
                <td>
                  <code>versionId</code>
                </td>
                <td>
                  해석될 <a>DID 문서</a>의 특정 버전을 식별합니다(버전 ID는
                  순차적이거나, <a>UUID</a>이거나, 메소드별 특성을 가질 수
                  있습니다). 존재하는 경우, 관련 값은 반드시
                  <a data-lt="ascii string">ASCII 문자열</a>이어야 한다.
                </td>
              </tr>
              <tr>
                <td>
                  <code>versionTime</code>
                </td>
                <td>
                  해석될 <a>DID 문서</a>의 특정 버전 타임스탬프를 식별한다. 즉,
                  특정 시간에 <a>DID</a>에 유효했던 <a>DID 문서</a>이다.
                  존재하는 경우, 관련 값은
                  <a href="https://www.w3.org/TR/xmlschema11-2/"
                    >W3C XML 스키마 정의 언어 (XSD) 1.1 파트 2: 데이터 타입</a
                  >
                  [[XMLSCHEMA11-2]]의 섹션 3.3.7에 정의된 유효한 XML 날짜/시간
                  값인 ASCII 문자열이어야 한다. 이 날짜/시간 값은 UTC
                  00:00:00으로 정규화되어야 하며, 초 단위의 소수점 이하 정밀도는
                  포함하지 않아야 한다. 예를 들어:
                  <code>2020-12-20T19:17:47Z</code>.
                </td>
              </tr>
              <tr>
                <td>
                  <code>hl</code>
                </td>
                <td>
                  [[?HASHLINK]]에 명시된 대로 무결성 보호를 추가하기 위한
                  <a>DID 문서</a>의 리소스 해시이다. 이 매개변수는 규범적이지
                  않다. 존재하는 경우, 관련 값은 반드시
                  <a data-lt="ascii string">ASCII 문자열</a>이어야 한다.
                </td>
              </tr>
            </tbody>
          </table>

          <p>
            구현자들과 <a>DID 메소드</a> 사양 저자들은 여기에 나열되지 않은
            추가적인 DID 매개변수를 사용할 수 있다. 최대한의 상호 운용성을 위해,
            DID 매개변수가 다른 의미를 가진 동일한 DID 매개변수와의 충돌을
            피하기 위해 DID 사양 레지스트리 메커니즘 [[?DID-SPEC-REGISTRIES]]을
            사용하는 것이 권장된다.
          </p>
          <p>
            DID 매개변수는 <a>URL</a>이 <a>DID</a>만을 사용하는 것보다 더
            정밀하게 <a>리소스</a>를 참조할 필요가 있는 명확한 사용 사례가 있을
            때 사용될 수 있다. DID 매개변수는 동일한 기능이 <a>DID 변환기</a>에
            입력 메타데이터를 전달함으로써 표현될 수 있을 때 사용되지
            <em>않을</em> 것으로 예상된다. 이러한 매개변수를 처리하는 추가적인
            고려사항은 [[?DID-RESOLUTION]]에서 논의된다.
          </p>

          <p class="note" title="DID 매개변수와 DID 해석">
            <a>DID 해석</a> 및 <a>DID URL 역참조</a> 기능은 <a>DID URL</a>의
            일부가 아닌 입력 메타데이터를 <a>DID 변환기</a>에 전달함으로써
            영향을 받을 수 있습니다(참조
            <a href="#did-resolution-options"></a>). 이는 HTTP와 비슷한데, 특정
            매개변수가 HTTP URL에 포함되거나, 또는 역참조 과정 중에 HTTP 헤더로
            전달될 수 있다. 중요한 구별점은 <a>DID URL</a>의 일부인 DID
            매개변수는 <em>어떤 <a>리소스</a>가 식별되는지</em>를 명시하는 데
            사용되어야 하며, <a>DID URL</a>의 일부가 아닌 입력 메타데이터는
            <em>그 <a>리소스</a>가 어떻게 해석되거나 역참조되는지</em>를
            제어하는 데 사용되어야 한다.
          </p>
        </section>

        <section>
          <h2>Relative DID URLs</h2>

          <p>
            상대적인 <a>DID URL</a>은 <a>DID 문서</a> 내에서
            <code>did:&lt;method-name>:&lt;method-specific-id></code>로 시작하지
            않는 모든 URL 값을 의미한다. 보다 구체적으로,
            <a href="#did-syntax"></a>에서 정의된 ABNF로 시작하지 않는 모든 URL
            값을 말한다. 이 URL은 동일한 <a>DID 문서</a> 내의 <a>리소스</a>를
            참조할 것으로 예상된다. 상대적인 <a>DID URL</a>은 상대 경로 구성
            요소, 쿼리 매개변수 및 프래그먼트 식별자를 포함할 수 있다.
          </p>
          <p>
            상대적인 <a>DID URL</a> 참조를 해결할 때,
            <a data-cite="RFC3986#section-5">RFC3986 섹션 5: 참조 해결</a>에
            명시된 알고리즘을 사용해야 한다. <strong>기본 URI</strong> 값은
            <a>DID 주체</a>와 연관된 <a>DID</a>이며, 참조
            <a href="#did-subject"></a>. <strong>스키마</strong>는
            <code>did</code>이고, <strong>권한</strong>은
            <code>&lt;method-name>:&lt;method-specific-id></code>의 조합이며,
            <strong>경로</strong>, <strong>쿼리</strong> 및
            <strong>프래그먼트</strong> 값은 각각 <a href="#path"></a>,
            <a href="#query"></a> 및 <a href="#fragment"></a>에서 정의된 것이다.
          </p>
          <p>
            상대적인 <a>DID URL</a>은 절대 URL을 사용하지 않고
            <a>DID 문서</a>에서 <a>검증 방법</a> 및 <a>서비스</a>를 참조하는 데
            종종 사용된다. 저장 공간 크기가 고려 사항인 <a>DID 메소드</a>는
            <a>DID 문서</a>의 저장 크기를 줄이기 위해 상대 URL을 사용할 수 있다.
          </p>

          <pre
            class="example nohighlight"
            title="An example of a relative DID URL"
          >
{
  "@context": [
    "https://www.w3.org/ns/did/v1",
    "https://w3id.org/security/suites/ed25519-2020/v1"
  ]
  "id": "did:example:123456789abcdefghi",
  "verificationMethod": [{
    "id": "did:example:123456789abcdefghi#key-1",
    "type": "Ed25519VerificationKey2020", <span class="comment">// external (property value)</span>
    "controller": "did:example:123456789abcdefghi",
    "publicKeyMultibase": "zH3C2AVvLMv6gmMNam3uVAjZpfkcJCwDwnZn6z3wXmqPV"
  }, ...],
  "authentication": [
<span class="comment">    // a relative DID URL used to reference a verification method above</span>
    "<span class="highlight">#key-1</span>"
  ]
}
        </pre>

          <p>
            In the example above, the relative <a>DID URL</a> value will be
            transformed to an absolute <a>DID URL</a> value of
            <code>did:example:123456789abcdefghi#key-1</code>.
          </p>
        </section>
      </section>
    </section>

    <section>
      <h1>Data Model</h1>
      <p>
        이 사양은 <a>DID 문서</a>와 DID 문서 데이터 구조를 표현하는 데 사용될 수
        있는 데이터 모델을 정의한다. 이 데이터 모델은 여러 구체적인
        <a>표현</a>으로 직렬화될 수 있다. 이 섹션은 데이터 모델의 고수준 설명,
        데이터 모델에서 다양한 유형의 속성이 표현되는 방법에 대한 설명, 그리고
        데이터 모델 확장 지침을 제공한다.
      </p>
      <p>
        <a>DID 문서</a>는 <a data-cite="INFRA#maps">맵</a>의
        <a data-cite="INFRA#map-entry">엔트리</a>들로 구성되며, 각 엔트리는
        키/값 쌍으로 구성된다. <a>DID 문서</a> 데이터 모델은 적어도 두 가지 다른
        클래스의 엔트리를 포함한다. 첫 번째 클래스의 엔트리는 속성이라고 하며,
        <a href="#core-properties"></a> 섹션에서 명시된다. 두 번째 클래스는
        <a>표현별 항목</a>으로 구성되며,
        <a href="#representations"></a> 섹션에서 명시된다.
      </p>

      <figure id="did-document-entries">
        <img
          style="margin: auto; display: block"
          src="diagrams/diagram-did-document-entries.svg"
          alt="
Diagram illustrating the entries in the DID document, including properties
and representation-specific entries; some entries are defined by this
specification; others are defined by registered or unregistered extensions."
        />
        <figcaption>
          The entries in a DID document. See also:
          <a class="longdesc-link" href="#did-document-entries-longdesc"
            >narrative description</a
          >.
        </figcaption>
      </figure>

      <div class="longdesc" id="did-document-entries-longdesc">
        다이어그램의 제목은 "DID 문서 맵의 엔트리들"이다. 다이어그램 중앙을
        가로지르는 점선 회색 선이 있다. 이 선 위의 공간은 "속성(Properties)"으로
        레이블이 붙고, 아래쪽 공간은 "표현별 항목(Representation-specific
        entries)"으로 레이블이 붙는다. 다이어그램에는 여섯 개의 레이블이 붙은
        사각형이 있으며, 세 개는 점선 회색 선 위에, 나머지 세 개는 아래에
        위치한다. 네 개의 사각형(왼쪽 상단, 가운데 상단, 왼쪽 하단, 가운데
        하단)을 포함하는 큰 녹색 사각형은 "DID 사양 레지스트리(DID Specification
        Registries)"로 레이블이 붙는다. 가장 왼쪽에 있는 두 사각형(왼쪽 상단과
        왼쪽 하단)은 파란색으로 윤곽이 그려지고 레이블이 붙으며, 다음과 같다.
        왼쪽 상단 사각형은 "핵심 속성(Core Properties)"이라고 레이블이 붙고,
        "id, alsoKnownAs, controller, authentication, verificationMethod,
        service, serviceEndpoint, ..."라는 텍스트가 포함된다. 왼쪽 하단 사각형은
        "핵심 표현별 항목(Core Representation-specific Entries)"이라고 레이블이
        붙고, "@context"라는 텍스트가 포함된다. 네 개의 오른쪽 사각형(가운데
        상단, 오른쪽 상단, 가운데 하단, 오른쪽 하단)은 회색으로 윤곽이 그려지고
        검은색으로 레이블이 붙으며, 다음과 같다. 가운데 상단 사각형은 "속성
        확장(Property Extensions)"이라고 레이블이 붙고, "ethereumAddress"라는
        텍스트가 포함된다. 가운데 하단 사각형은 "표현별 항목
        확장(Representation-specific Entry Extensions)"이라고 레이블이 붙고,
        다른 텍스트는 포함되지 않다. 오른쪽 상단 사각형은 "등록되지 않은 속성
        확장(Unregistered Property Extensions)"이라고 레이블이 붙고, "foo"라는
        텍스트가 포함된다. 오른쪽 하단 사각형은 "등록되지 않은 표현별 항목
        확장(Unregistered Representation-specific Entry Extensions)"이라고
        레이블이 붙고, "%YAML, xmlns"라는 텍스트가 포함된다.
      </div>

      <p>
        <a>DID 문서</a> 데이터 모델의 모든 엔트리 키는
        <a data-cite="INFRA#strings">문자열</a>이다. 모든 엔트리 값은 아래 표에
        있는 추상 데이터 타입 중 하나를 사용하여 표현되며, 각 <a>표현</a>은 각
        데이터 타입의 구체적인 직렬화 형식을 명시한다.
      </p>

      <table class="simple" id="data-types">
        <thead>
          <tr>
            <th>Data&nbsp;Type</th>
            <th>Considerations</th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              <a data-cite="INFRA#maps">map</a>
            </td>
            <td>
              키/값 쌍의 유한한 순서 있는 시퀀스로, [INFRA]에 명시된 대로 같은
              키가 두 번 나타나지 않다. 맵은 때때로 [INFRA]에서
              <a data-cite="INFRA#maps">ordered map</a>으로 언급된다.
            </td>
          </tr>
          <tr>
            <td>
              <a data-cite="INFRA#list">list</a>
            </td>
            <td>[INFRA]에 명시된 대로 항목들의 유한한 순서 있는 시퀀스이다.</td>
          </tr>
          <tr>
            <td>
              <a data-cite="INFRA#ordered-set">set</a>
            </td>
            <td>
              같은 항목이 두 번 포함되지 않는, [INFRA]에 명시된 대로 항목들의
              유한한 순서 있는 시퀀스이다. 세트는 때때로 [INFRA]에서
              <a data-cite="INFRA#ordered-set">ordered set</a>로 언급된다.
            </td>
          </tr>
          <tr>
            <td>
              <dfn>datetime</dfn>
            </td>
            <td>
              [<a data-cite="XMLSCHEMA11-2#dateTime">XMLSCHEMA11-2</a>]에 명시된
              대로 <code>dateTime</code>에 의해 표현될 수 있는 모든 값을 손실
              없이 표현할 수 있는 날짜 및 시간 값이다.
            </td>
          </tr>
          <tr>
            <td>
              <a data-cite="INFRA#string">string</a>
            </td>
            <td>
              [INFRA]에 명시된 대로 주로 인간이 읽을 수 있는 언어를 표현하는 데
              사용되는 코드 단위의 시퀀스이다.
            </td>
          </tr>
          <tr>
            <td>
              <dfn>integer</dfn>
            </td>
            <td>
              분수 구성 요소가 없는 실수로 [<a data-cite="XMLSCHEMA11-2#decimal"
                >XMLSCHEMA11-2</a
              >]에 명시되어 있다. 상호 운용성을 극대화하기 위해, 구현자는
              <a data-cite="rfc8259#section-6">RFC8259, Section 6: Numbers</a>
              숫자에 대한 정수 관련 조언을 주의 깊게 따를 것을 권장한다.
            </td>
          </tr>
          <tr>
            <td>
              <dfn>double</dfn>
            </td>
            <td>
              [<a data-cite="XMLSCHEMA11-2#double">XMLSCHEMA11-2</a>]에 명시된
              대로 임의의 실수를 근사하는 데 종종 사용되는 값이다. 상호 운용성을
              극대화하기 위해, 구현자는
              <a data-cite="rfc8259#section-6">RFC8259, Section 6: Numbers</a>에
              대한 더블 관련 조언을 주의 깊게 따를 것을 권장한다.
            </td>
          </tr>
          <tr>
            <td>
              <a data-cite="INFRA#boolean">boolean</a>
            </td>
            <td>[INFRA]에서 정의된 대로 참 또는 거짓인 값이다.</td>
          </tr>
          <tr>
            <td>
              <a data-cite="INFRA#nulls">null</a>
            </td>
            <td>
              값이 없음을 나타내는 데 사용되는 값으로 [INFRA]에서 정의되어 있다.
            </td>
          </tr>
        </tbody>
      </table>

      <p class="advisement" title="Ordering of values">
        <a href="#data-model">데이터 모델</a>이 [INFRA]에서 사용하는 용어를
        사용하여 정의된 결과로, <a data-cite="INFRA#list">리스트</a>,
        <a data-cite="INFRA#ordered-map">maps</a> and
        <a data-cite="INFRA#ordered-set">sets</a>와 같이 하나 이상의 항목을
        포함할 수 있는 속성 값은 명시적으로 순서가 지정된다. [INFRA]의 모든
        리스트와 유사한 값 구조는 순서가 있으며, 그 순서가 중요한지 여부와
        관계없이 순서가 있다. 이 규격의 목적상, 다르게 명시되지 않는 한,
        <a data-cite="INFRA#ordered-map">map</a>과
        <a data-cite="INFRA#ordered-set">set</a>의 순서는 중요하지 않으며,
        구현이 결정적으로 순서 있는 값을 생성하거나 소비할 것으로 기대되지 않다.
      </p>

      <section>
        <h2>확장성(Extensibility)</h2>
        <p>데이터 모델은 두 가지 유형의 확장성을 지원한다.</p>
        <ol>
          <li>
            최대한의 상호 운용성을 위해, 확장 프로그램은 W3C DID 규격 레지스트리
            메커니즘 [[?DID-SPEC-REGISTRIES]]을 사용해야 한다. 새로운 속성이나
            다른 확장 프로그램의 경우, 이 메커니즘을 사용하는 것은 두 가지 다른
            <a>표현</a>이 함께 작동할 수 있음을 보장하는 유일한 지정된
            메커니즘이며, 대표는 DID 규격 레지스트리의 사용을 요구하지 않는
            포함하되 이에 국한되지 않은 다른 확장성 메커니즘을 정의할 수 있다.
          </li>
          <li>
            이러한 확장 메커니즘은 다른 모든 준수하는 <a>표현</a>으로의 손실
            없는 변환을 지원할 수도 있다. <a>표현</a>을 위한 확장 메커니즘은
            모든 속성과 <a>표현</a> 문법을
            <a href="#data-model">데이터 모델</a>과 그 유형 시스템으로의 매핑을
            정의해야 한다.
          </li>
        </ol>
        <p class="note" title="등록되지 않은 확장은 신뢰도가 낮다.">
          등록되지 않은 확장은 신뢰도가 낮다. 항상 DID 규격 레지스트리
          [[?DID-SPEC-REGISTRIES]]에 기록되지 않은 상호 이해하는 확장이나
          <a>표현</a>을 사용하기로 두 특정 구현이 사전에 합의할 가능성이 있으며,
          이러한 구현과 더 큰 생태계 사이의 상호 운용성은 신뢰도가 낮다.
        </p>
      </section>
    </section>

    <section>
      <h1>핵심 속성(Core Properties)</h1>

      <p>
        <a>DID</a>는 <a>DID 문서</a>와 연관된다. <a>DID 문서</a>는
        <a href="#data-model">데이터 모델</a>을 사용하여
        <a href="#representations">표현</a>되며, 표현으로 직렬화될 수 있다. 다음
        섹션은 <a>DID 문서</a>의 속성을 정의하며, 이러한 속성이 필수인지
        선택적인지를 포함한다. 이러한 속성은 <a>DID 주체</a>와 속성의 값 사이의
        관계를 설명한다.
      </p>
      <p>
        다음 표에는 이 규격에 의해 정의된 핵심 속성에 대한 정보 참조가 포함되어
        있으며, 예상되는 값과 필수 여부를 포함한다. 표의 속성 이름은 각 속성의
        규범적 정의와 더 자세한 설명으로 연결된다.
      </p>
      <p class="note" title="다른 유형의 맵에서 사용되는 속성 이름">
        다른 유형의 맵에서 사용되는 속성 이름 <code>id</code>,
        <code>type</code>, 및 <code>controller</code> 속성 이름은 가능한 제약
        사항에서 차이가 있을 수 있는 다양한 유형의 맵에 존재할 수 있다.
      </p>

      <section class="notoc">
        <h2>DID 문서 속성</h2>

        <table class="simple">
          <thead>
            <tr>
              <th>Property</th>
              <th>Required?</th>
              <th>Value constraints</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <code><a>id</a></code>
              </td>
              <td>yes</td>
              <td>
                <a href="#did-syntax"></a>의 규칙을 준수하는
                <a data-cite="INFRA#string">문자열</a>입니다.
              </td>
            </tr>
            <tr>
              <td>
                <code><a>alsoKnownAs</a></code>
              </td>
              <td>no</td>
              <td>
                [[RFC3986]]에 대한 <a>URIs</a>의 규칙을 준수하는
                <a data-cite="INFRA#string">문자열</a>의
                <a data-cite="INFRA#ordered-set">set</a>이다.
              </td>
            </tr>
            <tr>
              <td>
                <code><a>controller</a></code>
              </td>
              <td>no</td>
              <td>
                <a href="#did-syntax"></a>의 규칙을 준수하는
                <a data-cite="INFRA#string">문자열</a> 또는
                <a data-cite="INFRA#string">문자열</a>의
                <a data-cite="INFRA#ordered-set">set</a>이다.
              </td>
            </tr>
            <tr>
              <td>
                <code><a>verificationMethod</a></code>
              </td>
              <td>no</td>
              <td>
                <a href="#verification-method-properties"></a>을 준수하는
                <a>Verification Method</a>
                <a data-cite="INFRA#ordered-map">maps</a>의
                <a data-cite="INFRA#ordered-set">set</a>이다.
              </td>
            </tr>
            <tr>
              <td>
                <code><a>authentication</a></code>
              </td>
              <td>no</td>
              <td rowspan="5">
                <a href="#verification-method-properties"></a>을 준수하는
                <a>Verification Method</a>
                <a data-cite="INFRA#ordered-map">maps</a>의
                <a data-cite="INFRA#ordered-set">set</a>) 또는
                <a href="#did-url-syntax"></a>의 규칙을 준수하는
                <a data-cite="INFRA#string">문자열</a>의
                <a data-cite="INFRA#ordered-set">set</a>이다.
              </td>
            </tr>
            <tr>
              <td>
                <code><a>assertionMethod</a></code>
              </td>
              <td>no</td>
            </tr>
            <tr>
              <td>
                <code><a>keyAgreement</a></code>
              </td>
              <td>no</td>
            </tr>
            <tr>
              <td>
                <code><a>capabilityInvocation</a></code>
              </td>
              <td>no</td>
            </tr>
            <tr>
              <td>
                <code><a>capabilityDelegation</a></code>
              </td>
              <td>no</td>
            </tr>
            <tr>
              <td>
                <code><a>service</a></code>
              </td>
              <td>no</td>
              <td>
                <a href="#service-properties"></a>의 규칙을 준수하는
                <a>Service Endpoint</a>
                <a data-cite="INFRA#ordered-map">maps</a>의
                <a data-cite="INFRA#ordered-set">set</a>이다.
              </td>
            </tr>
          </tbody>
        </table>
      </section>

      <section class="notoc">
        <h2 id="verification-method-properties">Verification Method 속성</h2>

        <table class="simple">
          <thead>
            <tr>
              <th>Property</th>
              <th>Required?</th>
              <th>Value constraints</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>id</code></td>
              <td>yes</td>
              <td>
                <a href="#did-url-syntax"></a>의 규칙을 준수하는
                <a data-cite="INFRA#string">문자열</a>이다.
              </td>
            </tr>
            <tr>
              <td>
                <code><a>controller</a></code>
              </td>
              <td>yes</td>
              <td>
                <a href="#did-syntax"></a>의 규칙을 준수하는
                <a data-cite="INFRA#string">문자열</a>이다.
              </td>
            </tr>
            <tr>
              <td><code>type</code></td>
              <td>yes</td>
              <td><a data-cite="INFRA#string">문자열</a>이다.</td>
            </tr>
            <tr>
              <td>
                <code><a>publicKeyJwk</a></code>
              </td>
              <td>no</td>
              <td>
                [[RFC7517]]을 준수하는 JSON Web Key를 나타내는
                <a data-cite="INFRA#maps">map</a>이다. 추가 제약사항은
                <a href="#dfn-publickeyjwk">publicKeyJwk의 정의</a>를 참조.
              </td>
            </tr>
            <tr>
              <td>
                <code><a>publicKeyMultibase</a></code>
              </td>
              <td>no</td>
              <td>
                [[?MULTIBASE]]로 인코딩된 공개키를 준수하는
                <a data-cite="INFRA#string">문자열</a>이다.
              </td>
            </tr>
          </tbody>
        </table>
      </section>

      <section class="notoc">
        <h3 id="service-properties">Service 속성</h3>

        <table class="simple">
          <thead>
            <tr>
              <th>Property</th>
              <th>Required?</th>
              <th>Value constraints</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>id</code></td>
              <td>yes</td>
              <td>
                [[RFC3986]]에 대한 <a>URIs</a>의 규칙을 준수하는
                <a data-cite="INFRA#string">문자열</a>이다.
              </td>
            </tr>
            <tr>
              <td><code>type</code></td>
              <td>yes</td>
              <td>
                <a data-cite="INFRA#string">문자열</a> 또는
                <a data-cite="INFRA#string">문자열</a>의
                <a data-cite="INFRA#ordered-set">set</a>입니다.
              </td>
            </tr>
            <tr>
              <td>
                <code><a>serviceEndpoint</a></code>
              </td>
              <td>yes</td>
              <td>
                [[RFC3986]]에 대한 <a>URIs</a>의 규칙을 준수하는
                <a data-cite="INFRA#string">문자열</a>,
                <a data-cite="INFRA#string">map</a>, 또는 [[RFC3986]]에 대한
                <a>URIs</a>의 규칙을 준수하는 하나 이상의
                <a data-cite="INFRA#string">문자열</a>과 또는
                <a data-cite="INFRA#string">map</a>으로 구성된
                <a data-cite="INFRA#ordered-set">set</a>이다.
              </td>
            </tr>
          </tbody>
        </table>
      </section>

      <section>
        <h2 id="identifiers">식별자(Identifiers)</h2>

        <p>
          이 섹션은 <a>DID 문서</a>가 <a>DID 주체</a>와 <a>DID 컨트롤러</a>를
          위한 식별자를 포함하는 메커니즘을 설명한다.
        </p>

        <section>
          <h3 id="did-subject">DID 주체(DID Subject)</h3>
          <p>
            특정 <a>DID 주체</a>에 대한 <a>DID</a>는 <a>DID 문서</a>의
            <code><a>id</a></code> 속성을 사용하여 표현된다.
          </p>

          <dl>
            <dt><dfn>id</dfn></dt>
            <dd>
              <code>id</code>의 값은 <a href="#did-syntax"></a>의 규칙을
              준수하는 <a data-cite="INFRA#string">문자열</a>이어야 하며
              <a>DID 문서</a>의 <a href="#data-model">데이터 모델</a>의 루트
              <a data-cite="INFRA#ordered-map">map</a>에 반드시 존재해야 한다.
            </dd>
          </dl>

          <pre class="example nohighlight">
{
  "id": "did:example:123456789abcdefghijk"
}
        </pre
          >

          <p>
            <code>id</code> 속성은 <a>DID 문서</a>의 <em>최상위</em>
            <a data-cite="INFRA#ordered-map">map</a>에 존재할 때만
            <a>DID 주체</a>의 <a>DID</a>를 나타낸다.
          </p>
          <p class="note" title="중간 표현">
            <a>DID 메소드</a> 규격은 <a>DID 문서</a>의
            <code><a>id</a></code> 속성이 포함되지 않는 중간 표현을 생성할 수
            있다. 예를 들어 <a>DID 변환기</a>가 <a>DID 해석</a>을 수행할 때와
            같은 경우입니다. 그러나 완전히 해석된 <a>DID 문서</a>는 항상 유효한
            <code><a>id</a></code>
            속성을 포함한다.
          </p>
        </section>

        <section>
          <h3 id="did-controller">DID 컨트롤러(DID Controller)</h3>

          <p>
            <a>DID 컨트롤러</a>는 <a>DID 문서</a> 변경 권한을 부여받은
            개체입니다. <a>DID 컨트롤러</a>를 승인하는 과정은 DID 메소드에 의해
            정의된다.
          </p>

          <dl>
            <dt><dfn id="controller">컨트롤러</dfn></dt>
            <dd>
              <code>컨트롤러</code>의 속성은 선택 사항입니다. 존재하는 경우,
              값은 <a href="#did-syntax"></a>의 규칙을 준수하는
              <a data-cite="INFRA#string">문자열</a> 또는
              <a data-cite="INFRA#string">문자열</a>의
              <a data-cite="INFRA#ordered-set">set</a>여야 한다. 해당하는 DID
              문서(들)은 특정 <a>검증 방법</a>을 특정 목적으로 사용할 수 있도록
              명시적으로 허용하는 <a>검증 관계</a>를 포함해야 한다.
            </dd>
          </dl>

          <p>
            <a>DID 문서</a>에 <code><a>컨트롤러</a></code> 속성이 존재하는 경우,
            그 값은 하나 이상의 DID를 표현한다. 그 <a>DID</a>들의
            <a>DID 문서</a>에 포함된 모든 검증 방법은 권위 있는 것으로
            받아들여져야 하며, 그 <a>검증 방법</a>을 만족하는 증명은
            <a>DID 주체</a>가 제공한 증명과 동등하게 간주되어야 한다.
          </p>

          <pre
            class="example nohighlight"
            title="DID document with a controller property"
          >
{
  "@context": "https://www.w3.org/ns/did/v1",
  "id": "did:example:123456789abcdefghi",
  "controller": "did:example:bcehfew7h32f32h7af3",
}
        </pre
          >

          <p class="note" title="인가 대 인증(Authorization vs authentication)">
            <code>컨트롤러</code>의 값에 의해 제공되는 승인은
            <a href="#authentication"></a>에서 설명하는 인증과 별개입니다. 이는
            특히 암호화 키 손실의 경우 키 복구에 중요하다. 여기서
            <a>DID 주체</a>는 더 이상 자신의 키에 접근할 수 없거나, 키 타협의
            경우, <a>DID 컨트롤러</a>의 신뢰할 수 있는 제3자가 공격자에 의한
            악의적인 활동을 무효화할 필요가 있다. 위협 모델 및 공격 벡터와
            관련된 정보는 <a href="#security-considerations"></a>을 참조.
          </p>
        </section>

        <section>
          <h3>Also Known As</h3>

          <p>
            <a>DID 주체</a>는 다양한 목적을 위해서나 서로 다른 시간에 대해 여러
            식별자를 가질 수 있다. 두 개 이상의 <a>DID</a>(또는 다른 유형의
            <a>URI</a>)가 동일한 <a>DID 주체</a>를 참조한다는 주장은
            <code><a>alsoKnownAs</a></code> 속성을 사용하여 제기될 수 있다.
          </p>

          <dl>
            <dt><dfn>alsoKnownAs</dfn></dt>
            <dd>
              <code>alsoKnownAs</code> 속성은 선택 사항입니다. 속성이 존재하는
              경우, 값은 [[RFC3986]]에 따른 <a>URI</a>를 준수하는
              <a data-cite="INFRA#ordered-set">set</a>의 각 항목이어야 한다.
            </dd>
            <dd>
              이 관계는 이 식별자의 주체가 하나 이상의 다른 식별자에 의해 또한
              식별된다는 선언이다.
            </dd>
          </dl>

          <div class="note" title="Equivalence and alsoKnownAs">
            <p>
              응용 프로그램은 <code><a>alsoKnownAs</a></code> 관계가 역방향으로
              상호 작용할 경우 두 식별자를 등가로 간주할 수 있다. 이 역 관계가
              없는 경우에는 등가로 간주하지 <em>않는</em> 것이 최선이다. 즉,
              <code><a>alsoKnownAs</a></code> 주장의 존재가 이 주장이 참임을
              증명하지는 않다. 따라서 요청하는 당사자가
              <code>alsoKnownAs</code> 주장의 독립적인 검증을 받는 것이 강력히
              권장된다.
            </p>
            <p>
              <a>DID 주체</a>가 다양한 목적을 위해 다른 식별자를 사용할 수 있기
              때문에, 두 식별자 간의 강력한 등가성 기대나 해당하는 두
              <a>DID 문서</a>의 정보를 병합하는 것은 상호 관계가
              <em>있더라도</em> 반드시 적절하지는 않다.
            </p>
          </div>
        </section>
      </section>

      <section>
        <h2 id="verification-methods">검증 방법(Verification Method)</h2>
        <p>
          <a>DID 문서</a>는 암호화 공개 키와 같은 <a>검증 방법</a>을 표현할 수
          있으며, 이는 <a>DID 주체</a> 또는 관련 당사자와의 상호 작용을
          <a>인증</a>하거나 인가하는 데 사용될 수 있다. 예를 들어, 암호화 공개
          키는 디지털 서명과 관련하여 <a>검증 방법</a>으로 사용될 수 있으며, 이
          경우 서명자가 관련 암호화 개인 키를 사용할 수 있음을 검증합니다.
          <a>검증 방법</a>은 많은 매개변수를 가질 수 있다. 이의 예는 암호화
          임계값 서명에 기여해야 하는 다섯 개의 암호화 키 중에서 어느 세 개가
          필요한 세트이다.
        </p>

        <dl>
          <dt><dfn>verificationMethod</dfn></dt>
          <dd>
            <p>
              <code>verificationMethod</code> 속성은 선택 사항이다. 속성이
              존재하는 경우, 값은 <a data-cite="INFRA#ordered-map">map</a>을
              사용하여 표현된 <a>검증 방법</a>의
              <a data-cite="INFRA#ordered-set">set</a>여야 한다. 검증 방법
              <a data-cite="INFRA#ordered-map">map</a>에는 <code>id</code>,
              <code>type</code>, <code>controller</code> 및 <code>type</code>의
              값에 따라 결정되고 <a href="#verification-material"></a>에서
              정의된 특정 검증 재료 속성이 포함되어야 한다. <a>검증 방법</a>에는
              추가 속성이 포함될 수 있다. <a>검증 방법</a>은 DID 규격 레지스트리
              [[DID-SPEC-REGISTRIES]]에 등록되어야 한다.
            </p>

            <dl>
              <dt>id</dt>
              <dd>
                <p>
                  <a>검증 방법</a>의 <code><a>id</a></code> 속성 값은 섹션
                  <a href="#did-url-syntax"></a>의 규칙을 준수하는
                  <a data-cite="INFRA#string">문자열</a>이어야 한다.
                </p>
              </dd>
              <dt>type</dt>
              <dd>
                <code>type</code> 속성 값은 정확히 하나의
                <a>검증 방법</a> 유형을 참조하는
                <a data-cite="INFRA#string">문자열</a>이어야 합니다. 전 세계적인
                상호 운용성을 극대화하기 위해, <a>검증 방법</a> 유형은 DID 규격
                레지스트리 [[?DID-SPEC-REGISTRIES]]에 등록되어야 한다.
              </dd>
              <dt>controller</dt>
              <dd>
                controller 속성 값은 <a href="#did-syntax"></a>의 규칙을
                준수하는 <a data-cite="INFRA#string">문자열</a>이어야 한다.
              </dd>
            </dl>
          </dd>
        </dl>

        <pre class="example" title="Example verification method structure">
{
  "@context": [
    "https://www.w3.org/ns/did/v1",
    "https://w3id.org/security/suites/jws-2020/v1"
    "https://w3id.org/security/suites/ed25519-2020/v1"
  ]
  "id": "did:example:123456789abcdefghi",
  <span class="comment">...</span>
  "verificationMethod": [{
    "id": <span class="comment">...</span>,
    "type": <span class="comment">...</span>,
    "controller": <span class="comment">...</span>,
    "publicKeyJwk": <span class="comment">...</span>
  }, {
    "id": <span class="comment">...</span>,
    "type": <span class="comment">...</span>,
    "controller": <span class="comment">...</span>,
    "publicKeyMultibase": <span class="comment">...</span>
  }]
}
      </pre>

        <p class="note" title="검증 방법 컨트롤러 및 DID 컨트롤러">
          <code>컨트롤러</code> 속성의 의미는 관계의 주체가 <a>DID 문서</a>일
          때와 암호화 공개 키와 같은 검증 방법일 때 동일합니다. 키가 자기 자신을
          제어할 수 없고 키의 컨트롤러가 <a>DID 문서</a>에서 유추될 수 없기
          때문에, 키 컨트롤러의 정체성을 명시적으로 표현할 필요가 있습니다.
          차이점은 검증 방법에 대한 컨트롤러의 값이 반드시 <a>DID 컨트롤러</a>일
          필요는 없다는 것입니다. <a>DID 컨트롤러</a>는 <a>DID 문서</a>의 최상위
          수준(<a href="#data-model">데이터 모델</a>의 최상위
          <a data-cite="INFRA#ordered-map">map</a>)에서 컨트롤러 속성을 사용하여
          표현됩니다; <a href="#did-controller"></a>를 참조.
        </p>

        <section>
          <h3>검증 자료</h3>

          <p>
            검증 자료는 <a>검증 방법</a>을 적용하는 프로세스에서 사용되는 모든
            정보를 말한다. <a>검증 방법</a>의 <code>type</code>은 해당
            프로세스와의 호환성을 결정하는 데 사용될 것으로 예상된다. 검증 자료
            속성의 예로는 <code><a>publicKeyJwk</a></code
            >나 <code><a>publicKeyMultibase</a></code
            >가 있다. <a>암호화 스위트</a> 규격은 <a>검증 방법</a>의
            <code>type</code>과 관련 검증 자료를 지정할 책임이 있다. 예를 들어,
            <a href="https://w3c-ccg.github.io/lds-jws2020/"
              >JSON Web Signature 2020</a
            >과
            <a href="https://w3c-ccg.github.io/lds-ed25519-2020/"
              >Ed25519 Signature 2020</a
            >을 참조하라. <a>DID</a>에 사용 가능한 모든 등록된
            <a>검증 방법</a> 유형과 관련 검증 자료는 DID 규격 레지스트리
            [[?DID-SPEC-REGISTRIES]]를 참조하라.
          </p>

          <p>
            상호 운용 가능한 구현의 가능성을 높이기 위해, 이 규격은
            <a>DID 문서</a>에서 검증 자료를 표현하기 위한 형식의 수를 제한한다.
            구현자들이 구현해야 할 형식이 적을수록 모든 형식을 지원할 가능성이
            높아진다. 이 접근 방식은 구현의 용이성과 역사적으로 널리 배포되어 온
            형식을 지원하는 것 사이에서 미묘한 균형을 맞추려고 시도한다.
            지원되는 두 가지 검증 자료 속성은 다음과 같다:
          </p>

          <dl>
            <dt><dfn>publicKeyJwk</dfn></dt>
            <dd>
              <p>
                <code>publicKeyJwk</code> 속성은 선택 사항이다. 존재하는 경우,
                그 값은 [[RFC7517]]을 준수하는 JSON Web Key를 나타내는
                <a data-cite="INFRA#ordered-map">맵</a>이어야 한다. 이
                <a data-cite="INFRA#ordered-map">맵</a>은 "d"나
                <a href="https://tools.ietf.org/html/rfc7517#section-8.1.1"
                  >등록 템플릿</a
                >에 설명된 비공개 정보 클래스의 다른 멤버를 포함해서는 안 된다.
                JWK [[RFC7517]]를 사용하여 공개 키를 표현하는 검증 방법은
                <code>kid</code>의 값을
                <a href="#fragment">프래그먼트 식별자</a>로 사용하는 것이
                권장된다. JWK <code>kid</code> 값은 공개 키 지문 [[RFC7638]]으로
                설정하는 것이 권장된다. 복합 키 식별자를 가진 공개 키의 예시는
                <a href="#example-various-verification-method-types"></a>의 첫
                번째 키를 참조하라.
              </p>
            </dd>
            <dt><dfn>publicKeyMultibase</dfn></dt>
            <dd>
              <p>
                <code>publicKeyMultibase</code> 속성은 선택 사항이다. 이 기능은
                비규범적이다. 존재하는 경우, 그 값은 [[?MULTIBASE]]로 인코딩된
                공개 키의 <a data-cite="INFRA#string">문자열</a> 표현이어야
                한다.
              </p>
              <p class="advisement">
                [[?MULTIBASE]] 규격은 아직 표준이 아니며 변경될 수 있다는 점에
                유의하라. 공개 키를 표현할 수 있도록
                <code><b>public</b>KeyMultibase</code>가 정의되지만, 비밀 키의
                우발적 누출을 방지하기 위해
                <code><b>private</b>KeyMultibase</code>는 정의되지 않는 경우와
                같이 이 데이터 형식에 대한 일부 사용 사례가 있을 수 있다.
              </p>
            </dd>
          </dl>

          <p>
            <a>검증 방법</a>은 동일한 자료에 대해 여러 검증 자료 속성을
            포함해서는 안 된다. 예를 들어, <a>검증 방법</a>에서
            <code>publicKeyJwk</code>와 <code>publicKeyMultibase</code>를 동시에
            사용하여 키 자료를 표현하는 것은 금지된다.
          </p>
          <p>
            위의 두 속성을 모두 사용하는 <a>검증 방법</a>을 포함하는
            <a>DID 문서</a>의 예는 아래와 같다.
          </p>

          <p>
            <a>검증 방법</a>은 동일한 자료에 대해 여러 검증 자료 속성을
            포함해서는 안 된다. 예를 들어, <a>검증 방법</a>에서
            <code>publicKeyJwk</code>와 <code>publicKeyMultibase</code>를 동시에
            사용하여 키 자료를 표현하는 것은 금지된다.
          </p>
          <p>
            위의 두 속성을 모두 사용하는 <a>검증 방법</a>을 포함하는
            <a>DID 문서</a>의 예는 아래와 같다.
          </p>

          <pre
            id="example-various-verification-method-types"
            class="example nohighlight"
            title="Verification methods using publicKeyJwk and publicKeyMultibase"
          >
{
  "@context": [
    "https://www.w3.org/ns/did/v1",
    "https://w3id.org/security/suites/jws-2020/v1",
    "https://w3id.org/security/suites/ed25519-2020/v1"
  ]
  "id": "did:example:123456789abcdefghi",
  <span class="comment">...</span>
  "verificationMethod": [{
    "id": "did:example:123#_Qq0UL2Fq651Q0Fjd6TvnYE-faHiOpRlPVQcY_-tA4A",
    "type": "JsonWebKey2020", <span class="comment">// external (property value)</span>
    "controller": "did:example:123",
    "publicKeyJwk": {
      "crv": "Ed25519", <span class="comment">// external (property name)</span>
      "x": "VCpo2LMLhn6iWku8MKvSLg2ZAoC-nlOyPVQaO3FxVeQ", <span class="comment">// external (property name)</span>
      "kty": "OKP", <span class="comment">// external (property name)</span>
      "kid": "_Qq0UL2Fq651Q0Fjd6TvnYE-faHiOpRlPVQcY_-tA4A" <span class="comment">// external (property name)</span>
    }
  }, {
    "id": "did:example:123456789abcdefghi#keys-1",
    "type": "Ed25519VerificationKey2020", <span class="comment">// external (property value)</span>
    "controller": "did:example:pqrstuvwxyz0987654321",
    "publicKeyMultibase": "zH3C2AVvLMv6gmMNam3uVAjZpfkcJCwDwnZn6z3wXmqPV"
  }],
  <span class="comment">...</span>
}
        </pre>
        </section>

        <section>
          <h3>검증 방법 참조</h3>
          <p>
            <a>검증 방법</a>은 <a href="#verification-relationships"></a>에
            설명된 대로 다양한 <a>검증 관계</a>와 관련된 속성에 내장되거나
            참조될 수 있다. <a>검증 방법</a>을 참조하면 둘 이상의
            <a>검증 관계</a>에서 사용될 수 있다.
          </p>
          <p>
            <a>검증 방법</a> 속성의 값이
            <a data-cite="INFRA#ordered-map">맵</a>인 경우, <a>검증 방법</a>은
            내장된 것이며 해당 속성에 직접 액세스할 수 있다. 그러나 값이 URL
            <a data-cite="INFRA#string">문자열</a>인 경우, <a>검증 방법</a>은
            참조에 의해 포함된 것이며 해당 속성은 <a>DID 문서</a>의 다른 곳이나
            다른 <a>DID 문서</a>에서 검색되어야 한다. 이는 URL을 역참조하고 결과
            <a>리소스</a>에서 값이 URL과 일치하는 <code>id</code> 속성을 가진
            <a>검증 방법</a> <a data-cite="INFRA#ordered-map">맵</a>을 검색하여
            수행된다.
          </p>

          <pre
            class="example nohighlight"
            title="Embedding and referencing verification methods"
          >
{
<span class="comment">...</span>

  "authentication": [
    <span class="comment">// this key is referenced and might be used by</span>
    <span class="comment">// more than one verification relationship</span>
    "did:example:123456789abcdefghi#keys-1",
    <span class="comment">// this key is embedded and may *only* be used for authentication</span>
    {
      "id": "did:example:123456789abcdefghi#keys-2",
      "type": "Ed25519VerificationKey2020", <span class="comment">// external (property value)</span>
      "controller": "did:example:123456789abcdefghi",
      "publicKeyMultibase": "zH3C2AVvLMv6gmMNam3uVAjZpfkcJCwDwnZn6z3wXmqPV"
    }
  ],

<span class="comment">...</span>
}
        </pre>
        </section>
      </section>

      <section>
        <h2>검증 관계</h2>

        <p>
          <a>검증 관계</a>는 <a>DID 주체</a>와 <a>검증 방법</a> 사이의 관계를
          표현한다.
        </p>
        <p>
          서로 다른 <a>검증 관계</a>는 관련된 <a>검증 방법</a>이 다른 목적으로
          사용될 수 있게 한다. 사용된 <a>검증 방법</a>이 <a>DID 문서</a>의
          적절한 <a>검증 관계</a> 속성에 포함되어 있는지 확인함으로써 검증
          시도의 유효성을 확인하는 것은 <em>검증자</em>의 몫이다.
        </p>
        <p>
          <a>DID 주체</a>와 <a>검증 방법</a> 사이의 <a>검증 관계</a>는
          <a>DID 문서</a>에 명시되어 있다. 특정 <a>검증 관계</a>와 관련되지 않은
          <a>검증 방법</a>은 해당 <a>검증 관계</a>에 사용될 수 없다. 예를 들어,
          <code><a>authentication</a></code> 속성의 값에 있는 <a>검증 방법</a>은
          <a>DID 주체</a>와 키 교환 프로토콜에 참여하는 데 사용될 수 없다. 이를
          위해서는 <code><a>keyAgreement</a></code> 속성의 값이 사용되어야 한다.
        </p>
        <p>
          <a>DID 문서</a>는 <a>검증 관계</a>를 사용하여 폐기된 키를 표현하지
          않는다. 참조된 검증 방법이 역참조에 사용된 최신 <a>DID 문서</a>에 없는
          경우, 해당 검증 방법은 유효하지 않거나 폐기된 것으로 간주된다. 각
          <a>DID 메소드</a> 규격은 폐기가 어떻게 수행되고 추적되는지 상세히
          설명해야 한다.
        </p>
        <p>
          다음 섹션에서는 몇 가지 유용한 <a>검증 관계</a>를 정의한다.
          <a>DID 문서</a>는 특정 <a>검증 관계</a>를 표현하기 위해 이들 중 어느
          것이든 또는 다른 속성들을 포함할 수 있다. 전 세계적인 상호 운용성을
          극대화하기 위해, 사용되는 그러한 모든 속성은 DID 규격 레지스트리
          [[?DID-SPEC-REGISTRIES]]에 등록되어야 한다.
        </p>

        <section>
          <h2>인증</h2>

          <p>
            <code>authentication</code> <a>검증 관계</a>는 웹사이트 로그인이나
            모든 종류의 챌린지-응답 프로토콜 참여와 같은 목적으로
            <a>DID 주체</a>가 어떻게 <a>인증</a>될 것으로 예상되는지 명시하는 데
            사용된다.
          </p>

          <dl>
            <dt><dfn>authentication</dfn></dt>
            <dd>
              <code>authentication</code> 속성은 선택 사항이다. 존재하는 경우,
              관련된 값은 하나 이상의 <a>검증 방법</a>의
              <a data-cite="INFRA#ordered-set">집합</a>이어야 한다. 각
              <a>검증 방법</a>은 내장되거나 참조될 수 있다.
            </dd>
          </dl>

          <pre
            class="example nohighlight"
            title="Authentication property
                      containing three verification methods"
          >
{
  "@context": [
    "https://www.w3.org/ns/did/v1",
    "https://w3id.org/security/suites/ed25519-2020/v1"
  ],
  "id": "did:example:123456789abcdefghi",
  <span class="comment">...</span>
  "authentication": [
    <span class="comment">// this method can be used to authenticate as did:...fghi</span>
    "did:example:123456789abcdefghi#keys-1",
    <span class="comment">// this method is *only* approved for authentication, it may not</span>
    <span class="comment">// be used for any other proof purpose, so its full description is</span>
    <span class="comment">// embedded here rather than using only a reference</span>
    {
      "id": "did:example:123456789abcdefghi#keys-2",
      "type": "Ed25519VerificationKey2020",
      "controller": "did:example:123456789abcdefghi",
      "publicKeyMultibase": "zH3C2AVvLMv6gmMNam3uVAjZpfkcJCwDwnZn6z3wXmqPV"
    }
  ],
  <span class="comment">...</span>
}
        </pre>

          <p>
            인증이 확립되면, 해당 정보를 어떻게 처리할 것인지는
            <a>DID 메소드</a> 또는 다른 애플리케이션에 달려 있다. 특정
            <a>DID 메소드</a>는 <a>DID 컨트롤러</a>로 인증하는 것이 예를 들어
            <a>DID 문서</a>를 업데이트하거나 삭제하기에 충분하다고 결정할 수
            있다. 다른 <a>DID 메소드</a>는 <a>DID 문서</a>를 업데이트하거나
            삭제하기 위해 <a>인증</a>에 사용된 것과는 다른 키 또는 완전히 다른
            <a>검증 방법</a>이 제시되어야 할 수 있다. 즉, 인증 확인
            <em>이후</em>에 수행되는 작업은
            <a href="#data-model">데이터 모델</a>의 범위를 벗어난다;
            <a>DID 메소드</a>와 애플리케이션은 이를 스스로 정의해야 한다.
          </p>
          <p>
            이는 <a>인증</a>을 시도하는 엔티티가 실제로 유효한 인증 증명을
            제시하고 있는지 확인할 필요가 있는 모든 <em>인증 검증자</em>에게
            유용하다. <em>검증자</em>가 "인증"의 목적으로 만들어진 증명을
            포함하고 엔티티가 <a>DID</a>에 의해 식별된다고 말하는 (일부
            프로토콜별 형식의) 일부 데이터를 수신하면, 해당 <em>검증자</em>는
            <a>DID 문서</a>의 <code><a>authentication</a></code> 아래에 나열된
            <a>검증 방법</a>(예: 공개 키)을 사용하여 증명을 검증할 수 있는지
            확인한다.
          </p>
          <p>
            <a>DID 문서</a>의 <code><a>authentication</a></code> 속성에 의해
            표시된 <a>검증 방법</a>은 <a>DID 주체</a>를 <a>인증</a>하는 데만
            사용될 수 있음에 유의하라. 다른 <a>DID 컨트롤러</a>를
            <a>인증</a>하려면 <a href="#did-controller"></a>에 정의된 대로
            <code>controller</code> 값과 관련된 엔티티가 <em>자신의</em>
            <a>DID 문서</a> 및 관련 <code><a>authentication</a></code>
            <a>검증 관계</a>로 <a>인증</a>해야 한다.
          </p>
        </section>

        <section>
          <h2>Assertion</h2>

          <p>
            <code>assertionMethod</code> <a>검증 관계</a>는 검증 가능한 크리덴셜
            [[?VC-DATA-MODEL]]을 발행하는 목적과 같이 <a>DID 주체</a>가 어떻게
            클레임을 표현할 것으로 예상되는지 명시하는 데 사용된다.
          </p>
          <dl>
            <dt><dfn>assertionMethod</dfn></dt>
            <dd>
              <code>assertionMethod</code> 속성은 선택 사항이다. 존재하는 경우,
              관련된 값은 하나 이상의 <a>검증 방법</a>의
              <a data-cite="INFRA#ordered-set">집합</a>이어야 한다. 각
              <a>검증 방법</a>은 내장되거나 참조될 수 있다.
            </dd>
          </dl>
          <p>
            이 속성은 예를 들어, 검증자가 <a>검증 가능한 크리덴셜</a>을 처리하는
            동안 유용하다. 검증 중에 검증자는 <a>검증 가능한 크리덴셜</a>에
            증명을 어설션하는 데 사용된 <a>검증 방법</a>이 해당
            <a>DID 문서</a>의 <code><a>assertionMethod</a></code> 속성과
            연결되어 있는지 확인함으로써 <a>DID 주체</a>가 생성한 증명이
            포함되어 있는지 확인한다.
          </p>

          <pre
            class="example nohighlight"
            title="Assertion method property
                    containing two verification methods"
          >
{
  "@context": [
    "https://www.w3.org/ns/did/v1",
    "https://w3id.org/security/suites/ed25519-2020/v1"
  ],
  "id": "did:example:123456789abcdefghi",
  <span class="comment">...</span>
  "assertionMethod": [
    <span class="comment">// this method can be used to assert statements as did:...fghi</span>
    "did:example:123456789abcdefghi#keys-1",
    <span class="comment">// this method is *only* approved for assertion of statements, it is not</span>
    <span class="comment">// used for any other verification relationship, so its full description is</span>
    <span class="comment">// embedded here rather than using a reference</span>
    {
      "id": "did:example:123456789abcdefghi#keys-2",
      "type": "Ed25519VerificationKey2020", <span class="comment">// external (property value)</span>
      "controller": "did:example:123456789abcdefghi",
      "publicKeyMultibase": "zH3C2AVvLMv6gmMNam3uVAjZpfkcJCwDwnZn6z3wXmqPV"
    }
  ],
  <span class="comment">...</span>
}
        </pre>
        </section>

        <section>
          <h2>Key Agreement</h2>

          <p>
            The <code>keyAgreement</code> <a>verification relationship</a> is
            used to specify how an entity can generate encryption material in
            order to transmit confidential information intended for the
            <a>DID subject</a>, such as for the purposes of establishing a
            secure communication channel with the recipient.
          </p>

          <dl>
            <dt><dfn>keyAgreement</dfn></dt>
            <dd>
              The <code>keyAgreement</code> property is OPTIONAL. If present,
              the associated value MUST be a
              <a data-cite="INFRA#ordered-set">set</a> of one or more
              <a>verification methods</a>. Each <a>verification method</a> MAY
              be embedded or referenced.
            </dd>
          </dl>

          <p>
            An example of when this property is useful is when encrypting a
            message intended for the <a>DID subject</a>. In this case, the
            counterparty uses the cryptographic public key information in the
            <a>verification method</a> to wrap a decryption key for the
            recipient.
          </p>

          <pre
            class="example nohighlight"
            title="Key agreement property
                      containing two verification methods"
          >
{
  "@context": "https://www.w3.org/ns/did/v1",
  "id": "did:example:123456789abcdefghi",
  <span class="comment">...</span>
  "keyAgreement": [
    <span class="comment">// this method can be used to perform key agreement as did:...fghi</span>
    "did:example:123456789abcdefghi#keys-1",
    <span class="comment">// this method is *only* approved for key agreement usage, it will not</span>
    <span class="comment">// be used for any other verification relationship, so its full description is</span>
    <span class="comment">// embedded here rather than using only a reference</span>
    {
      "id": "did:example:123#zC9ByQ8aJs8vrNXyDhPHHNNMSHPcaSgNpjjsBYpMMjsTdS",
      "type": "X25519KeyAgreementKey2019", <span class="comment">// external (property value)</span>
      "controller": "did:example:123",
      "publicKeyMultibase": "z9hFgmPVfmBZwRvFEyniQDBkz9LmV7gDEqytWyGZLmDXE"
    }
  ],
  <span class="comment">...</span>
}
        </pre>
        </section>

        <section>
          <h2>Capability Invocation</h2>

          <p>
            The <code>capabilityInvocation</code>
            <a>verification relationship</a> is used to specify a
            <a>verification method</a> that might be used by the
            <a>DID subject</a> to invoke a cryptographic capability, such as the
            authorization to update the <a>DID Document</a>.
          </p>

          <dl>
            <dt><dfn>capabilityInvocation</dfn></dt>
            <dd>
              The <code>capabilityInvocation</code> property is OPTIONAL. If
              present, the associated value MUST be a
              <a data-cite="INFRA#ordered-set">set</a> of one or more
              <a>verification methods</a>. Each <a>verification method</a> MAY
              be embedded or referenced.
            </dd>
          </dl>

          <p>
            An example of when this property is useful is when a
            <a>DID subject</a> needs to access a protected HTTP API that
            requires authorization in order to use it. In order to authorize
            when using the HTTP API, the <a>DID subject</a>
            uses a capability that is associated with a particular URL that is
            exposed via the HTTP API. The invocation of the capability could be
            expressed in a number of ways, e.g., as a digitally signed message
            that is placed into the HTTP Headers.
          </p>
          <p>
            The server providing the HTTP API is the <em>verifier</em> of the
            capability and it would need to verify that the
            <a>verification method</a> referred to by the invoked capability
            exists in the <code><a>capabilityInvocation</a></code> property of
            the <a>DID document</a>. The verifier would also check to make sure
            that the action being performed is valid and the capability is
            appropriate for the resource being accessed. If the verification is
            successful, the server has cryptographically determined that the
            invoker is authorized to access the protected resource.
          </p>

          <pre
            class="example nohighlight"
            title="Capability invocation property
                      containing two verification methods"
          >
{
  "@context": [
    "https://www.w3.org/ns/did/v1",
    "https://w3id.org/security/suites/ed25519-2020/v1"
  ],
  "id": "did:example:123456789abcdefghi",
  <span class="comment">...</span>
  "capabilityInvocation": [
    <span class="comment">// this method can be used to invoke capabilities as did:...fghi</span>
    "did:example:123456789abcdefghi#keys-1",
    <span class="comment">// this method is *only* approved for capability invocation usage, it will not</span>
    <span class="comment">// be used for any other verification relationship, so its full description is</span>
    <span class="comment">// embedded here rather than using only a reference</span>
    {
    "id": "did:example:123456789abcdefghi#keys-2",
    "type": "Ed25519VerificationKey2020", <span class="comment">// external (property value)</span>
    "controller": "did:example:123456789abcdefghi",
    "publicKeyMultibase": "zH3C2AVvLMv6gmMNam3uVAjZpfkcJCwDwnZn6z3wXmqPV"
    }
  ],
  <span class="comment">...</span>
}
        </pre>
        </section>

        <section>
          <h2>Capability Delegation</h2>

          <p>
            The <code>capabilityDelegation</code>
            <a>verification relationship</a> is used to specify a mechanism that
            might be used by the <a>DID subject</a> to delegate a cryptographic
            capability to another party, such as delegating the authority to
            access a specific HTTP API to a subordinate.
          </p>

          <dl>
            <dt><dfn>capabilityDelegation</dfn></dt>
            <dd>
              The <code>capabilityDelegation</code> property is OPTIONAL. If
              present, the associated value MUST be a
              <a data-cite="INFRA#ordered-set">set</a> of one or more
              <a>verification methods</a>. Each <a>verification method</a> MAY
              be embedded or referenced.
            </dd>
          </dl>

          <p>
            An example of when this property is useful is when a
            <a>DID controller</a> chooses to delegate their capability to access
            a protected HTTP API to a party other than themselves. In order to
            delegate the capability, the <a>DID subject</a> would use a
            <a>verification method</a> associated with the
            <code>capabilityDelegation</code>
            <a>verification relationship</a> to cryptographically sign the
            capability over to another <a>DID subject</a>. The delegate would
            then use the capability in a manner that is similar to the example
            described in <a href="#capability-invocation"></a>.
          </p>

          <pre
            class="example nohighlight"
            title="Capability Delegation property
                      containing two verification methods"
          >
{
  "@context": [
    "https://www.w3.org/ns/did/v1",
    "https://w3id.org/security/suites/ed25519-2020/v1"
  ],
  "id": "did:example:123456789abcdefghi",
  <span class="comment">...</span>
  "capabilityDelegation": [
    <span class="comment">// this method can be used to perform capability delegation as did:...fghi</span>
    "did:example:123456789abcdefghi#keys-1",
    <span class="comment">// this method is *only* approved for granting capabilities; it will not</span>
    <span class="comment">// be used for any other verification relationship, so its full description is</span>
    <span class="comment">// embedded here rather than using only a reference</span>
    {
    "id": "did:example:123456789abcdefghi#keys-2",
    "type": "Ed25519VerificationKey2020", <span class="comment">// external (property value)</span>
    "controller": "did:example:123456789abcdefghi",
    "publicKeyMultibase": "zH3C2AVvLMv6gmMNam3uVAjZpfkcJCwDwnZn6z3wXmqPV"
    }
  ],
  <span class="comment">...</span>
}
        </pre>
        </section>
      </section>

      <section>
        <h2>Services</h2>

        <p>
          <a>Services</a> are used in <a>DID documents</a> to express ways of
          communicating with the <a>DID subject</a> or associated entities. A
          <a>service</a> can be any type of service the <a>DID subject</a> wants
          to advertise, including
          <a>decentralized identity management</a> services for further
          discovery, authentication, authorization, or interaction.
        </p>

        <p>
          Due to privacy concerns, revealing public information through
          <a>services</a>, such as social media accounts, personal websites, and
          email addresses, is discouraged. Further exploration of privacy
          concerns can be found in
          <a href="#keep-personal-data-private"></a> and
          <a href="#service-privacy"></a>. The information associated with
          <a>services</a> is often service specific. For example, the
          information associated with an encrypted messaging service can express
          how to initiate the encrypted link before messaging begins.
        </p>

        <p>
          <a>Services</a> are expressed using the
          <code><a>service</a></code> property, which is described below:
        </p>

        <dl>
          <dt>service</dt>
          <dd>
            <p>
              The <code>service</code> property is OPTIONAL. If present, the
              associated value MUST be a
              <a data-cite="INFRA#ordered-set">set</a> of <a>services</a>, where
              each service is described by a
              <a data-cite="INFRA#ordered-map">map</a>. Each <a>service</a>
              <a data-cite="INFRA#ordered-map">map</a> MUST contain
              <code><a>id</a></code
              >, <code>type</code>, and
              <code><a>serviceEndpoint</a></code> properties. Each service
              extension MAY include additional properties and MAY further
              restrict the properties associated with the extension.
            </p>
            <dl>
              <dt>id</dt>
              <dd>
                The value of the <code>id</code> property MUST be a
                <a>URI</a> conforming to [[RFC3986]]. A
                <a>규범에 부합하는 생산자</a> MUST NOT produce multiple
                <code>service</code> entries with the same <code>id</code>. A
                <a>규범에 부합하는 소비자</a> MUST produce an error if it
                detects multiple <code>service</code> entries with the same
                <code>id</code>.
              </dd>
              <dt>type</dt>
              <dd>
                The value of the <code>type</code> property MUST be a
                <a data-cite="INFRA#string">string</a> or a
                <a data-cite="INFRA#ordered-set">set</a> of
                <a data-cite="INFRA#string">strings</a>. In order to maximize
                interoperability, the <a>service</a> type and its associated
                properties SHOULD be registered in the DID Specification
                Registries [[?DID-SPEC-REGISTRIES]].
              </dd>
              <dt><dfn>serviceEndpoint</dfn></dt>
              <dd>
                The value of the <code>serviceEndpoint</code> property MUST be a
                <a data-cite="INFRA#string">string</a>, a
                <a data-cite="INFRA#string">map</a>, or a
                <a data-cite="INFRA#ordered-set">set</a> composed of one or more
                <a data-cite="INFRA#string">strings</a> and/or
                <a data-cite="INFRA#string">maps</a>. All
                <a data-cite="INFRA#string">string</a> values MUST be valid
                <a>URIs</a> conforming to [[RFC3986]] and normalized according
                to the
                <a data-cite="RFC3986#section-6"
                  >Normalization and Comparison rules in RFC3986</a
                >
                and to any normalization rules in its applicable <a>URI</a>
                scheme specification.
              </dd>
            </dl>
          </dd>
        </dl>

        <p>
          For more information regarding privacy and security considerations
          related to <a>services</a> see <a href="#service-privacy"></a>,
          <a href="#keep-personal-data-private"></a>,
          <a href="#did-document-correlation-risks"></a>, and
          <a href="#authentication-service-endpoints"></a>.
        </p>

        <pre class="example nohighlight" title="Usage of the service property">
{
  "service": [{
    "id":"did:example:123#linked-domain",
    "type": "LinkedDomains", <span class="comment">// external (property value)</span>
    "serviceEndpoint": "https://bar.example.com"
  }]
}
      </pre>
      </section>
    </section>

    <section class="normative">
      <h1>Representations</h1>

      <p>
        A concrete serialization of a <a>DID document</a> in this specification
        is called a <a>representation</a>. A <a>representation</a> is created by
        serializing the <a href="#data-model">data model</a> through a process
        called <dfn>production</dfn>. A <a>representation</a> is transformed
        into the <a href="#data-model">data model</a>
        through a process called
        <dfn>consumption</dfn>. The <em>production</em> and
        <em>consumption</em> processes enable the conversion of information from
        one <a>representation</a> to another. This specification defines
        <a>representations</a> for JSON and JSON-LD, and developers can use any
        other <a>representation</a>, such as XML or YAML, that is capable of
        expressing the <a href="#data-model">data model</a>. The following
        sections define the general rules for <a>production</a> and
        <a>consumption</a>, as well as the JSON and JSON-LD
        <a>representations</a>.
      </p>

      <section>
        <h2>Production and Consumption</h2>

        <p>
          In addition to the <a>representations</a> defined in this
          specification, implementers can use other <a>representations</a>,
          providing each such <a>representation</a> is properly specified
          (including rules for interoperable handling of properties not listed
          in the DID Specification Registries [[?DID-SPEC-REGISTRIES]]). See
          <a href="#extensibility"></a>
          for more information.
        </p>
        <p>The requirements for all <a>representations</a> are as follows:</p>
        <ol>
          <li>
            A <a>representation</a> MUST define deterministic production and
            consumption rules for all data types specified in
            <a href="#data-model"></a>.
          </li>
          <li>
            A <a>representation</a> MUST be uniquely associated with an
            IANA-registered Media Type.
          </li>
          <li>
            A <a>representation</a> MUST define fragment processing rules for
            its Media Type that are conformant with the fragment processing
            rules defined in <a href="#fragment"></a>.
          </li>
          <li>
            A <a>representation</a> SHOULD use the lexical representation of
            <a href="#data-model">data model</a> data types. For example, JSON
            and JSON-LD use the XML Schema <code>dateTime</code> lexical
            serialization to represent <a>datetimes</a>. A
            <a>representation</a> MAY choose to serialize the
            <a href="#data-model">data model</a> data types using a different
            lexical serializations as long as the <a>consumption</a> process
            back into the <a href="#data-model">data model</a> is lossless. For
            example, some CBOR-based <a>representations</a> express
            <a>datetime</a> values using integers to represent the number of
            seconds since the Unix epoch.
          </li>
          <li>
            A <a>representation</a> MAY define
            <a>representation-specific entries</a> that are stored in a
            <a>representation-specific entries</a>
            <a data-cite="INFRA#maps">map</a>
            for use during the <a>production</a> and <a>consumption</a> process.
            These entries are used when consuming or producing to aid in
            ensuring lossless conversion.
          </li>
          <li>
            In order to maximize interoperability,
            <a>representation</a> specification authors SHOULD register their
            <a>representation</a> in the DID Specification Registries
            [[?DID-SPEC-REGISTRIES]].
          </li>
        </ol>

        <p>
          The requirements for all <a>규범에 부합하는 생산자</a> are as follows:
        </p>

        <ol>
          <li>
            A <a>규범에 부합하는 생산자</a> MUST take a <a>DID document</a>
            <a href="#data-model">data model</a> and a
            <a>representation-specific entries</a>
            <a data-cite="INFRA#maps">map</a> as input into the
            <a>production</a> process. The <a>규범에 부합하는 생산자</a> MAY
            accept additional options as input into the
            <a>production</a> process.
          </li>
          <li>
            A <a>규범에 부합하는 생산자</a> MUST serialize all entries in the
            <a>DID document</a> <a href="#data-model">data model</a>, and the
            <a>representation-specific entries</a>
            <a data-cite="INFRA#maps">map</a>, that do not have explicit
            processing rules for the <a>representation</a> being produced using
            only the <a>representation</a>'s data type processing rules and
            return the serialization after the <a>production</a> process
            completes.
          </li>
          <li>
            A <a>규범에 부합하는 생산자</a> MUST return the Media Type
            <a data-cite="INFRA#string">string</a> associated with the
            <a>representation</a> after the <a>production</a> process completes.
          </li>
          <li>
            A 규범에 부합하는 생산자 MUST NOT produce non-conforming
            <a>DIDs</a> or <a>DID documents</a>.
          </li>
        </ol>

        <p>
          The requirements for all <a>규범에 부합하는 소비자</a> are as follows:
        </p>

        <ol>
          <li>
            A <a>규범에 부합하는 소비자</a> MUST take a
            <a>representation</a> and Media Type
            <a data-cite="INFRA#string">string</a> as input into the
            <a>consumption</a> process. A <a>규범에 부합하는 소비자</a> MAY
            accept additional options as input into the
            <a>consumption</a> process.
          </li>
          <li>
            A <a>규범에 부합하는 소비자</a> MUST determine the
            <a>representation</a> of a <a>DID document</a> using the Media Type
            input <a data-cite="INFRA#string">string</a>.
          </li>
          <li>
            A <a>규범에 부합하는 소비자</a> MUST detect any
            <a>representation-specific entry</a> across all known
            <a>representations</a> and place the entry into a
            <a>representation-specific entries</a>
            <a data-cite="INFRA#maps">map</a> which is returned after the
            <a>consumption</a> process completes. A list of all known
            <a>representation-specific entries</a> is available in the DID
            Specification Registries [[?DID-SPEC-REGISTRIES]].
          </li>
          <li>
            A <a>규범에 부합하는 소비자</a> MUST add all
            <a>non-representation-specific entries</a> that do not have explicit
            processing rules for the <a>representation</a> being consumed to the
            <a>DID document</a> <a href="#data-model">data model</a> using only
            the <a>representation</a>'s data type processing rules and return
            the <a>DID document</a> data model after the
            <a>consumption</a> process completes.
          </li>
          <li>
            A 규범에 부합하는 소비자 MUST produce errors when consuming
            non-conforming
            <a>DIDs</a> or <a>DID documents</a>.
          </li>
        </ol>

        <figure id="production-consumption">
          <img
            style="margin: auto; display: block"
            src="diagrams/diagram-production-consumption.svg"
            alt="
Diagram illustrating how representations of the data model are produced
and consumed, including in JSON and JSON-LD."
          />
          <figcaption>
            Production and consumption of representations. See also:
            <a class="longdesc-link" href="#production-consumption-longdesc"
              >narrative description</a
            >.
          </figcaption>
        </figure>

        <div class="longdesc" id="production-consumption-longdesc">
          <p>
            The upper left quadrant of the diagram contains a rectangle with
            dashed grey outline, containing two blue-outlined rectangles, one
            above the other. The upper, larger rectangle is labeled, in blue,
            "Core Properties", and contains the following
            <a data-cite="INFRA#maps">INFRA</a> notation:
          </p>
          <pre>
«[
  "id" → "example:123",
  "verificationMethod" → « «[
    "id": "did:example:123#keys-1",
    "controller": "did:example:123",
    "type": "Ed25519VerificationKey2018",
    "publicKeyBase58": "H3C2AVvLMv6gmMNam3uVA"
  ]» »,
  "authentication" → «
    "did:example:123#keys-1"
  »
]»
        </pre
          >
          The lower, smaller rectangle is labeled, in blue, "Core
          Representation-specific Entries (JSON-LD)", and contains the following
          monospaced <a data-cite="INFRA#maps">INFRA</a> notation:
          <pre>
«[ "@context" → "https://www.w3.org/ns/did/v1" ]»
        </pre
          >
          <p>
            From the grey-outlined rectangle, three pairs of arrows extend to
            three different black-outlined rectangles, one on the upper right of
            the diagram, one in the lower right, and one in the lower left. Each
            pair of arrows consists of one blue arrow pointing from the
            grey-outlined rectangle to the respective black-outlined rectangle,
            labeled "produce", and one red arrow pointing in the reverse
            direction, labeled "consume". The black-outlined rectangle in the
            upper right is labeled "application/did+cbor", and contains
            hexadecimal data. The rectangle in the lower right is labeled
            "application/did+json", and contains the following JSON data:
          </p>
          <pre>
{
  "id": "did:example:123",
  "verificationMethod": [{
    "id": "did:example:123#keys-1",
    "controller": "did:example:123",
    "type": "Ed25519VerificationKey2018",
    "publicKeyBase58": "H3C2AVvLMv6gmMNam3uVA"
  }],
  "authentication": [
    "did:example:123#keys-1"
  ]
}
        </pre
          >
          <p>
            The rectangle in the lower left is labeled
            "application/did+ld+json", and contains the following JSON-LD data:
          </p>
          <pre>
{
  "@context": ["https://www.w3.org/ns/did/v1"],
  "id": "did:example:123",
  "verificationMethod": [{
    "id": "did:example:123#keys-1",
    "controller": "did:example:123",
    "type": "Ed25519VerificationKey2018",
    "publicKeyBase58": "H3C2AVvLMv6gmMNam3uVA"
  }],
  "authentication": [
    "did:example:123#keys-1"
  ]
}
        </pre
          >
        </div>

        <p class="note" title="Conversion between representations">
          An implementation is expected to convert between
          <a>representations</a> by using the <em>consumption</em> rules on the
          source representation resulting in the
          <a href="#data-model">data model</a> and then using the
          <em>production</em> rules to serialize
          <a href="#data-model">data model</a> to the target representation, or
          any other mechanism that results in the same target representation.
        </p>
      </section>

      <section>
        <h2>JSON</h2>

        <p>
          This section defines the <a>production</a> and
          <a>consumption</a> rules for the JSON <a>representation</a>.
        </p>

        <section>
          <h3>Production</h3>

          <p>
            The <a>DID document</a>, DID document data structures, and
            <a>representation-specific entries</a>
            <a data-cite="INFRA#maps">map</a> MUST be serialized to the JSON
            <a>representation</a> according to the following
            <a>production</a> rules:
          </p>

          <table class="simple" id="json-representation-production">
            <thead>
              <tr>
                <th>Data&nbsp;Type</th>
                <th>JSON Representation Type</th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  <a data-cite="INFRA#maps">map</a>
                </td>
                <td>
                  A <a data-cite="RFC8259#section-4">JSON Object</a>, where each
                  entry is serialized as a member of the JSON Object with the
                  entry key as a
                  <a data-cite="RFC8259#section-7">JSON String</a> member name
                  and the entry value according to its type, as defined in this
                  table.
                </td>
              </tr>
              <tr>
                <td>
                  <a data-cite="INFRA#list">list</a>
                </td>
                <td>
                  A <a data-cite="RFC8259#section-5">JSON Array</a>, where each
                  element of the list is serialized, in order, as a value of the
                  array according to its type, as defined in this table.
                </td>
              </tr>
              <tr>
                <td>
                  <a data-cite="INFRA#ordered-set">set</a>
                </td>
                <td>
                  A <a data-cite="RFC8259#section-5">JSON Array</a>, where each
                  element of the set is added, in order, as a value of the array
                  according to its type, as defined in this table.
                </td>
              </tr>
              <tr>
                <td>
                  <a>datetime</a>
                </td>
                <td>
                  A <a data-cite="RFC8259#section-7">JSON String</a> serialized
                  as an
                  <a data-cite="XMLSCHEMA11-2#dateTime">XML Datetime</a>
                  normalized to UTC 00:00:00 and without sub-second decimal
                  precision. For example: <code>2020-12-20T19:17:47Z</code>.
                </td>
              </tr>
              <tr>
                <td>
                  <a data-cite="INFRA#string">string</a>
                </td>
                <td>A <a data-cite="RFC8259#section-7">JSON String</a>.</td>
              </tr>
              <tr>
                <td>
                  <a>integer</a>
                </td>
                <td>
                  A <a data-cite="RFC8259#section-6">JSON Number</a> without a
                  decimal or fractional component.
                </td>
              </tr>
              <tr>
                <td>
                  <a>double</a>
                </td>
                <td>
                  A <a data-cite="RFC8259#section-6">JSON Number</a> with a
                  decimal and fractional component.
                </td>
              </tr>
              <tr>
                <td>
                  <a data-cite="INFRA#boolean">boolean</a>
                </td>
                <td>A <a data-cite="RFC8259#section-3">JSON Boolean</a>.</td>
              </tr>
              <tr>
                <td>
                  <a data-cite="INFRA#nulls">null</a>
                </td>
                <td>
                  A <a data-cite="RFC8259#section-3">JSON null literal</a>.
                </td>
              </tr>
            </tbody>
          </table>

          <p class="advisement" title="INFRA JSON serialization rules">
            All implementers creating <a>규범에 부합하는 생산자</a> that produce
            JSON <a>representations</a> are advised to ensure that their
            algorithms are aligned with the
            <a data-cite="INFRA#serialize-an-infra-value-to-json-bytes"
              >JSON serialization rules</a
            >
            in the [[INFRA]] specification and the
            <a data-cite="RFC8259#section-6"
              >precision advisements regarding Numbers</a
            >
            in the JSON [[RFC8259]] specification.
          </p>

          <p>
            All entries of a <a>DID document</a> MUST be included in the root
            <a data-cite="RFC8259#section-4">JSON Object</a>. Entries MAY
            contain additional data substructures subject to the value
            representation rules in the list above. When serializing a
            <a>DID document</a>, a <a>규범에 부합하는 생산자</a> MUST specify a
            media type of <code>application/did+json</code> to downstream
            applications such as described in
            <a href="#did-resolution-metadata"></a>.
          </p>

          <pre
            class="example nohighlight"
            title="Example DID document in JSON representation"
          >
{
  "id": "did:example:123456789abcdefghi",
  "authentication": [{
    "id": "did:example:123456789abcdefghi#keys-1",
    "type": "Ed25519VerificationKey2018",
    "controller": "did:example:123456789abcdefghi",
    "publicKeyBase58": "H3C2AVvLMv6gmMNam3uVAjZpfkcJCwDwnZn6z3wXmqPV"
  }]
}
      </pre
          >
        </section>

        <section>
          <h3>Consumption</h3>

          <p>
            The <a>DID document</a> and DID document data structures JSON
            <a>representation</a> MUST be deserialized into the
            <a href="#data-model">data model</a> according to the following
            <a>consumption</a> rules:
          </p>

          <table
            class="simple column-width-50"
            id="json-representation-consumption"
          >
            <thead>
              <tr>
                <th>JSON Representation Type</th>
                <th>Data&nbsp;Type</th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  <a data-cite="RFC8259#section-4">JSON Object</a>
                </td>
                <td>
                  A <a data-cite="INFRA#maps">map</a>, where each member of the
                  JSON Object is added as an entry to the map. Each entry key is
                  set as the JSON Object member name. Each entry value is set by
                  converting the JSON Object member value according to the JSON
                  representation type as defined in this table. Since order is
                  not specified by JSON Objects, no insertion order is
                  guaranteed.
                </td>
              </tr>
              <tr>
                <td>
                  <a data-cite="RFC8259#section-5">JSON Array</a> where the
                  <a href="#data-model">data model</a> entry value is a
                  <a data-cite="INFRA#list">list</a> or unknown
                </td>
                <td>
                  A <a data-cite="INFRA#list">list</a>, where each value of the
                  JSON Array is added to the list in order, converted based on
                  the JSON representation type of the array value, as defined in
                  this table.
                </td>
              </tr>
              <tr>
                <td>
                  <a data-cite="RFC8259#section-5">JSON Array</a> where the
                  <a href="#data-model">data model</a> entry value is a
                  <a data-cite="INFRA#ordered-set">set</a>
                </td>
                <td>
                  A <a data-cite="INFRA#ordered-set">set</a>, where each value
                  of the JSON Array is added to the set in order, converted
                  based on the JSON representation type of the array value, as
                  defined in this table.
                </td>
              </tr>
              <tr>
                <td>
                  <a data-cite="RFC8259#section-7">JSON String</a> where
                  <a href="#data-model">data model</a> entry value is a
                  <a>datetime</a>
                </td>
                <td>A <a>datetime</a>.</td>
              </tr>
              <tr>
                <td>
                  <a data-cite="RFC8259#section-7">JSON String</a>, where the
                  <a href="#data-model">data model</a> entry value type is
                  <a>string</a> or unknown
                </td>
                <td>A <a data-cite="INFRA#string">string</a>.</td>
              </tr>
              <tr>
                <td>
                  <a data-cite="RFC8259#section-6">JSON Number</a> without a
                  decimal or fractional component
                </td>
                <td>An <a>integer</a>.</td>
              </tr>
              <tr>
                <td>
                  <a data-cite="RFC8259#section-6">JSON Number</a> with a
                  decimal and fractional component, or when entry value is a
                  <a>double</a> regardless of inclusion of fractional component
                </td>
                <td>A <a>double</a>.</td>
              </tr>
              <tr>
                <td>
                  <a data-cite="RFC8259#section-3">JSON Boolean</a>
                </td>
                <td>A <a data-cite="INFRA#boolean">boolean</a>.</td>
              </tr>
              <tr>
                <td>
                  <a data-cite="RFC8259#section-3">JSON null literal</a>
                </td>
                <td>A <a data-cite="INFRA#nulls">null</a> value.</td>
              </tr>
            </tbody>
          </table>

          <p class="advisement">
            All implementers creating <a>규범에 부합하는 소비자</a> that produce
            JSON <a>representations</a> are advised to ensure that their
            algorithms are aligned with the
            <a data-cite="INFRA#parse-json-bytes-to-an-infra-value"
              >JSON conversion rules</a
            >
            in the [[INFRA]] specification and the
            <a data-cite="RFC8259#section-6"
              >precision advisements regarding Numbers</a
            >
            in the JSON [[RFC8259]] specification.
          </p>

          <p>
            If media type information is available to a
            <a>규범에 부합하는 소비자</a> and the media type value is
            <code>application/did+json</code>, then the data structure being
            consumed is a <a>DID document</a>, and the root element MUST be a
            <a data-cite="RFC8259#section-4">JSON Object</a> where all members
            of the object are entries of the <a>DID document</a>. A
            <a>규범에 부합하는 소비자</a> for a JSON <a>representation</a> that
            is consuming a <a>DID document</a> with a root element that is not a
            <a data-cite="RFC8259#section-4">JSON Object</a> MUST report an
            error.
          </p>
        </section>
      </section>

      <section>
        <h2>JSON-LD</h2>

        <p>
          JSON-LD [[JSON-LD11]] is a JSON-based format used to serialize
          <a href="http://www.w3.org/TR/ld-glossary/#linked-data">Linked Data</a
          >. This section defines the <a>production</a> and
          <a>consumption</a> rules for the JSON-LD <a>representation</a>.
        </p>

        <p>
          The JSON-LD <a>representation</a> defines the following
          <a>representation-specific entries</a>:
        </p>

        <dl>
          <dt><dfn>@context</dfn></dt>
          <dd>
            The
            <a href="https://www.w3.org/TR/json-ld11/#the-context"
              >JSON-LD Context</a
            >
            is either a <a data-cite="INFRA#string">string</a> or a
            <a data-cite="INFRA#list">list</a> containing any combination of
            <a data-cite="INFRA#string">strings</a> and/or
            <a data-cite="INFRA#maps">ordered maps</a>.
          </dd>
        </dl>

        <section>
          <h3>Production</h3>

          <p>
            The <a>DID document</a>, DID document data structures, and
            <a>representation-specific entries</a>
            <a data-cite="INFRA#maps">map</a> MUST be serialized to the JSON-LD
            <a>representation</a> according to the JSON <a>representation</a>
            <a>production</a> rules as defined in <a href="#json"></a>.
          </p>

          <p>
            In addition to using the JSON <a>representation</a>
            <a>production</a> rules, JSON-LD production MUST include the
            <a data-lt="representation-specific entry"
              >representation-specific</a
            >
            <a><code>@context</code></a> entry. The serialized value of
            <code>@context</code> MUST be the
            <a data-cite="RFC8259#section-7">JSON String</a>
            <code>https://www.w3.org/ns/did/v1</code>, or a
            <a data-cite="RFC8259#section-5">JSON Array</a> where the first item
            is the <a data-cite="RFC8259#section-7">JSON String</a>
            <code>https://www.w3.org/ns/did/v1</code> and the subsequent items
            are serialized according to the JSON <a>representation</a>
            <a>production</a>
            rules.
          </p>

          <pre
            class="example"
            title="A valid serialization of a simple @context entry"
          >
{
  "@context": "https://www.w3.org/ns/did/v1",
  ...
}
        </pre
          >
          <pre
            class="example"
            title="A valid serialization of a layered @context entry"
          >
{
  "@context": [
    "https://www.w3.org/ns/did/v1",
    "https://did-method-extension.example/v1"
  ],
  ...
}
        </pre
          >

          <p class="advisement" title="JSON-LD serialization rules">
            All implementers creating <a>규범에 부합하는 생산자</a> that produce
            JSON-LD <a>representations</a> are advised to ensure that their
            algorithms produce valid JSON-LD [[JSON-LD11]] documents. Invalid
            JSON-LD documents will cause JSON-LD processors to halt and report
            errors.
          </p>

          <p>
            In order to achieve interoperability across different
            <a>representations</a>, all JSON-LD Contexts and their terms SHOULD
            be registered in the DID Specification Registries
            [[?DID-SPEC-REGISTRIES]].
          </p>

          <p>
            A <a>규범에 부합하는 생산자</a> that generates a JSON-LD
            <a>representation</a> SHOULD NOT produce a <a>DID document</a> that
            contains terms not defined via the <code>@context</code> as
            <a>규범에 부합하는 소비자</a> are expected to remove unknown terms.
            When serializing a JSON-LD <a>representation</a> of a
            <a>DID document</a>, a <a>규범에 부합하는 생산자</a> MUST specify a
            media type of <code>application/did+ld+json</code> to downstream
            applications such as described in
            <a href="#did-resolution-metadata"></a>.
          </p>
        </section>

        <section>
          <h3>Consumption</h3>

          <p>
            The <a>DID document</a> and any DID document data structures
            expressed by a JSON-LD <a>representation</a> MUST be deserialized
            into the <a href="#data-model">data model</a> according to the JSON
            <a>representation</a> <a>consumption</a> rules as defined in
            <a href="#json"></a>.
          </p>

          <p class="advisement" title="JSON-LD serialization rules">
            All implementers creating <a>규범에 부합하는 소비자</a> that consume
            JSON-LD <a>representations</a> are advised to ensure that their
            algorithms only accept valid JSON-LD [[JSON-LD11]] documents.
            Invalid JSON-LD documents will cause JSON-LD processors to halt and
            report errors.
          </p>

          <p>
            <a>규범에 부합하는 소비자</a> that process a JSON-LD
            <a>representation</a> SHOULD drop all terms from a
            <a>DID document</a> that are not defined via the
            <code>@context</code>.
          </p>
        </section>
      </section>
    </section>

    <section class="normative">
      <h1>Resolution</h1>

      <p>
        This section defines the inputs and outputs of <a>DID resolution</a> and
        <a>DID URL dereferencing</a>. Their exact implementation is out of scope
        for this specification, but some considerations for implementers are
        discussed in [[?DID-RESOLUTION]].
      </p>

      <p>
        All conformant <a>DID resolvers</a> MUST implement the
        <a>DID resolution</a> functions for at least one <a>DID method</a> and
        MUST be able to return a <a>DID document</a> in at least one conformant
        <a>representation</a>.
      </p>

      <section data-dfn-for="Resolver">
        <h2>DID Resolution</h2>
        <p>
          The <a>DID resolution</a> functions resolve a <a>DID</a> into a
          <a>DID document</a> by using the "Read" operation of the applicable
          <a>DID method</a> as described in <a href="#method-operations"></a>.
          The details of how this process is accomplished are outside the scope
          of this specification, but all conforming
          <a>DID resolvers</a> implement the functions below, which have the
          following abstract forms:
        </p>

        <pre title="Abstract functions for DID Resolution">
resolve(did, resolutionOptions) →
   « didResolutionMetadata, didDocument, didDocumentMetadata »

resolveRepresentation(did, resolutionOptions) →
   « didResolutionMetadata, didDocumentStream, didDocumentMetadata »
      </pre
        >

        <p>
          The <code>resolve</code> function returns the <a>DID document</a> in
          its abstract form (a <a data-cite="INFRA#maps">map</a>). The
          <code>resolveRepresentation</code> function returns a byte stream of
          the <a>DID Document</a> formatted in the corresponding representation.
        </p>

        <figure id="resolve-resolverepresentation">
          <img
            style="margin: auto; display: block"
            src="diagrams/diagram-resolve-resolverepresentation.svg"
            alt="
Diagram illustrating how resolve() returns the DID document data model in
its abstract form and resolveRepresenation() returns it in one of the
conformant representations; conversion is possible using production and
consumption rules."
          />
          <figcaption>
            Functions resolve() and resolveRepresentation(). See also:
            <a
              class="longdesc-link"
              href="#resolve-resolverepresentation-longdesc"
              >narrative description</a
            >.
          </figcaption>
        </figure>

        <div class="longdesc" id="resolve-resolverepresentation-longdesc">
          <p>
            The upper middle part of the diagram contains a rectangle with
            dashed grey outline, containing two blue-outlined rectangles, one
            above the other. The upper, larger rectangle is labeled, in blue,
            "Core Properties", and contains the following
            <a data-cite="INFRA#maps">INFRA</a> notation:
          </p>
          <pre>
«[
  "id" → "example:123",
  "verificationMethod" → « «[
    "id": "did:example:123#keys-1",
    "controller": "did:example:123",
    "type": "Ed25519VerificationKey2018",
    "publicKeyBase58": "H3C2AVvLMv6gmMNam3uVA"
  ]» »,
  "authentication" → «
    "did:example:123#keys-1"
  »
]»
            </pre
          >
          <p>
            The lower, smaller rectangle is labeled, in blue, "Core
            Representation-specific Entries (JSON-LD)", and contains the
            following monospaced <a data-cite="INFRA#maps">INFRA</a> notation:
          </p>
          <pre>
«[ "@context" → "https://www.w3.org/ns/did/v1" ]»
        </pre
          >
          <p>
            From the grey-outlined rectangle, three pairs of arrows extend to
            three different black-outlined rectangles, aligned in a horizontal
            row side-by-side, in the bottom half of the diagram. Each pair of
            arrows consists of one blue arrow pointing from the grey-outlined
            rectangle to the respective black-outlined rectangle, labeled
            "produce", and one red arrow pointing in the reverse direction,
            labeled "consume". The first black-outlined rectangle in the row is
            labeled "application/did+ld+json", and contains the following
            JSON-LD data:
          </p>
          <pre>
{
  "@context": ["https://www.w3.org/ns/did/v1"],
  "id": "did:example:123",
  "verificationMethod": [{
    "id": "did:example:123#keys-1",
    "controller": "did:example:123",
    "type": "Ed25519VerificationKey2018",
    "publicKeyBase58": "H3C2AVvLMv6gmMNam3uVA"
  }],
  "authentication": [
    "did:example:123#keys-1"
  ]
}
            </pre
          >
          <p>
            The second rectangle in the row is labeled "application/did+json"
            and contains the following JSON data:
          </p>
          <pre>
{
  "id": "did:example:123",
  "verificationMethod": [{
    "id": "did:example:123#keys-1",
    "controller": "did:example:123",
    "type": "Ed25519VerificationKey2018",
    "publicKeyBase58": "H3C2AVvLMv6gmMNam3uVA"
  }],
  "authentication": [
    "did:example:123#keys-1"
  ]
}
            </pre
          >
          <p>
            The third rectangle in the row is labeled "application/did+cbor",
            and contains hexadecimal data.
          </p>
          <p>
            In the left part of the diagram, in the middle, there is a box, with
            black outline and light gray background. This box is labeled
            "VERIFIABLE DATA REGISTRY" and contains a symbol representing a
            graph with nodes and arcs. From this box, one arrow, labeled
            "resolve()", extends upwards and points to the top half of the
            diagram where the grey-outlined rectangle is located. Another arrow,
            labeled "resolveRepresentation()", extends downwards and points to
            the bottom half of the diagram, where the row of three
            black-outlined rectangles is located.
          </p>
        </div>

        <p>
          The input variables of the <code>resolve</code> and
          <code>resolveRepresentation</code> functions are as follows:
        </p>

        <dl>
          <dt>did</dt>
          <dd>
            This is the <a>DID</a> to resolve. This input is REQUIRED and the
            value MUST be a conformant <a>DID</a> as defined in
            <a href="#did-syntax"></a>.
          </dd>
          <dt>resolutionOptions</dt>
          <dd>
            A <a href="#metadata-structure">metadata structure</a> containing
            properties defined in <a href="#did-resolution-options"></a>. This
            input is REQUIRED, but the structure MAY be empty.
          </dd>
        </dl>

        <p>
          These functions each return multiple values, and no limitations are
          placed on how these values are returned together. The return values of
          <code>resolve</code> are <a>didResolutionMetadata</a>,
          <a>didDocument</a>, and <a>didDocumentMetadata</a>. The return values
          of <code>resolveRepresentation</code> are
          <a>didResolutionMetadata</a>, <a>didDocumentStream</a>, and
          <a>didDocumentMetadata</a>. These values are described below:
        </p>

        <dl>
          <dt>
            <dfn>didResolutionMetadata</dfn>
          </dt>
          <dd>
            A <a href="#metadata-structure">metadata structure</a> consisting of
            values relating to the results of the <a>DID resolution</a> process
            which typically changes between invocations of the
            <code>resolve</code> and
            <code>resolveRepresentation</code> functions, as it represents data
            about the resolution process itself. This structure is REQUIRED, and
            in the case of an error in the resolution process, this MUST NOT be
            empty. This metadata is defined by
            <a href="#did-resolution-metadata"></a>. If
            <code>resolveRepresentation</code> was called, this structure MUST
            contain a <code>contentType</code> property containing the Media
            Type of the representation found in the
            <code>didDocumentStream</code>. If the resolution is not successful,
            this structure MUST contain an <code>error</code> property
            describing the error.
          </dd>
          <dt>
            <dfn>didDocument</dfn>
          </dt>
          <dd>
            If the resolution is successful, and if the
            <code>resolve</code> function was called, this MUST be a
            <a>DID document</a> abstract data model (a
            <a data-cite="INFRA#maps">map</a>) as described in
            <a href="#data-model"></a> that is capable of being transformed into
            a <a>규범에 부합하는 DID 문서</a> (representation), using the
            production rules specified by the representation. The value of
            <code><a>id</a></code> in the resolved <a>DID document</a> MUST
            match the <a>DID</a> that was resolved. If the resolution is
            unsuccessful, this value MUST be empty.
          </dd>
          <dt>
            <dfn>didDocumentStream</dfn>
          </dt>
          <dd>
            If the resolution is successful, and if the
            <code>resolveRepresentation</code> function was called, this MUST be
            a byte stream of the resolved <a>DID document</a> in one of the
            conformant <a href="#representations">representations</a>. The byte
            stream might then be parsed by the caller of the
            <code>resolveRepresentation</code> function into a
            <a href="#data-model">data model</a>, which can in turn be validated
            and processed. If the resolution is unsuccessful, this value MUST be
            an empty stream.
          </dd>
          <dt>
            <dfn>didDocumentMetadata</dfn>
          </dt>
          <dd>
            If the resolution is successful, this MUST be a
            <a href="#metadata-structure">metadata structure</a>. This structure
            contains metadata about the <a>DID document</a> contained in the
            <code>didDocument</code>
            property. This metadata typically does not change between
            invocations of the
            <code>resolve</code> and
            <code>resolveRepresentation</code> functions unless the
            <a>DID document</a> changes, as it represents metadata about the
            <a>DID document</a>. If the resolution is unsuccessful, this output
            MUST be an empty
            <a href="#metadata-structure">metadata structure</a>. Properties
            defined by this specification are in
            <a href="#did-document-metadata"></a>.
          </dd>
        </dl>

        <p>
          Conforming <a>DID resolver</a> implementations do not alter the
          signature of these functions in any way.
          <a>DID resolver</a> implementations might map the
          <code>resolve</code> and <code>resolveRepresentation</code> functions
          to a method-specific internal function to perform the actual
          <a>DID resolution</a> process. <a>DID resolver</a> implementations
          might implement and expose additional functions with different
          signatures in addition to the <code>resolve</code> and
          <code>resolveRepresentation</code> functions specified here.
        </p>

        <section>
          <h3>DID Resolution Options</h3>

          <p>
            The possible properties within this structure and their possible
            values are registered in the DID Specification Registries
            [[?DID-SPEC-REGISTRIES]]. This specification defines the following
            common properties.
          </p>

          <dl>
            <dt>accept</dt>
            <dd>
              The Media Type of the caller's preferred <a>representation</a> of
              the <a>DID document</a>. The Media Type MUST be expressed as an
              <a
                data-lt="ascii
string"
                >ASCII string</a
              >. The <a>DID resolver</a> implementation SHOULD use this value to
              determine the <a>representation</a> contained in the returned
              <code>didDocumentStream</code> if such a <a>representation</a> is
              supported and available. This property is OPTIONAL for the
              <code>resolveRepresentation</code> function and MUST NOT be used
              with the <code>resolve</code> function.
            </dd>
          </dl>
        </section>

        <section>
          <h3>DID Resolution Metadata</h3>

          <p>
            The possible properties within this structure and their possible
            values are registered in the DID Specification Registries
            [[?DID-SPEC-REGISTRIES]]. This specification defines the following
            DID resolution metadata properties:
          </p>

          <dl>
            <dt>contentType</dt>
            <dd>
              The Media Type of the returned <code>didDocumentStream</code>.
              This property is REQUIRED if resolution is successful and if the
              <code>resolveRepresentation</code> function was called. This
              property MUST NOT be present if the <code>resolve</code> function
              was called. The value of this property MUST be an
              <a data-lt="ascii string">ASCII string</a> that is the Media Type
              of the conformant <a>representations</a>. The caller of the
              <code>resolveRepresentation</code> function MUST use this value
              when determining how to parse and process the
              <code>didDocumentStream</code> returned by this function into the
              <a href="#data-model">data model</a>.
            </dd>
            <dt>error</dt>
            <dd>
              The error code from the resolution process. This property is
              REQUIRED when there is an error in the resolution process. The
              value of this property MUST be a single keyword
              <a data-lt="ascii string">ASCII string</a>. The possible property
              values of this field SHOULD be registered in the DID Specification
              Registries [[?DID-SPEC-REGISTRIES]]. This specification defines
              the following common error values:
              <dl>
                <dt>invalidDid</dt>
                <dd>
                  The <a>DID</a> supplied to the <a>DID resolution</a> function
                  does not conform to valid syntax. (See
                  <a href="#did-syntax"></a>.)
                </dd>
                <dt>notFound</dt>
                <dd>
                  The <a>DID resolver</a> was unable to find the
                  <a>DID document</a>
                  resulting from this resolution request.
                </dd>
                <dt>representationNotSupported</dt>
                <dd>
                  This error code is returned if the
                  <a>representation</a> requested via the
                  <code>accept</code> input metadata property is not supported
                  by the <a>DID method</a> and/or
                  <a>DID resolver</a> implementation.
                </dd>
              </dl>
            </dd>
          </dl>
        </section>

        <section>
          <h3>DID Document Metadata</h3>

          <p>
            The possible properties within this structure and their possible
            values SHOULD be registered in the DID Specification Registries
            [[?DID-SPEC-REGISTRIES]]. This specification defines the following
            common properties.
          </p>

          <dl>
            <dt><dfn class="lint-ignore">created</dfn></dt>
            <dd>
              <a>DID document</a> metadata SHOULD include a
              <code>created</code> property to indicate the timestamp of the
              <a href="#method-operations">Create operation</a>. The value of
              the property MUST be a
              <a data-cite="INFRA#string">string</a> formatted as an
              <a data-cite="XMLSCHEMA11-2#dateTime">XML Datetime</a> normalized
              to UTC 00:00:00 and without sub-second decimal precision. For
              example: <code>2020-12-20T19:17:47Z</code>.
            </dd>

            <dt><dfn class="lint-ignore">updated</dfn></dt>
            <dd>
              <a>DID document</a> metadata SHOULD include an
              <code>updated</code> property to indicate the timestamp of the
              last <a href="#method-operations">Update operation</a> for the
              document version which was resolved. The value of the property
              MUST follow the same formatting rules as the
              <code>created</code> property. The <code>updated</code> property
              is omitted if an Update operation has never been performed on the
              <a>DID document</a>. If an <code>updated</code> property exists,
              it can be the same value as the <code>created</code> property when
              the difference between the two timestamps is less than one second.
            </dd>

            <dt><dfn class="lint-ignore">deactivated</dfn></dt>
            <dd>
              If a DID has been <a href="#method-operations">deactivated</a>,
              <a>DID document</a> metadata MUST include this property with the
              boolean value <code>true</code>. If a DID has not been
              deactivated, this property is OPTIONAL, but if included, MUST have
              the boolean value <code>false</code>.
            </dd>

            <dt><dfn class="lint-ignore">nextUpdate</dfn></dt>
            <dd>
              <a>DID document</a> metadata MAY include a
              <code>nextUpdate</code> property if the resolved document version
              is not the latest version of the document. It indicates the
              timestamp of the next
              <a href="#method-operations">Update operation</a>. The value of
              the property MUST follow the same formatting rules as the
              <code>created</code> property.
            </dd>

            <dt><dfn class="lint-ignore">versionId</dfn></dt>
            <dd>
              <a>DID document</a> metadata SHOULD include a
              <code>versionId</code> property to indicate the version of the
              last <a href="#method-operations">Update operation</a> for the
              document version which was resolved. The value of the property
              MUST be an <a data-lt="ascii string">ASCII string</a>.
            </dd>

            <dt><dfn class="lint-ignore">nextVersionId</dfn></dt>
            <dd>
              <a>DID document</a> metadata MAY include a
              <code>nextVersionId</code> property if the resolved document
              version is not the latest version of the document. It indicates
              the version of the next
              <a href="#method-operations">Update operation</a>. The value of
              the property MUST be an
              <a
                data-lt="ascii
string"
                >ASCII string</a
              >.
            </dd>

            <dt><dfn>equivalentId</dfn></dt>
            <dd>
              <p>
                A <a>DID method</a> can define different forms of a
                <a>DID</a> that are logically equivalent. An example is when a
                <a>DID</a> takes one form prior to registration in a
                <a>verifiable data registry</a> and another form after such
                registration. In this case, the <a>DID method</a> specification
                might need to express one or more <a>DIDs</a> that are logically
                equivalent to the resolved <a>DID</a> as a property of the
                <a>DID document</a>. This is the purpose of the
                <code><a>equivalentId</a></code> property.
              </p>
              <p>
                <a>DID document</a> metadata MAY include an
                <code>equivalentId</code> property. If present, the value MUST
                be a <a data-cite="INFRA#ordered-set">set</a> where each item is
                a <a data-cite="INFRA#string">string</a> that conforms to the
                rules in Section <a href="#did-syntax"></a>. The relationship is
                a statement that each <code><a>equivalentId</a></code> value is
                logically equivalent to the <code>id</code> property value and
                thus refers to the same <a>DID subject</a>. Each
                <code><a>equivalentId</a></code> DID value MUST be produced by,
                and a form of, the same <a>DID method</a> as the
                <code>id</code> property value. (e.g.,
                <code>did:example:abc</code> == <code>did:example:ABC</code>)
              </p>
              <p>
                A conforming <a>DID method</a> specification MUST guarantee that
                each <code><a>equivalentId</a></code> value is logically
                equivalent to the <code>id</code> property value.
              </p>
              <p>
                A requesting party is expected to retain the values from the
                <code>id</code> and <code><a>equivalentId</a></code> properties
                to ensure any subsequent interactions with any of the values
                they contain are correctly handled as logically equivalent
                (e.g., retain all variants in a database so an interaction with
                any one maps to the same underlying account).
              </p>
              <p class="note" title="Stronger equivalence">
                <code><a>equivalentId</a></code> is a much stronger form of
                equivalence than <code><a>alsoKnownAs</a></code> because the
                equivalence MUST be guaranteed by the governing
                <a>DID method</a>. <code><a>equivalentId</a></code> represents a
                full graph merge because the same <a>DID document</a> describes
                both the <code><a>equivalentId</a></code> <a>DID</a> and the
                <code>id</code> property <a>DID</a>.
              </p>
              <p>
                If a requesting party does not retain the values from the
                <code>id</code> and <code><a>equivalentId</a></code> properties
                and ensure any subsequent interactions with any of the values
                they contain are correctly handled as logically equivalent,
                there might be negative or unexpected issues that arise.
                Implementers are strongly advised to observe the directives
                related to this metadata property.
              </p>
            </dd>
            <dt><dfn>canonicalId</dfn></dt>
            <dd>
              <p>
                The <code><a>canonicalId</a></code> property is identical to the
                <code><a>equivalentId</a></code> property except: a) it is
                associated with a single value rather than a set, and b) the
                <a>DID</a> is defined to be the canonical ID for the
                <a>DID subject</a> within the scope of the containing
                <a>DID document</a>.
              </p>
              <p>
                <a>DID document</a> metadata MAY include a
                <code>canonicalId</code> property. If present, the value MUST be
                a <a data-cite="INFRA#string">string</a> that conforms to the
                rules in Section <a href="#did-syntax"></a>. The relationship is
                a statement that the <code><a>canonicalId</a></code> value is
                logically equivalent to the <code>id</code> property value and
                that the <code><a>canonicalId</a></code> value is defined by the
                <a>DID method</a> to be the canonical ID for the
                <a>DID subject</a> in the scope of the containing
                <a>DID document</a>. A <code><a>canonicalId</a></code> value
                MUST be produced by, and a form of, the same
                <a>DID method</a> as the <code>id</code> property value. (e.g.,
                <code>did:example:abc</code> == <code>did:example:ABC</code>).
              </p>
              <p>
                A conforming <a>DID method</a> specification MUST guarantee that
                the <code><a>canonicalId</a></code> value is logically
                equivalent to the <code>id</code> property value.
              </p>
              <p>
                A requesting party is expected to use the
                <code><a>canonicalId</a></code> value as its primary ID value
                for the <a>DID subject</a> and treat all other equivalent values
                as secondary aliases (e.g., update corresponding primary
                references in their systems to reflect the new canonical ID
                directive).
              </p>
              <p class="note" title="Canonical equivalence">
                <code><a>canonicalId</a></code> is the same statement of
                equivalence as <code><a>equivalentId</a></code> except it is
                constrained to a single value that is defined to be canonical
                for the <a>DID subject</a> in the scope of the
                <a>DID document</a>. Like <code><a>equivalentId</a></code
                >, <code><a>canonicalId</a></code> represents a full graph merge
                because the same <a>DID document</a> describes both the
                <code><a>canonicalId</a></code> DID and the
                <code>id</code> property <a>DID</a>.
              </p>
              <p>
                If a resolving party does not use the
                <code><a>canonicalId</a></code> value as its primary ID value
                for the DID subject and treat all other equivalent values as
                secondary aliases, there might be negative or unexpected issues
                that arise related to user experience. Implementers are strongly
                advised to observe the directives related to this metadata
                property.
              </p>
            </dd>
          </dl>
        </section>
      </section>

      <section>
        <h2>DID URL Dereferencing</h2>
        <p>
          The <a>DID URL dereferencing</a> function dereferences a
          <a>DID URL</a> into a <a>resource</a> with contents depending on the
          <a>DID URL</a>'s components, including the <a>DID method</a>,
          method-specific identifier, path, query, and fragment. This process
          depends on <a>DID resolution</a> of the <a>DID</a> contained in the
          <a>DID URL</a>. <a>DID URL dereferencing</a> might involve multiple
          steps (e.g., when the DID URL being dereferenced includes a fragment),
          and the function is defined to return the final resource after all
          steps are completed. The details of how this process is accomplished
          are outside the scope of this specification. The following figure
          depicts the relationship described above.
        </p>

        <figure id="did-url-dereference-overview">
          <img
            style="margin: auto; display: block; width: 75%"
            src="diagrams/did_url_dereference_overview.svg"
            alt="
DIDs resolve to DID documents; DID URLs contains a DID; DID URLs dereferenced to DID document fragments or
external resources.
        "
          />
          <figcaption>
            Overview of DID URL dereference See also:
            <a
              class="longdesc-link"
              href="#did-url-dereference-overview-longdesc"
              >narrative description</a
            >.
          </figcaption>
        </figure>

        <div class="longdesc" id="did-url-dereference-overview-longdesc">
          <p>
            The top left part of the diagram contains a rectangle with black
            outline, labeled "DID".
          </p>
          <p>
            The bottom left part of the diagram contains a rectangle with black
            outline, labeled "DID URL". This rectangle contains four smaller
            black-outlined rectangles, aligned in a horizontal row adjacent to
            each other. These smaller rectangles are labeled, in order, "DID",
            "path", "query", and "fragment.
          </p>
          <p>
            The top right part of the diagram contains a rectangle with black
            outline, labeled "DID document". This rectangle contains three
            smaller black-outlined rectangles. These smaller rectangles are
            labeled "id", "(property X)", and "(property Y)", and are surrounded
            by multiple series of three dots (ellipses). A curved black arrow,
            labeled "DID document - relative fragment dereference", extends from
            the rectangle labeled "(property X)", and points to the rectangle
            labeled "(property Y)".
          </p>
          <p>
            The bottom right part of the diagram contains an oval shape with
            black outline, labeled "Resource".
          </p>
          <p>
            A black arrow, labeled "resolves to a DID document", extends from
            the rectangle in the top left part of the diagram, labeled "DID",
            and points to the rectangle in the top right part of diagram,
            labeled "DID document".
          </p>
          <p>
            A black arrow, labeled "refers to", extends from the rectangle in
            the top right part of the diagram, labeled "DID document", and
            points to the oval shape in the bottom right part of diagram,
            labeled "Resource".
          </p>
          <p>
            A black arrow, labeled "contains", extends from the small rectangle
            labeled "DID" inside the rectangle in the bottom left part of the
            diagram, labeled "DID URL", and points to the rectangle in the top
            left part of diagram, labeled "DID".
          </p>
          <p>
            A black arrow, labeled "dereferences to a DID document", extends
            from the rectangle in the bottom left part of the diagram, labeled
            "DID URL", and points to the rectangle in the top right part of
            diagram, labeled "DID document".
          </p>
          <p>
            A black arrow, labeled "dereferences to a resource", extends from
            the rectangle in the bottom left part of the diagram, labeled "DID
            URL", and points to the oval shape in the bottom right part of
            diagram, labeled "Resource".
          </p>
        </div>

        <p>
          All conforming <a>DID resolvers</a> implement the following function
          which has the following abstract form:
        </p>

        <pre title="Abstract functions for DID URL Dereferencing">
dereference(didUrl, dereferenceOptions) →
   « dereferencingMetadata, contentStream, contentMetadata »
      </pre
        >

        <p>
          The input variables of the <code>dereference</code> function are as
          follows:
        </p>

        <dl>
          <dt>didUrl</dt>
          <dd>
            A conformant <a>DID URL</a> as a single
            <a data-cite="INFRA#string">string</a>. This is the
            <a>DID URL</a> to dereference. To dereference a <a>DID fragment</a>,
            the complete <a>DID URL</a> including the <a>DID fragment</a> MUST
            be used. This input is REQUIRED.

            <p class="note" title="DID URL dereferencer patterns">
              While it is valid for any <code>didUrl</code> to be passed to a
              DID URL dereferencer, implementers are expected to refer to
              [[?DID-RESOLUTION]] to further understand common patterns for how
              a <a>DID URL</a> is expected to be dereferenced.
            </p>
          </dd>
          <dt>dereferencingOptions</dt>
          <dd>
            A <a href="#metadata-structure">metadata structure</a> consisting of
            input options to the <code>dereference</code> function in addition
            to the <code>didUrl</code> itself. Properties defined by this
            specification are in <a href="#did-url-dereferencing-options"></a>.
            This input is REQUIRED, but the structure MAY be empty.
          </dd>
        </dl>

        <p>
          This function returns multiple values, and no limitations are placed
          on how these values are returned together. The return values of the
          <code>dereference</code> include <code>dereferencingMetadata</code>,
          <code>contentStream</code>, and <code>contentMetadata</code>:
        </p>

        <dl>
          <dt>dereferencingMetadata</dt>
          <dd>
            A <a href="#metadata-structure">metadata structure</a> consisting of
            values relating to the results of the
            <a>DID URL dereferencing</a> process. This structure is REQUIRED,
            and in the case of an error in the dereferencing process, this MUST
            NOT be empty. Properties defined by this specification are in
            <a href="#did-url-dereferencing-metadata"></a>. If the dereferencing
            is not successful, this structure MUST contain an
            <code>error</code> property describing the error.
          </dd>
          <dt>contentStream</dt>
          <dd>
            If the <code>dereferencing</code> function was called and
            successful, this MUST contain a <a>resource</a> corresponding to the
            <a>DID URL</a>. The <code>contentStream</code> MAY be a
            <a>resource</a> such as a <a>DID document</a> that is serializable
            in one of the conformant <a>representations</a>, a
            <a href="#verification-methods">Verification Method</a>, a
            <a href="#services">service</a>, or any other resource format that
            can be identified via a Media Type and obtained through the
            resolution process. If the dereferencing is unsuccessful, this value
            MUST be empty.
          </dd>
          <dt>contentMetadata</dt>
          <dd>
            If the dereferencing is successful, this MUST be a
            <a href="#metadata-structure"> metadata structure</a>, but the
            structure MAY be empty. This structure contains metadata about the
            <code>contentStream</code>. If the <code>contentStream</code> is a
            <a>DID document</a>, this MUST be a
            <a>didDocumentMetadata</a> structure as described in
            <a>DID Resolution</a>. If the dereferencing is unsuccessful, this
            output MUST be an empty
            <a href="#metadata-structure">metadata structure</a>.
          </dd>
        </dl>

        <p>
          Conforming <a>DID URL dereferencing</a> implementations do not alter
          the signature of these functions in any way.
          <a>DID URL dereferencing</a> implementations might map the
          <code>dereference</code> function to a method-specific internal
          function to perform the actual <a>DID URL dereferencing</a> process.
          <a>DID URL dereferencing</a> implementations might implement and
          expose additional functions with different signatures in addition to
          the <code>dereference</code> function specified here.
        </p>

        <section>
          <h3>DID URL Dereferencing Options</h3>

          <p>
            The possible properties within this structure and their possible
            values SHOULD be registered in the DID Specification Registries
            [[?DID-SPEC-REGISTRIES]]. This specification defines the following
            common properties for dereferencing options:
          </p>

          <dl>
            <dt>accept</dt>
            <dd>
              The Media Type that the caller prefers for
              <code>contentStream</code>. The Media Type MUST be expressed as an
              <a data-lt="ascii string">ASCII string</a>. The
              <a>DID URL dereferencing</a> implementation SHOULD use this value
              to determine the <code>contentType</code> of the
              <a>representation</a> contained in the returned value if such a
              <a>representation</a> is supported and available.
            </dd>
          </dl>
        </section>

        <section>
          <h3>DID URL Dereferencing Metadata</h3>

          <p>
            The possible properties within this structure and their possible
            values are registered in the DID Specification Registries
            [[?DID-SPEC-REGISTRIES]]. This specification defines the following
            common properties.
          </p>

          <dl>
            <dt>contentType</dt>
            <dd>
              The Media Type of the returned <code>contentStream</code> SHOULD
              be expressed using this property if dereferencing is successful.
              The Media Type value MUST be expressed as an
              <a data-lt="ascii string">ASCII string</a>.
            </dd>
            <dt>error</dt>
            <dd>
              The error code from the dereferencing process. This property is
              REQUIRED when there is an error in the dereferencing process. The
              value of this property MUST be a single keyword expressed as an
              <a data-lt="ascii string">ASCII string</a>. The possible property
              values of this field SHOULD be registered in the DID Specification
              Registries [[?DID-SPEC-REGISTRIES]]. This specification defines
              the following common error values:
              <dl>
                <dt>invalidDidUrl</dt>
                <dd>
                  The <a>DID URL</a> supplied to the
                  <a>DID URL dereferencing</a> function does not conform to
                  valid syntax. (See <a href="#did-url-syntax"></a>.)
                </dd>
                <dt>notFound</dt>
                <dd>
                  The <a>DID URL dereferencer</a> was unable to find the
                  <code>contentStream</code> resulting from this dereferencing
                  request.
                </dd>
              </dl>
            </dd>
          </dl>
        </section>
      </section>

      <section>
        <h2>Metadata Structure</h2>

        <p>
          Input and output metadata is often involved during the
          <a>DID Resolution</a>, <a>DID URL dereferencing</a>, and other
          DID-related processes. The structure used to communicate this metadata
          MUST be a <a data-cite="INFRA#maps">map</a> of properties. Each
          property name MUST be a <a data-cite="INFRA#string">string</a>. Each
          property value MUST be a <a data-cite="INFRA#string">string</a>,
          <a data-cite="INFRA#maps">map</a>, <a data-cite="INFRA#list">list</a>,
          <a data-cite="INFRA#ordered-set">set</a>,
          <a data-cite="INFRA#boolean">boolean</a>, or
          <a data-cite="INFRA#nulls">null</a>. The values within any complex
          data structures such as maps and lists MUST be one of these data types
          as well. All metadata property definitions registered in the DID
          Specification Registries [[?DID-SPEC-REGISTRIES]] MUST define the
          value type, including any additional formats or restrictions to that
          value (for example, a string formatted as a date or as a decimal
          integer). It is RECOMMENDED that property definitions use strings for
          values. The entire metadata structure MUST be serializable according
          to the
          <a data-cite="INFRA#serialize-an-infra-value-to-json-bytes"
            >JSON serialization rules</a
          >
          in the [[INFRA]] specification. Implementations MAY serialize the
          metadata structure to other data formats.
        </p>

        <p>
          All implementations of functions that use metadata structures as
          either input or output are able to fully represent all data types
          described here in a deterministic fashion. As inputs and outputs using
          metadata structures are defined in terms of data types and not their
          serialization, the method for
          <a>representation</a> is internal to the implementation of the
          function and is out of scope of this specification.
        </p>

        <p>
          The following example demonstrates a JSON-encoded metadata structure
          that might be used as
          <a href="#did-resolution-options">DID resolution input metadata</a>.
        </p>

        <pre
          class="example"
          title="JSON-encoded DID resolution input metadata example"
        >
{
  "accept": "application/did+ld+json"
}
      </pre
        >

        <p>
          This example corresponds to a metadata structure of the following
          format:
        </p>

        <pre class="example" title="DID resolution input metadata example">
«[
  "accept" → "application/did+ld+json"
]»
      </pre
        >

        <p>
          The next example demonstrates a JSON-encoded metadata structure that
          might be used as
          <a href="#did-resolution-options">DID resolution metadata</a> if a
          <a>DID</a> was not found.
        </p>

        <pre
          class="example"
          title="JSON-encoded DID resolution metadata example"
        >
{
  "error": "notFound"
}
      </pre
        >

        <p>
          This example corresponds to a metadata structure of the following
          format:
        </p>

        <pre class="example" title="DID resolution metadata example">
«[
  "error" → "notFound"
]»
      </pre
        >

        <p>
          The next example demonstrates a JSON-encoded metadata structure that
          might be used as
          <a href="#did-document-metadata">DID document metadata</a> to describe
          timestamps associated with the <a>DID document</a>.
        </p>

        <pre class="example" title="JSON-encoded DID document metadata example">
{
  "created": "2019-03-23T06:35:22Z",
  "updated": "2023-08-10T13:40:06Z"
}
      </pre
        >

        <p>
          This example corresponds to a metadata structure of the following
          format:
        </p>

        <pre class="example" title="DID document metadata example">
«[
  "created" → "2019-03-23T06:35:22Z",
  "updated" → "2023-08-10T13:40:06Z"
]»
      </pre
        >
      </section>
    </section>

    <section>
      <h1>Methods</h1>

      <p>
        A <a>DID method</a> defines how implementers can realize the features
        described by this specification. <a>DID methods</a> are often associated
        with a particular <a>verifiable data registry</a>. New
        <a>DID methods</a> are defined in their own specifications to enable
        interoperability between different implementations of the same
        <a>DID method</a>.
      </p>

      <p>
        Conceptually, the relationship between this specification and a
        <a>DID method</a> specification is similar to the relationship between
        the IETF generic <a>URI</a> specification [[?RFC3986]] and a specific
        <a>URI</a> scheme [[?IANA-URI-SCHEMES]], such as the
        <code>http</code> scheme [[?RFC7230]]. In addition to defining a
        specific <a>DID scheme</a>, a <a>DID method</a> specification also
        defines the mechanisms for creating, resolving, updating, and
        deactivating <a>DIDs</a> and <a>DID documents</a> using a specific type
        of <a>verifiable data registry</a>. It also documents all implementation
        considerations related to <a>DIDs</a> as well as Security and Privacy
        Considerations.
      </p>

      <p>
        This section specifies the requirements for authoring <a>DID method</a>
        specifications.
      </p>

      <section class="normative">
        <h2>Method Syntax</h2>

        <p>
          The requirements for all <a>DID method</a> specifications when
          defining the method-specific DID Syntax are as follows:
        </p>

        <ol>
          <li>
            A <a>DID method</a> specification MUST define exactly one
            method-specific <a>DID scheme</a> that is identified by exactly one
            method name as specified by the <code>method-name</code> rule in
            <a href="#did-syntax"></a>.
          </li>
          <li>
            The <a>DID method</a> specification MUST specify how to generate the
            <code>method-specific-id</code> component of a <a>DID</a>.
          </li>
          <li>
            The <a>DID method</a> specification MUST define sensitivity and
            normalization of the value of the <code>method-specific-id</code>.
          </li>
          <li>
            The <code>method-specific-id</code> value MUST be unique within a
            <a>DID method</a>. The <code>method-specific-id</code> value itself
            might be globally unique.
          </li>
          <li>
            Any <a>DID</a> generated by a <a>DID method</a> MUST be globally
            unique.
          </li>
          <li>
            To reduce the chances of <code>method-name</code> conflicts, a
            <a>DID method</a>
            specification SHOULD be registered in the DID Specification
            Registries [[?DID-SPEC-REGISTRIES]].
          </li>
          <li>
            A <a>DID method</a> MAY define multiple
            <code>method-specific-id</code> formats.
          </li>
          <li>
            The <code>method-specific-id</code> format MAY include colons. The
            use of colons MUST comply syntactically with the
            <code>method-specific-id</code> ABNF rule.
          </li>
          <li>
            A <a>DID method</a> specification MAY specify ABNF rules for
            <a>DID paths</a> that are more restrictive than the generic rules in
            <a href="#path"></a>.
          </li>
          <li>
            A <a>DID method</a> specification MAY specify ABNF rules for
            <a>DID queries</a>
            that are more restrictive than the generic rules in this section.
          </li>
          <li>
            A <a>DID method</a> specification MAY specify ABNF rules for
            <a>DID fragments</a> that are more restrictive than the generic
            rules in this section.
          </li>
        </ol>

        <p class="note" title="Colons in method-specific-id">
          The meaning of colons in the <code>method-specific-id</code> is
          entirely method-specific. Colons might be used by
          <a>DID methods</a> for establishing hierarchically partitioned
          namespaces, for identifying specific instances or parts of the
          <a>verifiable data registry</a>, or for other purposes. Implementers
          are advised to avoid assuming any meanings or behaviors associated
          with a colon that are generically applicable to all
          <a>DID methods</a>.
        </p>
      </section>

      <section>
        <h2>Method Operations</h2>

        <p>
          The requirements for all <a>DID method</a> specifications when
          defining the method operations are as follows:
        </p>

        <ol>
          <li>
            A <a>DID method</a> specification MUST define how authorization is
            performed to execute all operations, including any necessary
            cryptographic processes.
          </li>
          <li>
            A <a>DID method</a> specification MUST specify how a
            <a>DID controller</a> creates a <a>DID</a> and its associated
            <a>DID document</a>.
          </li>
          <li>
            A <a>DID method</a> specification MUST specify how a
            <a>DID resolver</a> uses a <a>DID</a> to resolve a
            <a>DID document</a>, including how the <a>DID resolver</a> can
            verify the authenticity of the response.
          </li>
          <li>
            A <a>DID method</a> specification MUST specify what constitutes an
            update to a <a>DID document</a> and how a <a>DID controller</a> can
            update a <a>DID document</a> <em>or</em> state that updates are not
            possible.
          </li>
          <li>
            The <a>DID method</a> specification MUST specify how a
            <a>DID controller</a> can deactivate a <a>DID</a> <em>or</em> state
            that deactivation is not possible.
          </li>
        </ol>

        <p>
          The authority of a party that is performing authorization to carry out
          the operations is specific to a <a>DID method</a>. For example, a
          <a>DID method</a>
          might &mdash;
        </p>

        <ul>
          <li>
            make use of the <code><a>controller</a></code> property.
          </li>
          <li>
            use the <a>verification methods</a> listed under
            <code><a>authentication</a></code
            >.
          </li>
          <li>
            use other constructs in the <a>DID Document</a> such as the
            <a>verification method</a> specified via the
            <code><a>capabilityInvocation</a></code>
            <a>verification relationship</a>.
          </li>
          <li>
            not use the <a>DID document</a> for this decision at all, and depend
            on an out-of-band mechanism, instead.
          </li>
        </ul>
      </section>

      <section>
        <h2>Security Requirements</h2>

        <p>
          The requirements for all <a>DID method</a> specifications when
          authoring the <em>Security Considerations</em> section are as follows:
        </p>

        <ol>
          <li>
            A <a>DID method</a> specifications MUST follow all guidelines and
            normative language provided in
            <a data-cite="RFC3552#section-5"
              >RFC3552: Writing Security Considerations Sections</a
            >
            for the <a>DID</a> operations defined in the
            <a>DID method</a> specification.
          </li>
          <li>
            The Security Considerations section MUST document the following
            forms of attack for the <a>DID</a> operations defined in the
            <a>DID method</a> specification: eavesdropping, replay, message
            insertion, deletion, modification, denial of service,
            <a>amplification</a>, and man-in-the-middle. Other known forms of
            attack SHOULD also be documented.
          </li>
          <li>
            The Security Considerations section MUST discuss residual risks,
            such as the risks from compromise in a related protocol, incorrect
            implementation, or cipher after threat mitigation was deployed.
          </li>
          <li>
            The Security Considerations section MUST provide integrity
            protection and update authentication for all operations required by
            Section <a href="#method-operations"></a>.
          </li>
          <li>
            If authentication is involved, particularly user-host
            authentication, the security characteristics of the authentication
            method MUST be clearly documented.
          </li>
          <li>
            The Security Considerations section MUST discuss the policy
            mechanism by which
            <a>DIDs</a> are proven to be uniquely assigned.
          </li>
          <li>
            Method-specific endpoint authentication MUST be discussed. Where
            <a>DID methods</a> make use of <a>DLTs</a> with varying network
            topology, sometimes offered as <em>light node</em> or
            <em>
              <a href="https://en.bitcoin.it/wiki/Thin_Client_Security"
                >thin client</a
              ></em
            >
            implementations to reduce required computing resources, the security
            assumptions of the topology available to implementations of the
            <a>DID method</a> MUST be discussed.
          </li>
          <li>
            If a protocol incorporates cryptographic protection mechanisms, the
            <a>DID method</a> specification MUST clearly indicate which portions
            of the data are protected and by what protections, and it SHOULD
            give an indication of the sorts of attacks to which the
            cryptographic protection is susceptible. Some examples are integrity
            only, confidentiality, and endpoint authentication.
          </li>
          <li>
            Data which is to be held secret (keying material, random seeds, and
            so on) SHOULD be clearly labeled.
          </li>
          <li>
            <a>DID method</a> specifications SHOULD explain and specify the
            implementation of signatures on <a>DID documents</a>, if applicable.
          </li>
          <li>
            Where <a>DID methods</a> use peer-to-peer computing resources, such
            as with all known <a>DLTs</a>, the expected burdens of those
            resources SHOULD be discussed in relation to denial of service.
          </li>
          <li>
            <a>DID methods</a> that introduce new authentication
            <a>service</a> types, as described in <a href="#services"></a>,
            SHOULD consider the security requirements of the supported
            authentication protocol.
          </li>
        </ol>
      </section>

      <section class="normative">
        <h2>Privacy Requirements</h2>

        <p>
          The requirements for all <a>DID method</a> specifications when
          authoring the <em>Privacy Considerations</em> section are:
        </p>

        <ol>
          <li>
            The <a>DID method</a> specification's Privacy Considerations section
            MUST discuss any subsection of Section 5 of [[?RFC6973]] that could
            apply in a method-specific manner. The subsections to consider are:
            surveillance, stored data compromise, unsolicited traffic,
            misattribution, correlation, identification, secondary use,
            disclosure, and exclusion.
          </li>
        </ol>
      </section>
    </section>

    <section class="informative">
      <h1>Security Considerations</h1>

      <p>
        This section contains a variety of security considerations that people
        using Decentralized Identifiers are advised to consider before deploying
        this technology in a production setting. <a>DIDs</a> are designed to
        operate under the threat model used by many IETF standards and
        documented in [[?RFC3552]]. This section elaborates upon a number of the
        considerations in [[?RFC3552]], as well as other considerations that are
        unique to <a>DID</a>
        architecture.
      </p>

      <section>
        <h2>Choosing DID Resolvers</h2>

        <p>
          The DID Specification Registries [[?DID-SPEC-REGISTRIES]] contains an
          informative list of <a>DID method</a> names and their corresponding
          <a>DID method</a> specifications. Implementers need to bear in mind
          that there is no central authority to mandate which
          <a>DID method</a> specification is to be used with any specific
          <a>DID method</a> name. If there is doubt on whether or not a specific
          <a>DID resolver</a> implements a <a>DID method</a> correctly, the DID
          Specification Registries can be used to look up the registered
          specification and make an informed decision regarding which
          <a>DID resolver</a>
          implementation to use.
        </p>
      </section>

      <section>
        <h2>Proving Control and Binding</h2>

        <p>
          Binding an entity in the digital world or the physical world to a
          <a>DID</a>, to a <a>DID document</a>, or to cryptographic material
          requires, the use of security protocols contemplated by this
          specification. The following sections describe some possible scenarios
          and how an entity therein might prove control over a <a>DID</a> or a
          <a>DID document</a> for the purposes of authentication or
          authorization.
        </p>

        <section class="notoc">
          <h3>Proving Control of a DID and/or DID Document</h3>

          <p>
            Proving control over a <a>DID</a> and/or a <a>DID Document</a> is
            useful when updating either in a <a>verifiable data registry</a> or
            authenticating with remote systems. Cryptographic digital signatures
            and <a>verifiable timestamps</a> enable certain security protocols
            related to <a>DID documents</a> to be cryptographically verifiable.
            For these purposes, this specification defines useful
            <a>verification relationships</a> in
            <a href="#authentication"></a> and
            <a href="#capability-invocation"></a>. The secret cryptographic
            material associated with the <a>verification methods</a>
            can be used to generate a cryptographic digital signature as a part
            of an authentication or authorization security protocol.
          </p>

          <p class="note" title="Signed DID documents">
            Some <a>DID methods</a> allow digital signatures and other proofs to
            be included in the <a>DID document</a> or a
            <a href="#metadata-structure"></a>. However, such proofs by
            themselves do not necessarily prove control over a <a>DID</a>, or
            guarantee that the <a>DID document</a> is the correct one for the
            <a>DID</a>. In order to obtain the correct <a>DID document</a> and
            verify control over a <a>DID</a>, it is necessary to perform the
            <a>DID resolution</a> process as defined by the <a>DID method</a>.
          </p>
        </section>

        <section class="notoc">
          <h3>Binding to Physical Identity</h3>

          <p>
            A <a>DID</a> and <a>DID document</a> do not inherently carry any
            <a href="https://en.wikipedia.org/wiki/Personal_data"
              >personal data</a
            >
            and it is strongly advised that non-public entities do not publish
            personal data in <a>DID documents</a>.
          </p>

          <p>
            It can be useful to express a binding of a <a>DID</a> to a person's
            or organization's physical identity in a way that is provably
            asserted by a trusted authority, such as a government. This
            specification provides the <a href="#assertion"></a>
            <a>verification relationship</a> for these purposes. This feature
            can enable interactions that are private and can be considered
            legally enforceable under one or more jurisdictions; establishing
            such bindings has to be carefully balanced against privacy
            considerations (see <a href="#privacy-considerations"></a>).
          </p>

          <p>
            The process of binding a <a>DID</a> to something in the physical
            world, such as a person or an organization &mdash; for example, by
            using <a>verifiable credentials</a> with the same subject as that
            <a>DID</a> &mdash; is contemplated by this specification and further
            defined in the Verifiable Credentials Data Model [[VC-DATA-MODEL]].
          </p>
        </section>
      </section>

      <section>
        <h2>Authentication Service Endpoints</h2>

        <p>
          If a <a>DID document</a> publishes a <a>service</a> intended for
          authentication or authorization of the <a>DID subject</a> (see Section
          <a href="#services"></a>), it is the responsibility of the
          <a>service endpoint</a> provider, subject, or requesting party to
          comply with the requirements of the authentication protocols supported
          at that <a>service endpoint</a>.
        </p>
      </section>

      <section>
        <h2>Non-Repudiation</h2>

        <p>
          Non-repudiation of <a>DIDs</a> and <a>DID document</a> updates is
          supported if:
        </p>

        <ul>
          <li>
            The <a>verifiable data registry</a> supports
            <a>verifiable timestamps</a>. See
            <a href="#did-document-metadata"></a>
            for further information on useful timestamps that can be used during
            the
            <a>DID resolution</a> process.
          </li>
          <li>
            The subject is monitoring for unauthorized updates as elaborated
            upon in
            <a href="#notification-of-did-document-changes"></a>.
          </li>
          <li>
            The subject has had adequate opportunity to revert malicious updates
            according to the authorization mechanism for the <a>DID method</a>.
          </li>
        </ul>
      </section>

      <section>
        <h2>Notification of DID Document Changes</h2>

        <p>
          One mitigation against unauthorized changes to a
          <a>DID document</a> is monitoring and actively notifying the
          <a>DID subject</a> when there are changes. This is analogous to
          helping prevent account takeover on conventional username/password
          accounts by sending password reset notifications to the email
          addresses on file.
        </p>
        <p>
          In the case of a <a>DID</a>, there is no intermediary registrar or
          account provider to generate such notifications. However, if the
          <a>verifiable data registry</a> on which the <a>DID</a> is registered
          directly supports change notifications, a subscription service can be
          offered to <a>DID controllers</a>. Notifications could be sent
          directly to the relevant <a>service endpoints</a> listed in an
          existing <a>DID</a>.
        </p>
        <p>
          If a <a>DID controller</a> chooses to rely on a third-party monitoring
          service (other than the <a>verifiable data registry</a> itself), this
          introduces another vector of attack.
        </p>
      </section>

      <section>
        <h2>Key and Signature Expiration</h2>

        <p>
          In a <a>decentralized identifier</a> architecture, there might not be
          centralized authorities to enforce cryptographic material or
          cryptographic digital signature expiration policies. Therefore, it is
          with supporting software such as <a>DID resolvers</a> and verification
          libraries that requesting parties validate that cryptographic material
          were not expired at the time they were used. Requesting parties might
          employ their own expiration policies in addition to inputs into their
          verification processes. For example, some requesting parties might
          accept authentications from five minutes in the past, while others
          with access to high precision time sources might require
          authentications to be time stamped within the last 500 milliseconds.
        </p>
        <p>
          There are some requesting parties that have legitimate needs to extend
          the use of already-expired cryptographic material, such as verifying
          legacy cryptographic digital signatures. In these scenarios, a
          requesting party might instruct their verification software to ignore
          cryptographic key material expiration or determine if the
          cryptographic key material was expired at the time it was used.
        </p>
      </section>

      <section>
        <h2>Verification Method Rotation</h2>

        <p>
          Rotation is a management process that enables the secret cryptographic
          material associated with an existing <a>verification method</a> to be
          deactivated or destroyed once a new <a>verification method</a> has
          been added to the <a>DID document</a>. Going forward, any new proofs
          that a <a>controller</a> would have generated using the old secret
          cryptographic material can now instead be generated using the new
          cryptographic material and can be verified using the new
          <a>verification method</a>.
        </p>

        <p>
          Rotation is a useful mechanism for protecting against verification
          method compromise, since frequent rotation of a verification method by
          the controller reduces the value of a single compromised verification
          method to an attacker. Performing revocation immediately after
          rotation is useful for verification methods that a controller
          designates for short-lived verifications, such as those involved in
          encrypting messages and authentication.
        </p>

        <p>
          The following considerations might be of use when contemplating the
          use of
          <a>verification method</a> rotation:
        </p>

        <ul>
          <li>
            <a>Verification method</a> rotation is a proactive security measure.
          </li>
          <li>
            It is generally considered a best practice to perform
            <a>verification method</a>
            rotation on a regular basis.
          </li>
          <li>
            Higher security environments tend to employ more frequent
            verification method rotation.
          </li>
          <li>
            <a>Verification method</a> rotation manifests only as changes to the
            current or latest version of a <a>DID document</a>.
          </li>
          <li>
            When a <a>verification method</a> has been active for a long time,
            or used for many operations, a controller might wish to perform a
            rotation.
          </li>
          <li>
            Frequent rotation of a <a>verification method</a> might be
            frustrating for parties that are forced to continuously renew or
            refresh associated credentials.
          </li>
          <li>
            Proofs or signatures that rely on <a>verification methods</a> that
            are not present in the latest version of a <a>DID document</a> are
            not impacted by rotation. In these cases, verification software
            might require additional information, such as when a particular
            <a>verification method</a> was expected to be valid as well as
            access to a <a>verifiable data registry</a> containing a historical
            record, to determine the validity of the proof or signature. This
            option might not be available in all <a>DID methods</a>.
          </li>
          <li>
            The section on
            <a href="#method-operations">DID method operations</a> specifies the
            <a>DID</a> operations to be supported by a
            <a>DID method</a> specification, including
            <a href="#method-operations">update</a> which is expected to be used
            to perform a <a>verification method</a> rotation.
          </li>
          <li>
            A <a>controller</a> performs a rotation when they add a new
            <a>verification method</a> that is meant to replace an existing
            <a>verification method</a> after some time.
          </li>
          <li>
            Not all <a>DID methods</a> support
            <a>verification method</a> rotation.
          </li>
        </ul>
      </section>

      <section>
        <h2>Verification Method Revocation</h2>

        <p>
          Revocation is a management process that enables the secret
          cryptographic material associated with an existing
          <a>verification method</a> to be deactivated such that it ceases to be
          a valid form of creating new proofs of digital signatures.
        </p>
        <p>
          Revocation is a useful mechanism for reacting to a verification method
          compromise. Performing revocation immediately after rotation is useful
          for verification methods that a controller designates for short-lived
          verifications, such as those involved in encrypting messages and
          authentication.
        </p>

        <p>
          Compromise of the secrets associated with a
          <a>verification method</a> allows the attacker to use them according
          to the <a>verification relationship</a> expressed by
          <a>controller</a> in the <a>DID document</a>, for example, for
          authentication. The attacker's use of the secrets might be
          indistinguishable from the legitimate
          <a href="#did-controller">controller's</a> use starting from the time
          the <a>verification method</a> was registered, to the time it was
          revoked.
        </p>

        <p>
          The following considerations might be of use when contemplating the
          use of
          <a>verification method</a> revocation:
        </p>

        <ul>
          <li>
            <a>Verification method</a> revocation is a reactive security
            measure.
          </li>

          <li>It is considered a best practice to support key revocation.</li>

          <li>
            A <a>controller</a> is expected to immediately revoke any
            <a>verification method</a> that is known to be compromised.
          </li>

          <li>
            <a>Verification method</a> revocation can only be embodied in
            changes to the latest version of a <a>DID Document</a>; it cannot
            retroactively adjust previous versions.
          </li>

          <li>
            As described in <a href="#verification-material"></a>, absence of a
            verification method is the only form of revocation that applies to
            all <a>DID Methods</a>
            that support revocation.
          </li>

          <li>
            If a <a>verification method</a> is no longer exclusively accessible
            to the <a>controller</a> or parties trusted to act on behalf of the
            <a>controller</a>, it is expected to be revoked immediately to
            reduce the risk of compromises such as masquerading, theft, and
            fraud.
          </li>

          <li>
            Revocation is expected to be understood as a
            <a>controller</a> expressing that proofs or signatures associated
            with a revoked <a>verification method</a>
            created after its revocation should be treated as invalid. It could
            also imply a concern that existing proofs or signatures might have
            been created by an attacker, but this is not necessarily the case.
            Verifiers, however, might still choose to accept or reject any such
            proofs or signatures at their own discretion.
          </li>

          <li>
            The section on
            <a href="#method-operations">DID method operations</a> specifies the
            <a>DID</a> operations to be supported by a
            <a>DID method</a> specification, including
            <a href="#method-operations">update</a> and
            <a href="#method-operations">deactivate</a>, which might be used to
            remove a <a>verification method</a> from a <a>DID document</a>.
          </li>

          <li>
            Not all <a>DID methods</a> support
            <a>verification method</a> revocation.
          </li>

          <li>
            Even if a <a>verification method</a> is present in a
            <a>DID document</a>, additional information, such as a public key
            revocation certificate, or an external allow or deny list, could be
            used to determine whether a <a>verification method</a> has been
            revoked.
          </li>

          <li>
            The day-to-day operation of any software relying on a compromised
            <a>verification method</a>, such as an individual's operating
            system, antivirus, or endpoint protection software, could be
            impacted when the <a>verification method</a> is publicly revoked.
          </li>
        </ul>

        <section class="notoc">
          <h3>Revocation Semantics</h3>

          <p>
            Although verifiers might choose not to accept proofs or signatures
            from a revoked verification method, knowing whether a verification
            was made with a revoked <a>verification method</a> is trickier than
            it might seem. Some <a>DID methods</a> provide the ability to look
            back at the state of a <a>DID</a> at a point in time, or at a
            particular version of the <a>DID document</a>. When such a feature
            is combined with a reliable way to determine the time or <a>DID</a>
            version that existed when a cryptographically verifiable statement
            was made, then revocation does not undo that statement. This can be
            the basis for using
            <a>DIDs</a> to make binding commitments; for example, to sign a
            mortgage.
          </p>
          <p>
            If these conditions are met, revocation is not retroactive; it only
            nullifies future use of the method.
          </p>
          <p>
            However, in order for such semantics to be safe, the second
            condition &mdash; an ability to know what the state of the
            <a>DID document</a> was at the time the assertion was made &mdash;
            is expected to apply. Without that guarantee, someone could discover
            a revoked key and use it to make cryptographically verifiable
            statements with a simulated date in the past.
          </p>
          <p>
            Some <a>DID methods</a> only allow the retrieval of the current
            state of a <a>DID</a>. When this is true, or when the state of a
            <a>DID</a> at the time of a cryptographically verifiable statement
            cannot be reliably determined, then the only safe course is to
            disallow any consideration of DID state with respect to time, except
            the present moment. <a>DID</a> ecosystems that take this approach
            essentially provide cryptographically verifiable statements as
            ephemeral tokens that can be invalidated at any time by the
            <a>DID controller</a>.
          </p>
        </section>

        <section class="notoc">
          <h3>Revocation in Trustless Systems</h3>

          <p>
            Trustless systems are those where all trust is derived from
            cryptographically provable assertions, and more specifically, where
            no metadata outside of the cryptographic system is factored into the
            determination of trust in the system. To verify a signature of proof
            for a <a>verification method</a> which has been revoked in a
            trustless system, a <a>DID method</a> needs to support either or
            both of the `versionId` or `versionTime`, as well as both the
            `updated` and `nextUpdate`, <a>DID document</a> metadata properties.
            A verifier can validate a signature or proof of a revoked key if and
            only if all of the following are true:
          </p>

          <ul>
            <li>
              The proof or signature includes the `versionId` or `versionTime`
              of the <a>DID document</a> that was used at the point the
              signature or proof was created.
            </li>
            <li>
              The verifier can determine the point in time at which the
              signature or proof was made; for example, it was anchored on a
              blockchain.
            </li>
            <li>
              For the resolved <a>DID document</a> metadata, the `updated`
              timestamp is before, and the `nextUpdate` timestamp is after, the
              point in time at which the signature or proof was made.
            </li>
          </ul>
          <p>
            In systems that are willing to admit metadata other than those
            constituting cryptographic input, similar trust may be achieved --
            but always on the same basis where a careful judgment is made about
            whether a
            <a>DID document</a>'s content at the moment of a signing event
            contained the expected content.
          </p>
        </section>
      </section>

      <section>
        <h2>DID Recovery</h2>

        <p>
          Recovery is a reactive security measure whereby a
          <a>controller</a> that has lost the ability to perform DID operations,
          such as through the loss of a device, is able to regain the ability to
          perform DID operations.
        </p>

        <p>
          The following considerations might be of use when contemplating the
          use of
          <a>DID</a> recovery:
        </p>

        <ul>
          <li>
            Performing recovery proactively on an infrequent but regular basis,
            can help to ensure that control has not been lost.
          </li>

          <li>
            It is considered a best practice to never reuse cryptographic
            material associated with recovery for any other purposes.
          </li>

          <li>
            Recovery is commonly performed in conjunction with
            <a href="#verification-method-rotation"
              >verification method rotation</a
            >
            and
            <a href="#verification-method-revocation"
              >verification method revocation</a
            >.
          </li>

          <li>
            Recovery is advised when a <a>controller</a> or services trusted to
            act on their behalf no longer have the exclusive ability to perform
            DID operations as described in <a href="#method-operations"></a>.
          </li>

          <li>
            <a>DID method</a> specifications might choose to enable support for
            a quorum of trusted parties to facilitate recovery. Some of the
            facilities to do so are suggested in <a href="#did-controller"></a>.
          </li>

          <li>
            Not all <a>DID method</a> specifications will recognize control from
            <a>DIDs</a> registered using other <a>DID methods</a> and they might
            restrict third-party control to <a>DIDs</a> that use the same
            method.
          </li>

          <li>
            Access control and recovery in a <a>DID method</a> specification can
            also include a time lock feature to protect against key compromise
            by maintaining a second track of control for recovery.
          </li>

          <li>
            There are currently no common recovery mechanisms that apply to all
            <a>DID methods</a>.
          </li>
        </ul>
      </section>

      <section>
        <h2>The Role of Human-Friendly Identifiers</h2>

        <p>
          <a>DIDs</a> achieve global uniqueness without the need for a central
          registration authority. This comes at the cost of human memorability.
          Algorithms capable of generating globally unambiguous identifiers
          produce random strings of characters that have no human meaning. This
          trade-off is often referred to as
          <a href="https://en.wikipedia.org/wiki/Zooko%27s_triangle"
            >Zooko's Triangle</a
          >.
        </p>

        <p>
          There are use cases where it is desirable to discover a
          <a>DID</a> when starting from a human-friendly identifier. For
          example, a natural language name, a domain name, or a conventional
          address for a <a>DID controller</a>, such as a mobile telephone
          number, email address, social media username, or blog URL. However,
          the problem of mapping human-friendly identifiers to <a>DIDs</a>, and
          doing so in a way that can be verified and trusted, is outside the
          scope of this specification.
        </p>

        <p>
          Solutions to this problem are defined in separate specifications, such
          as [[?DNS-DID]], that reference this specification. It is strongly
          recommended that such specifications carefully consider the:
        </p>

        <ul>
          <li>
            Numerous security attacks based on deceiving users about the true
            human-friendly identifier for a target entity.
          </li>
          <li>
            Privacy consequences of using human-friendly identifiers that are
            inherently correlatable, especially if they are globally unique.
          </li>
        </ul>
      </section>

      <section>
        <h2>DIDs as Enhanced URNs</h2>

        <p>
          If desired by a <a>DID controller</a>, a <a>DID</a> or a
          <a>DID URL</a> is capable of acting as persistent,
          location-independent resource identifier. These sorts of identifiers
          are classified as Uniform Resource Names (URNs) and are defined in
          [[RFC8141]]. <a>DIDs</a> are an enhanced form of URN that provide a
          cryptographically secure, location-independent identifier for a
          digital resource, while also providing metadata that enables
          retrieval. Due to the indirection between the <a>DID document</a> and
          the <a>DID</a> itself, the <a>DID controller</a> can adjust the actual
          location of the resource &mdash; or even provide the resource directly
          &mdash; without adjusting the <a>DID</a>. <a>DIDs</a> of this type can
          definitively verify that the resource retrieved is, in fact, the
          resource identified.
        </p>
        <p>
          A <a>DID controller</a> who intends to use a <a>DID</a> for this
          purpose is advised to follow the security considerations in
          [[RFC8141]]. In particular:
        </p>
        <ul>
          <li>
            The <a>DID controller</a> is expected to choose a
            <a>DID method</a> that supports the controller's requirements for
            persistence. The Decentralized Characteristics Rubric
            [[?DID-RUBRIC]] is one tool available to help implementers decide
            upon the most suitable <a>DID method</a>.
          </li>
          <li>
            The <a>DID controller</a> is expected to publish its operational
            policies so requesting parties can determine the degree to which
            they can rely on the persistence of a <a>DID</a> controlled by that
            <a>DID controller</a>. In the absence of such policies, requesting
            parties are not expected to make any assumption about whether a
            <a>DID</a> is a persistent identifier for the same
            <a>DID subject</a>.
          </li>
        </ul>
      </section>

      <section>
        <h2>Immutability</h2>

        <p>
          Many cybersecurity abuses hinge on exploiting gaps between reality and
          the assumptions of rational, good-faith actors. Immutability of
          <a>DID documents</a> can provide some security benefits. Individual
          <a>DID methods</a> ought to consider constraints that would eliminate
          behaviors or semantics they do not need. The more
          <em>locked down</em> a <a>DID method</a> is, while providing the same
          set of features, the less it can be manipulated by malicious actors.
        </p>
        <p>
          As an example, consider that a single edit to a
          <a>DID document</a> can change anything except the root
          <code><a>id</a></code> property of the document. But is it actually
          desirable for a <a>service</a> to change its <code>type</code> after
          it is defined? Or for a key to change its value? Or would it be better
          to require a new <code><a>id</a></code> when certain fundamental
          properties of an object change? Malicious takeovers of a website often
          aim for an outcome where the site keeps its host name identifier, but
          is subtly changed underneath. If certain properties of the site, such
          as the
          <a
            target="_blank"
            href="https://en.wikipedia.org/wiki/Autonomous_system_(Internet)"
            >ASN</a
          >
          associated with its IP address, were required by the specification to
          be immutable, anomaly detection would be easier, and attacks would be
          much harder and more expensive to carry out.
        </p>
        <p>
          For <a>DID methods</a> tied to a global source of truth, a direct,
          just-in-time lookup of the latest version of a <a>DID document</a> is
          always possible. However, it seems likely that layers of cache might
          eventually sit between a <a>DID resolver</a> and that source of truth.
          If they do, believing the attributes of an object in the
          <a>DID document</a> to have a given state when they are actually
          subtly different might invite exploits. This is particularly true if
          some lookups are of a full <a>DID document</a>, and others are of
          partial data where the larger context is assumed.
        </p>
      </section>

      <section>
        <h2>Encrypted Data in DID Documents</h2>
        <p>
          Encryption algorithms have been known to fail due to advances in
          cryptography and computing power. Implementers are advised to assume
          that any encrypted data placed in a <a>DID document</a> might
          eventually be made available in clear text to the same audience to
          which the encrypted data is available. This is particularly pertinent
          if the <a>DID document</a> is public.
        </p>
        <p>
          Encrypting all or parts of a <a>DID document</a> is <em>not</em> an
          appropriate means to protect data in the long term. Similarly, placing
          encrypted data in a <a>DID document</a> is not an appropriate means to
          protect personal data.
        </p>
        <p>
          Given the caveats above, if encrypted data is included in a
          <a>DID document</a>, implementers are advised to not associate any
          correlatable information that could be used to infer a relationship
          between the encrypted data and an associated party. Examples of
          correlatable information include public keys of a receiving party,
          identifiers to digital assets known to be under the control of a
          receiving party, or human readable descriptions of a receiving party.
        </p>
      </section>

      <section>
        <h2>Equivalence Properties</h2>
        <p>
          Given the <code><a>equivalentId</a></code> and
          <code><a>canonicalId</a></code> properties are generated by
          <a>DID methods</a> themselves, the same security and accuracy
          guarantees that apply to the resolved <a>DID</a> present in the
          <code>id</code> field of a <a>DID document</a> also apply to these
          properties. The <code><a>alsoKnownAs</a></code> property is not
          guaranteed to be an accurate statement of equivalence, and should not
          be relied upon without performing validation steps beyond the
          resolution of the <a>DID document</a>.
        </p>
        <p>
          The <code><a>equivalentId</a></code> and
          <code><a>canonicalId</a></code> properties express equivalence
          assertions to variants of a single <a>DID</a> produced by the same
          <a>DID method</a> and can be trusted to the extent the requesting
          party trusts the <a>DID method</a> and a 규범에 부합하는 생산자 and
          resolver.
        </p>
        <p>
          The <code><a>alsoKnownAs</a></code> property permits an equivalence
          assertion to <a>URIs</a> that are not governed by the same
          <a>DID method</a> and cannot be trusted without performing
          verification steps outside of the governing <a>DID method</a>. See
          additional guidance in <a href="#also-known-as"></a>.
        </p>
        <p>
          As with any other security-related properties in the
          <a>DID document</a>, parties relying on any equivalence statement in a
          <a>DID document</a> should guard against the values of these
          properties being substituted by an attacker after the proper
          verification has been performed. Any write access to a
          <a>DID document</a> stored in memory or disk after verification has
          been performed is an attack vector that might circumvent verification
          unless the <a>DID document</a> is re-verified.
        </p>
      </section>

      <section>
        <h2>Content Integrity Protection</h2>
        <p>
          <a>DID documents</a> which include links to external machine-readable
          content such as images, web pages, or schemas are vulnerable to
          tampering. It is strongly advised that external links are integrity
          protected using solutions such as a hashlink [[?HASHLINK]]. External
          links are to be avoided if they cannot be integrity protected and the
          <a>DID document</a>'s integrity is dependent on the external link.
        </p>
        <p>
          One example of an external link where the integrity of the
          <a>DID document</a> itself could be affected is the JSON-LD Context
          [[JSON-LD11]]. To protect against compromise,
          <a>DID document</a> consumers are advised to cache local static copies
          of JSON-LD contexts and/or verify the integrity of external contexts
          against a cryptographic hash that is known to be associated with a
          safe version of the external JSON-LD Context.
        </p>
      </section>
      <section>
        <h2>Persistence</h2>
        <p>
          <a>DIDs</a> are designed to be persistent such that a
          <a>controller</a> need not rely upon a single trusted third party or
          administrator to maintain their identifiers. In an ideal case, no
          administrator can take control away from the <a>controller</a>, nor
          can an administrator prevent their identifiers' use for any particular
          purpose such as authentication, authorization, and attestation. No
          third party can act on behalf of a <a>controller</a> to remove or
          render inoperable an entity's identifier without the
          <a>controller</a>'s consent.
        </p>
        <p>
          However, it is important to note that in all <a>DID methods</a> that
          enable cryptographic proof-of-control, the means of proving control
          can always be transferred to another party by transferring the secret
          cryptographic material. Therefore, it is vital that systems relying on
          the persistence of an identifier over time regularly check to ensure
          that the identifier is, in fact, still under the control of the
          intended party.
        </p>
        <p>
          Unfortunately, it is impossible to determine from the cryptography
          alone whether or not the secret cryptographic material associated with
          a given
          <a>verification method</a> has been compromised. It might well be that
          the expected <a>controller</a> still has access to the secret
          cryptographic material &mdash; and as such can execute a
          proof-of-control as part of a verification process &mdash; while at
          the same time, a bad actor also has access to those same keys, or to a
          copy thereof.
        </p>
        <p>
          As such, cryptographic proof-of-control is expected to only be used as
          one factor in evaluating the level of identity assurance required for
          high-stakes scenarios. <a>DID</a>-based authentication provides much
          greater assurance than a username and password, thanks to the ability
          to determine control over a cryptographic secret without transmitting
          that secret between systems. However, it is not infallible. Scenarios
          that involve sensitive, high value, or life-critical operations are
          expected to use additional factors as appropriate.
        </p>
        <p>
          In addition to potential ambiguity from use by different
          <a>controllers</a>, it is impossible to guarantee, in general, that a
          given <a>DID</a> is being used in reference to the same subject at any
          given point in time. It is technically possible for the controller to
          reuse a <a>DID</a> for different subjects and, more subtly, for the
          precise definition of the subject to either change over time or be
          misunderstood.
        </p>
        <p>
          For example, consider a <a>DID</a> used for a sole proprietorship,
          receiving various credentials used for financial transactions. To the
          <a>controller</a>, that identifier referred to the business. As the
          business grows, it eventually gets incorporated as a Limited Liability
          Company. The <a>controller</a> continues using that same <a>DID</a>,
          because to <strong>them</strong> the <a>DID</a> refers to the
          business. However, to the state, the tax authority, and the local
          municipality, the <a>DID</a> no longer refers to the same entity.
          Whether or not the subtle shift in meaning matters to a credit
          provider or supplier is necessarily up to them to decide. In many
          cases, as long as the bills get paid and collections can be enforced,
          the shift is immaterial.
        </p>
        <p>
          Due to these potential ambiguities, <a>DIDs</a> are to be considered
          valid <em>contextually</em> rather than absolutely. Their persistence
          does not imply that they refer to the exact same subject, nor that
          they are under the control of the same <a>controller</a>. Instead, one
          needs to understand the context in which the <a>DID</a> was created,
          how it is used, and consider the likely shifts in their meaning, and
          adopt procedures and policies to address both potential and inevitable
          semantic drift.
        </p>
      </section>

      <section>
        <h2>Level of Assurance</h2>

        <p>
          Additional information about the security context of authentication
          events is often required for compliance reasons, especially in
          regulated areas such as the financial and public sectors. This
          information is often referred to as a Level of Assurance (LOA).
          Examples include the protection of secret cryptographic material, the
          identity proofing process, and the form-factor of the authenticator.
        </p>

        <p>
          <a
            target="_blank"
            href="https://ec.europa.eu/info/law/payment-services-psd-2-directive-eu-2015-2366_en"
          >
            Payment services (PSD 2)</a
          >
          and
          <a
            target="_blank"
            href="https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=uriserv:OJ.L_.2014.257.01.0073.01.ENG"
          >
            eIDAS</a
          >
          introduce such requirements to the security context. Level of
          assurance frameworks are classified and defined by regulations and
          standards such as
          <a
            target="_blank"
            href="https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=uriserv:OJ.L_.2014.257.01.0073.01.ENG"
          >
            eIDAS</a
          >,
          <a
            target="_blank"
            href="https://pages.nist.gov/800-63-3/sp800-63-3.html"
          >
            NIST 800-63-3</a
          >
          and
          <a target="_blank" href="https://www.iso.org/standard/45138.html">
            ISO/IEC 29115:2013</a
          >, including their requirements for the security context, and making
          recommendations on how to achieve them. This might include strong user
          authentication where
          <a target="_blank" href="https://fidoalliance.org/fido2/">FIDO2</a>/<a
            target="_blank"
            href="https://www.w3.org/TR/webauthn-2/"
            >WebAuthn</a
          >
          can fulfill the requirement.
        </p>

        <p>
          Some regulated scenarios require the implementation of a specific
          level of assurance. Since <a>verification relationships</a> such as
          <code> <a>assertionMethod</a></code> and
          <code><a>authentication</a></code> might be used in some of these
          situations, information about the applied security context might need
          to be expressed and provided to a <em>verifier</em>. Whether and how
          to encode this information in the <a>DID document</a> data model is
          out of scope for this specification. Interested readers might note
          that 1) the information could be transmitted using Verifiable
          Credentials [[?VC-DATA-MODEL]], and 2) the <a>DID document</a> data
          model can be extended to incorporate this information as described in
          <a href="#extensibility"></a>, and where
          <a href="#privacy-considerations"></a> is applicable for such
          extensions.
        </p>
      </section>
    </section>

    <section class="informative">
      <h1>Privacy Considerations</h1>

      <p>
        Since <a>DIDs</a> and <a>DID documents</a> are designed to be
        administered directly by the <a>DID controller(s)</a>, it is critically
        important to apply the principles of Privacy by Design
        [[PRIVACY-BY-DESIGN]] to all aspects of the
        <a>decentralized identifier</a> architecture. All seven of these
        principles have been applied throughout the development of this
        specification. The design used in this specification does not assume
        that there is a registrar, hosting company, nor other intermediate
        service provider to recommend or apply additional privacy safeguards.
        Privacy in this specification is preventive, not remedial, and is an
        embedded default. The following sections cover privacy considerations
        that implementers might find useful when building systems that utilize
        <a>decentralized identifiers</a>.
      </p>

      <section>
        <h2>Keep Personal Data Private</h2>

        <p>
          If a <a>DID method</a> specification is written for a public-facing
          <a>verifiable data registry</a> where corresponding <a>DIDs</a> and
          <a>DID documents</a> might be made publicly available, it is
          <em>critical</em> that those <a>DID documents</a> contain no personal
          data. Personal data can instead be transmitted through other means
          such as 1) Verifiable Credentials [[?VC-DATA-MODEL]], or 2)
          <a>service endpoints</a> under control of the <a>DID subject</a> or
          <a>DID controller</a>.
        </p>

        <p>
          Due diligence is expected to be taken around the use of URLs in
          <a>service endpoints</a> to prevent leakage of personal data or
          correlation within a URL of a <a>service endpoint</a>. For example, a
          URL that contains a username is dangerous to include in a
          <a>DID Document</a> because the username is likely to be
          human-meaningful in a way that can reveal information that the
          <a>DID subject</a> did not consent to sharing. With the privacy
          architecture suggested by this specification, personal data can be
          exchanged on a private, peer-to-peer basis using communication
          channels identified and secured by <a>verification methods</a> in
          <a>DID documents</a>. This also enables <a>DID subjects</a> and
          requesting parties to implement the
          <a
            href="https://en.wikipedia.org/wiki/General_Data_Protection_Regulation"
            >GDPR</a
          >
          <a href="https://en.wikipedia.org/wiki/Right_to_be_forgotten"
            >right to be forgotten</a
          >, because no personal data is written to an immutable
          <a>distributed ledger</a>.
        </p>
      </section>

      <section>
        <h2>DID Correlation Risks</h2>

        <p>
          Like any type of globally unambiguous identifier, <a>DIDs</a> might be
          used for correlation. <a>DID controllers</a> can mitigate this privacy
          risk by using pairwise <a>DIDs</a> that are unique to each
          relationship; in effect, each <a>DID</a> acts as a pseudonym. A
          pairwise <a>DID</a> need only be shared with more than one party when
          correlation is explicitly desired. If pairwise <a>DIDs</a> are the
          default, then the only need to publish a <a>DID</a> openly, or to
          share it with multiple parties, is when the
          <a href="#dfn-did-controllers">DID controller(s)</a> and/or
          <a>DID subject</a>
          explicitly desires public identification and correlation.
        </p>
      </section>

      <section>
        <h2>DID Document Correlation Risks</h2>

        <p>
          The anti-correlation protections of pairwise <a>DIDs</a> are easily
          defeated if the data in the corresponding <a>DID documents</a> can be
          correlated. For example, using identical
          <a>verification methods</a> or bespoke <a>service endpoints</a> in
          multiple <a>DID documents</a> can provide as much correlation
          information as using the same <a>DID</a>. Therefore, the
          <a>DID document</a> for a pairwise <a>DID</a> also needs to use
          pairwise unique information, such as ensuring that
          <a>verification methods</a> are unique to the pairwise relationship.
        </p>

        <p>
          It might seem natural to also use pairwise unique
          <a>service endpoints</a> in the <a>DID document</a> for a pairwise
          <a>DID</a>. However, unique endpoints allow all traffic between two
          <a>DIDs</a> to be isolated perfectly into unique buckets, where timing
          correlation and similar analysis is easy. Therefore, a better strategy
          for endpoint privacy might be to share an endpoint among a large
          number of <a>DIDs</a> controlled by many different subjects (see
          <a href="#herd-privacy"></a>).
        </p>
      </section>

      <section>
        <h2>DID Subject Classification</h2>
        <p>
          It is dangerous to add properties to the <a>DID document</a> that can
          be used to indicate, explicitly or through inference, what
          <em>type</em> or nature of thing the <a>DID subject</a> is,
          particularly if the <a>DID subject</a> is a person.
        </p>
        <p>
          Not only do such properties potentially result in personal data (see
          <a href="#keep-personal-data-private"></a>) or correlatable data (see
          <a href="#did-correlation-risks"> </a> and
          <a href="#did-document-correlation-risks"></a>) being present in the
          <a>DID document</a>, but they can be used for grouping particular
          <a>DIDs</a>
          in such a way that they are included in or excluded from certain
          operations or functionalities.
        </p>
        <p>
          Including <em>type</em> information in a <a>DID Document</a> can
          result in personal privacy harms even for <a>DID Subjects</a> that are
          non-person entities, such as IoT devices. The aggregation of such
          information around a <a>DID Controller</a> could serve as a form of
          digital fingerprint and this is best avoided.
        </p>
        <p>
          To minimize these risks, all properties in a <a>DID document</a> ought
          to be for expressing cryptographic material, endpoints, or
          <a>verification methods</a> related to using the <a>DID</a>.
        </p>
      </section>

      <section>
        <h2>Herd Privacy</h2>

        <p>
          When a <a>DID subject</a> is indistinguishable from others in the
          herd, privacy is available. When the act of engaging privately with
          another party is by itself a recognizable flag, privacy is greatly
          diminished.
        </p>
        <p>
          <a>DIDs</a> and <a>DID methods</a> need to work to improve herd
          privacy, particularly for those who legitimately need it most. Choose
          technologies and human interfaces that default to preserving anonymity
          and pseudonymity. To reduce
          <a href="https://en.wikipedia.org/wiki/Device_fingerprint"
            >digital fingerprints</a
          >, share common settings across requesting party implementations, keep
          negotiated options to a minimum on wire protocols, use encrypted
          transport layers, and pad messages to standard lengths.
        </p>
      </section>

      <section>
        <h2>Service Privacy</h2>
        <p>
          The ability for a <a>controller</a> to optionally express at least one
          <a>service endpoint</a> in the <a>DID document</a> increases their
          control and agency. Each additional endpoint in the
          <a>DID document</a> adds privacy risk either due to correlation, such
          as across endpoint descriptions, or because the <a>services</a> are
          not protected by an authorization mechanism, or both.
        </p>
        <p>
          <a>DID documents</a> are often public and, since they are
          standardized, will be stored and indexed efficiently by their very
          standards-based nature. This risk is worse if <a>DID documents</a> are
          published to immutable <a>verifiable data registries</a>. Access to a
          history of the <a>DID documents</a> referenced by a
          <a>DID</a> represents a form of traffic analysis made more efficient
          through the use of standards.
        </p>
        <p>
          The degree of additional privacy risk caused by using multiple
          <a>service endpoints</a> in one <a>DID document</a> can be difficult
          to estimate. Privacy harms are typically unintended consequences.
          <a>DIDs</a> can refer to documents, <a>services</a>, schemas, and
          other things that might be associated with individual people,
          households, clubs, and employers &mdash; and correlation of their
          <a>service endpoints</a> could become a powerful surveillance and
          inference tool. An example of this potential harm can be seen when
          multiple common country-level top level domains such as
          <code>https://example.co.uk</code> might be used to infer the
          approximate location of the <a>DID subject</a> with a greater degree
          of probability.
        </p>

        <section class="notoc">
          <h3>Maintaining Herd Privacy</h3>
          <p>
            The variety of possible endpoints makes it particularly challenging
            to maintain herd privacy, in which no information about the
            <a>DID subject</a> is leaked (see <a href="#herd-privacy"></a>).
          </p>

          <p>
            First, because service endpoints might be specified as <a>URIs</a>,
            they could unintentionally leak personal information because of the
            architecture of the service. For example, a service endpoint of
            <code>http://example.com/MyFirstName</code> is leaking the term
            <code>MyFirstName</code> to everyone who can access the
            <a>DID document</a>. When linking to legacy systems, this is an
            unavoidable risk, and care is expected to be taken in such cases.
            This specification encourages new, <a>DID</a>-aware endpoints to use
            nothing more than the <a>DID</a> itself for any identification
            necessary. For example, if a service description were to include
            <code>http://example.com/did%3Aexample%3Aabc123</code>, no harm
            would be done because <code>did:example:abc123</code> is already
            exposed in the DID Document; it leaks no additional information.
          </p>

          <p>
            Second, because a <a>DID document</a> can list multiple service
            endpoints, it is possible to irreversibly associate services that
            are not associated in any other context. This correlation on its own
            may lead to privacy harms by revealing information about the
            <a>DID subject</a>, even if the <a>URIs</a> used did not contain any
            sensitive information.
          </p>
          <p>
            Third, because some types of <a>DID subjects</a> might be more or
            less likely to list specific endpoints, the listing of a given
            service could, by itself, leak information that can be used to infer
            something about the <a>DID subject</a>. For example, a
            <a>DID</a> for an automobile might include a pointer to a public
            title record at the Department of Motor Vehicles, while a
            <a>DID</a> for an individual would not include that information.
          </p>
          <p>
            It is the goal of herd privacy to ensure that the nature of specific
            <a>DID subjects</a> is obscured by the population of the whole. To
            maximize herd privacy, implementers need to rely on one &mdash; and
            only one &mdash; service endpoint, with that endpoint providing a
            proxy or mediator service that the controller is willing to depend
            on, to protect such associations and to blind requests to the
            ultimate service.
          </p>
        </section>

        <section class="notoc">
          <h3>Service Endpoint Alternatives</h3>

          <p>
            Given the concerns in the previous section, implementers are urged
            to consider any of the following service endpoint approaches:
          </p>

          <ul>
            <li>
              <strong>Negotiator Endpoint</strong> &mdash; Service for
              negotiating mutually agreeable communications channels, preferably
              using private set intersection. The output of negotiation is a
              communication channel and whatever credentials might be needed to
              access it.
            </li>
            <li>
              <strong>Tor Endpoint</strong> (<a
                href="https://www.torproject.org/about/history/"
                >Tor Onion Router</a
              >) &mdash; Provide a privacy-respecting address for reaching
              service endpoints. Any service that can be provided online can be
              provided through TOR for additional privacy.
            </li>
            <li>
              <strong>Mediator Endpoint</strong> &mdash;
              <a
                href="https://github.com/hyperledger/aries-rfcs/blob/720bdab50e2d0437fda03028c1b17c69781bdd69/concepts/0046-mediators-and-relays/README.md"
                >Mediators</a
              >
              provide a generic endpoint, for multiple parties, receive
              encrypted messages on behalf of those parties, and forward them to
              the intended recipient. This avoids the need to have a specific
              endpoint per subject, which could create a correlation risk. This
              approach is also called a proxy.
            </li>
            <li>
              <strong>Confidential Storage</strong> &mdash; Proprietary or
              confidential personal information might need to be kept off of a
              <a>verifiable data registry</a> to provide additional privacy
              and/or security guarantees, especially for those
              <a>DID methods</a> where <a>DID documents</a> are published on a
              public ledger. Pointing to external resource services provides a
              means for authorization checks and deletion.
            </li>
            <li>
              <strong>Polymorphic Proxy</strong> &mdash; A proxy endpoint that
              can act as any number of services, depending on how it is called.
              For example, the same URL could be used for both negotiator and
              mediator functions, depending on a mechanism for re-routing.
            </li>
          </ul>

          <p>
            These service endpoint types continue to be an area of innovation
            and exploration.
          </p>
        </section>
      </section>
    </section>

    <section class="appendix">
      <h1>Examples</h1>
      <section class="informative">
        <h2>DID Documents</h2>

        <p>
          See
          <a
            href="https://www.w3.org/TR/did-spec-registries/#verification-method-types"
          >
            Verification Method Types</a
          >
          [[?DID-SPEC-REGISTRIES]] for optional extensions and other
          verification method types.
        </p>

        <p class="note">
          These examples are for information purposes only, it is considered a
          best practice to avoid using the same <a>verification method</a> for
          multiple purposes.
        </p>

        <pre
          class="example"
          title="DID Document with 1 verification method type"
        >
  {
    "@context": [
      "https://www.w3.org/ns/did/v1",
      "https://w3id.org/security/suites/ed25519-2020/v1"
    ],
    "id": "did:example:123",
    "authentication": [
      {
        "id": "did:example:123#z6MkecaLyHuYWkayBDLw5ihndj3T1m6zKTGqau3A51G7RBf3",
        "type": "Ed25519VerificationKey2020", <span class="comment">// external (property value)</span>
        "controller": "did:example:123",
        "publicKeyMultibase": "zAKJP3f7BD6W4iWEQ9jwndVTCBq8ua2Utt8EEjJ6Vxsf"
      }
    ],
    "capabilityInvocation": [
      {
        "id": "did:example:123#z6MkhdmzFu659ZJ4XKj31vtEDmjvsi5yDZG5L7Caz63oP39k",
        "type": "Ed25519VerificationKey2020", <span class="comment">// external (property value)</span>
        "controller": "did:example:123",
        "publicKeyMultibase": "z4BWwfeqdp1obQptLLMvPNgBw48p7og1ie6Hf9p5nTpNN"
      }
    ],
    "capabilityDelegation": [
      {
        "id": "did:example:123#z6Mkw94ByR26zMSkNdCUi6FNRsWnc2DFEeDXyBGJ5KTzSWyi",
        "type": "Ed25519VerificationKey2020", <span class="comment">// external (property value)</span>
        "controller": "did:example:123",
        "publicKeyMultibase": "zHgo9PAmfeoxHG8Mn2XHXamxnnSwPpkyBHAMNF3VyXJCL"
      }
    ],
    "assertionMethod": [
      {
        "id": "did:example:123#z6MkiukuAuQAE8ozxvmahnQGzApvtW7KT5XXKfojjwbdEomY",
        "type": "Ed25519VerificationKey2020", <span class="comment">// external (property value)</span>
        "controller": "did:example:123",
        "publicKeyMultibase": "z5TVraf9itbKXrRvt2DSS95Gw4vqU3CHAdetoufdcKazA"
      }
    ]
}
      </pre>

        <pre class="example" title="DID Document with many different key types">
{
  "@context": [
    "https://www.w3.org/ns/did/v1",
    "https://w3id.org/security/suites/jws-2020/v1"
  ],
  "verificationMethod": [
    {
      "id": "did:example:123#key-0",
      "type": "JsonWebKey2020",
      "controller": "did:example:123",
      "publicKeyJwk": {
        "kty": "OKP", // external (property name)
        "crv": "Ed25519", // external (property name)
        "x": "VCpo2LMLhn6iWku8MKvSLg2ZAoC-nlOyPVQaO3FxVeQ" // external (property name)
      }
    },
    {
      "id": "did:example:123#key-1",
      "type": "JsonWebKey2020",
      "controller": "did:example:123",
      "publicKeyJwk": {
        "kty": "OKP", // external (property name)
        "crv": "X25519", // external (property name)
        "x": "pE_mG098rdQjY3MKK2D5SUQ6ZOEW3a6Z6T7Z4SgnzCE" // external (property name)
      }
    },
    {
      "id": "did:example:123#key-2",
      "type": "JsonWebKey2020",
      "controller": "did:example:123",
      "publicKeyJwk": {
        "kty": "EC", // external (property name)
        "crv": "secp256k1", // external (property name)
        "x": "Z4Y3NNOxv0J6tCgqOBFnHnaZhJF6LdulT7z8A-2D5_8", // external (property name)
        "y": "i5a2NtJoUKXkLm6q8nOEu9WOkso1Ag6FTUT6k_LMnGk" // external (property name)
      }
    },
    {
      "id": "did:example:123#key-3",
      "type": "JsonWebKey2020",
      "controller": "did:example:123",
      "publicKeyJwk": {
        "kty": "EC", // external (property name)
        "crv": "secp256k1", // external (property name)
        "x": "U1V4TVZVMUpUa0ZVU1NBcU9CRm5IbmFaaEpGNkxkdWx", // external (property name)
        "y": "i5a2NtJoUKXkLm6q8nOEu9WOkso1Ag6FTUT6k_LMnGk" // external (property name)
      }
    },
    {
      "id": "did:example:123#key-4",
      "type": "JsonWebKey2020",
      "controller": "did:example:123",
      "publicKeyJwk": {
        "kty": "EC", // external (property name)
        "crv": "P-256", // external (property name)
        "x": "Ums5WVgwRkRTVVFnU3k5c2xvZllMbEcwM3NPRW91ZzN", // external (property name)
        "y": "nDQW6XZ7b_u2Sy9slofYLlG03sOEoug3I0aAPQ0exs4" // external (property name)
      }
    },
    {
      "id": "did:example:123#key-5",
      "type": "JsonWebKey2020",
      "controller": "did:example:123",
      "publicKeyJwk": {
        "kty": "EC", // external (property name)
        "crv": "P-384", // external (property name)
        "x": "VUZKSlUwMGdpSXplekRwODhzX2N4U1BYdHVYWUZsaXVDR25kZ1U0UXA4bDkxeHpE", // external (property name)
        "y": "jq4QoAHKiIzezDp88s_cxSPXtuXYFliuCGndgU4Qp8l91xzD1spCmFIzQgVjqvcP" // external (property name)
      }
    },
    {
      "id": "did:example:123#key-6",
      "type": "JsonWebKey2020",
      "controller": "did:example:123",
      "publicKeyJwk": {
        "kty": "EC", // external (property name)
        "crv": "P-521", // external (property name)
        "x": "VTI5c1lYSmZWMmx1WkhNZ0dQTXhaYkhtSnBEU3UtSXZwdUtpZ0VOMnB6Z1d0U28tLVJ3ZC1uNzhuclduWnplRGMx", // external (property name)
        "y": "UW5WNVgwSnBkR052YVc0Z1VqY1B6LVpoZWNaRnliT3FMSUpqVk9sTEVUSDd1UGx5RzBnRW9NV25JWlhoUVZ5cFB5" // external (property name)
      }
    },
    {
      "id": "did:example:123#key-7",
      "type": "JsonWebKey2020",
      "controller": "did:example:123",
      "publicKeyJwk": {
        "kty": "RSA", // external (property name)
        "e": "AQAB", // external (property name)
        "n": "UkhWaGJGOUZRMTlFVWtKSElBdENGV2hlU1F2djFNRXh1NVJMQ01UNGpWazlraEpLdjhKZU1YV2UzYldIYXRqUHNrZGYyZGxhR2tXNVFqdE9uVUtMNzQybXZyNHRDbGRLUzNVTElhVDFoSkluTUhIeGoyZ2N1Yk82ZUVlZ0FDUTRRU3U5TE8wSC1MTV9MM0RzUkFCQjdRamE4SGVjcHl1c3BXMVR1X0RicXhjU253ZW5kYW13TDUyVjE3ZUtobE80dVh3djJIRmx4dWZGSE0wS21DSnVqSUt5QXhqRF9tM3FfX0lpSFVWSEQxdERJRXZMUGhHOUF6c24zajk1ZC1zYU" // external (property name)
      }
    }
  ]
}
      </pre
        >
        <pre
          class="example"
          title="DID Document with different verification method types"
        >
{
  "@context": [
    "https://www.w3.org/ns/did/v1",
    "https://w3id.org/security/suites/ed25519-2018/v1",
    "https://w3id.org/security/suites/x25519-2019/v1",
    "https://w3id.org/security/suites/secp256k1-2019/v1",
    "https://w3id.org/security/suites/jws-2020/v1"
  ],
  "verificationMethod": [
    {
      "id": "did:example:123#key-0",
      "type": "Ed25519VerificationKey2018",
      "controller": "did:example:123",
      "publicKeyBase58": "3M5RCDjPTWPkKSN3sxUmmMqHbmRPegYP1tjcKyrDbt9J" // external (property name)
    },
    {
      "id": "did:example:123#key-1",
      "type": "X25519KeyAgreementKey2019",
      "controller": "did:example:123",
      "publicKeyBase58": "FbQWLPRhTH95MCkQUeFYdiSoQt8zMwetqfWoxqPgaq7x" // external (property name)
    },
    {
      "id": "did:example:123#key-2",
      "type": "EcdsaSecp256k1VerificationKey2019",
      "controller": "did:example:123",
      "publicKeyBase58": "ns2aFDq25fEV1NUd3wZ65sgj5QjFW8JCAHdUJfLwfodt" // external (property name)
    },
    {
      "id": "did:example:123#key-3",
      "type": "JsonWebKey2020",
      "controller": "did:example:123",
      "publicKeyJwk": {
        "kty": "EC", // external (property name)
        "crv": "P-256", // external (property name)
        "x": "Er6KSSnAjI70ObRWhlaMgqyIOQYrDJTE94ej5hybQ2M", // external (property name)
        "y": "pPVzCOTJwgikPjuUE6UebfZySqEJ0ZtsWFpj7YSPGEk" // external (property name)
      }
    }
  ]
}
      </pre
        >
      </section>

      <section class="informative">
        <h2>Proving</h2>

        <p class="note">
          These examples are for information purposes only. See
          <a href="https://www.w3.org/TR/vc-data-model/"
            >W3C Verifiable Credentials Data Model</a
          >
          for additional examples.
        </p>

        <pre
          class="example"
          title="Verifiable Credential linked to a verification method of type Ed25519VerificationKey2020"
        >
{  <span class="comment">// external (all terms in this example)</span>
  "@context": [
    "https://www.w3.org/2018/credentials/v1",
    "https://w3id.org/citizenship/v1"
  ],
  "type": [
    "VerifiableCredential",
    "PermanentResidentCard"
  ],
  "credentialSubject": {
    "id": "did:example:123",
    "type": [
      "PermanentResident",
      "Person"
    ],
    "givenName": "JOHN",
    "familyName": "SMITH",
    "gender": "Male",
    "image": "data:image/png;base64,iVBORw0KGgo...kJggg==",
    "residentSince": "2015-01-01",
    "lprCategory": "C09",
    "lprNumber": "000-000-204",
    "commuterClassification": "C1",
    "birthCountry": "Bahamas",
    "birthDate": "1958-08-17"
  },
  "issuer": "did:example:456",
  "issuanceDate": "2020-04-22T10:37:22Z",
  "identifier": "83627465",
  "name": "Permanent Resident Card",
  "description": "Government of Example Permanent Resident Card.",
  "proof": {
    "type": "Ed25519Signature2018",
    "created": "2020-04-22T10:37:22Z",
    "proofPurpose": "assertionMethod",
    "verificationMethod": "did:example:456#key-1",
    "jws": "eyJjcml0IjpbImI2NCJdLCJiNjQiOmZhbHNlLCJhbGciOiJFZERTQSJ9..BhWew0x-txcroGjgdtK-yBCqoetg9DD9SgV4245TmXJi-PmqFzux6Cwaph0r-mbqzlE17yLebjfqbRT275U1AA"
  }
}
      </pre>

        <pre
          class="example"
          title="Verifiable Credential linked to a verification method of type JsonWebKey2020"
        >
{  <span class="comment">// external (all terms in this example)</span>
  "@context": [
    "https://www.w3.org/2018/credentials/v1",
    "https://www.w3.org/2018/credentials/examples/v1"
  ],
  "id": "http://example.gov/credentials/3732",
  "type": ["VerifiableCredential", "UniversityDegreeCredential"],
  "issuer": { "id": "did:example:123" },
  "issuanceDate": "2020-03-10T04:24:12.164Z",
  "credentialSubject": {
    "id": "did:example:456",
    "degree": {
      "type": "BachelorDegree",
      "name": "Bachelor of Science and Arts"
    }
  },
  "proof": {
    "type": "JsonWebSignature2020",
    "created": "2020-02-15T17:13:18Z",
    "verificationMethod": "did:example:123#_Qq0UL2Fq651Q0Fjd6TvnYE-faHiOpRlPVQcY_-tA4A",
    "proofPurpose": "assertionMethod",
    "jws": "eyJiNjQiOmZhbHNlLCJjcml0IjpbImI2NCJdLCJhbGciOiJFZERTQSJ9..Y0KqovWCPAeeFhkJxfQ22pbVl43Z7UI-X-1JX32CA9MkFHkmNprcNj9Da4Q4QOl0cY3obF8cdDRdnKr0IwNrAw"
  }
}
      </pre>

        <pre
          class="example"
          title="Verifiable Credential linked to a bls12381 verification method"
        >
{  <span class="comment">// external (all terms in this example)</span>
  "@context": [
    "https://www.w3.org/2018/credentials/v1",
    "https://w3id.org/security/bbs/v1",
    {
      "name": "https://schema.org/name",
      "birthDate": "https://schema.org/birthDate"
    }
  ],
  "id": "urn:uuid:c499e122-3ba9-4e95-8d4d-c0ebfcf8c51a",
  "type": ["VerifiableCredential"],
  "issuanceDate": "2021-02-07T16:02:08.571Z",
  "issuer": {
    "id": "did:example:123"
  },
  "credentialSubject": {
    "id": "did:example:456",
    "name": "John Smith",
    "birthDate": "2021-02-07"
  },
  "proof": {
    "type": "BbsBlsSignature2020",
    "created": "2021-02-07T16:02:10Z",
    "proofPurpose": "assertionMethod",
    "proofValue": "o7zD2eNTp657YzkJLub+IO4Zqy/R3Lv/AWmtSA/kUlEAOa73BNyP1vOeoow35jkABolx4kYMKkp/ZsFDweuKwe/p9vxv9wrMJ9GpiOZjHcpjelDRRJLBiccg9Yv7608mHgH0N1Qrj14PZ2saUlfhpQ==",
    "verificationMethod": "did:example:123#bls12381-g2-key"
  }
}
      </pre>

        <pre
          class="example"
          title="Verifiable Credential selective disclosure zero knowledge proof linked to a bls12381 verification method"
        >
{  <span class="comment">// external (all terms in this example)</span>
  "@context": [
    "https://www.w3.org/2018/credentials/v1",
    "https://w3id.org/security/bbs/v1",
    {
      "name": "https://schema.org/name",
      "birthDate": "https://schema.org/birthDate"
    }
  ],
  "id": "urn:uuid:c499e122-3ba9-4e95-8d4d-c0ebfcf8c51a",
  "type": "VerifiableCredential",
  "issuanceDate": "2021-02-07T16:02:08.571Z",
  "issuer": {
    "id": "did:example:123"
  },
  "credentialSubject": {
    "id": "did:example:456",
    "birthDate": "2021-02-07"
  },
  "proof": {
    "type": "BbsBlsSignatureProof2020",
    "created": "2021-02-07T16:02:10Z",
    "nonce": "OqZHsV/aunS34BhLaSoxiHWK+SUaG4iozM3V+1jO06zRRNcDWID+I0uwtPJJ767Yo8Q=",
    "proofPurpose": "assertionMethod",
    "proofValue": "AAsH34lcKsqaqPaLQWcnLMe3mDM+K7fZM0t4Iesfj7BhD//HBtuWCmZE946BqW7OHYU106MP8mLntutqB8FyGwS7AOyK+5/7iW6JwLNVCvh4Nt3IaF3AN47fqVs2VikD9DiCsaFAUU6ISj5pbad8O+6jiT9Yw6ug8t8vJn3XHvMUhCPnDZJeBEdKD1qo4Z0LOq3L8QAAAHSEgtC9BoZL2MLjz4QuPxpwbhTTRC08MIUjdJnP4JUtz6163Lsl3rpadGu2d3Te7loAAAACZBD4YWOgV0xpPoYZ5vywNA5/NTeDHDbX36gvoV5RDJtY1SLU2LN/IDPZGrfhEiASbD1/QXqj8dod6FbjBs9m/LchBcy7z4yDBv/8DnBzDJ9dEaM4bDjpwmqtgJqha2kwtlyNog67xG9tNjnp5rrbIgAAAANMVanwWmlkg5I/f1M2QJ5GRvQiBL4lyL5sttxwIOalbTZP8VqWtFJI54xMNjTiK71aFWWN8SlNEwfVIX34HO5zBIb6fvc+Or21ubYllT9eXv1epl2o2CojuieCZyxE8/Q=",
    "verificationMethod": "did:example:123#bls12381-g2-key"
  }
}
      </pre>

        <pre class="example" title="Verifiable Credential as Decoded JWT">
{ <span class="comment">// external (all terms in this example)</span>
  "protected": {
    "kid": "did:example:123#_Qq0UL2Fq651Q0Fjd6TvnYE-faHiOpRlPVQcY_-tA4A",
    "alg": "EdDSA"
  },
  "payload": {
    "iss": "did:example:123",
    "sub": "did:example:456",
    "vc": {
      "@context": [
        "https://www.w3.org/2018/credentials/v1",
        "https://www.w3.org/2018/credentials/examples/v1"
      ],
      "id": "http://example.gov/credentials/3732",
      "type": [
        "VerifiableCredential",
        "UniversityDegreeCredential"
      ],
      "issuer": {
        "id": "did:example:123"
      },
      "issuanceDate": "2020-03-10T04:24:12.164Z",
      "credentialSubject": {
        "id": "did:example:456",
        "degree": {
          "type": "BachelorDegree",
          "name": "Bachelor of Science and Arts"
        }
      }
    },
    "jti": "http://example.gov/credentials/3732",
    "nbf": 1583814252
  },
  "signature": "qSv6dpZJGFybtcifLwGf4ujzlEu-fam_M7HPxinCbVhz9iIJCg70UMeQbPa1ex6BmQ2tnSS7F11FHnMB2bJRAw"
}
      </pre>
      </section>

      <section class="informative">
        <h2>Encrypting</h2>

        <p class="note">
          These examples are for information purposes only, it is considered a
          best practice to avoid dislosing unnecessary information in JWE
          headers.
        </p>

        <pre
          class="example"
          title="JWE linked to a verification method via kid"
        >
{ <span class="comment">// external (all terms in this example)</span>
  "ciphertext": "3SHQQJajNH6q0fyAHmw...",
  "iv": "QldSPLVnFf2-VXcNLza6mbylYwphW57Q",
  "protected": "eyJlbmMiOiJYQzIwUCJ9",
  "recipients": [
    {
      "encrypted_key": "BMJ19zK12YHftJ4sr6Pz1rX1HtYni_L9DZvO1cEZfRWDN2vXeOYlwA",
      "header": {
        "alg": "ECDH-ES+A256KW",
        "apu": "Tx9qG69ZfodhRos-8qfhTPc6ZFnNUcgNDVdHqX1UR3s",
        "apv": "ZGlkOmVsZW06cm9wc3RlbjpFa...",
        "epk": {
          "crv": "X25519",
          "kty": "OKP",
          "x": "Tx9qG69ZfodhRos-8qfhTPc6ZFnNUcgNDVdHqX1UR3s"
        },
        "kid": "did:example:123#zC1Rnuvw9rVa6E5TKF4uQVRuQuaCpVgB81Um2u17Fu7UK"
      }
    }
  ],
  "tag": "xbfwwDkzOAJfSVem0jr1bA"
}
      </pre>
      </section>
    </section>

    <section class="appendix">
      <h1>Architectural Considerations</h1>

      <section>
        <h2>Detailed Architecture Diagram</h2>
        <p>
          Following is a diagram showing the relationships among
          <a href="#data-model"></a>, <a href="#core-properties"></a>, and
          <a href="#methods"></a>, and <a href="#resolution"></a>.
        </p>

        <figure id="detailed-architecture-overview">
          <img
            style="margin: auto; display: block; width: 90%"
            src="diagrams/did_detailed_architecture_overview.svg"
            alt="
  DIDs and DID documents are recorded on a Verifiable Data Registry; DIDs resolve
  to DID documents; DIDs refer to DID subjects; a DID controller controls a DID
  document; DID URLs contains a DID; DID URLs dereferenced to DID document
  fragments or external resources; DID resolver implements resolve function; DID
  URL dereferencer implements dereferencing function; DID method operates a
  Verfiable Data Registry; DID resolver and DID URL dereferencer instruct a DID
  method.
        "
          />
          <figcaption>
            Detailed overview of DID architecture and the relationship of the
            basic components.
          </figcaption>
        </figure>
      </section>

      <section>
        <h2>Creation of a DID</h2>
        <p>
          The creation of a <a>DID</a> is a process that is defined by each
          <a>DID Method</a>. Some <a>DID Methods</a>, such as
          <code>did:key</code>, are purely generative, such that a
          <a>DID</a> and a <a>DID document</a> are generated by transforming a
          single piece of cryptographic material into a conformant
          <a>representation</a>. Other <a>DID methods</a> might require the use
          of a <a>verifiable data registry</a>, where the <a>DID</a> and
          <a>DID document</a> are recognized to exist by third parties only when
          the registration has been completed, as defined by the respective
          <a>DID method</a>. Other processes might be defined by the respective
          <a>DID method</a>.
        </p>
      </section>

      <section>
        <h2>Determining the DID subject</h2>
        <p>
          A <a>DID</a> is a specific type of URI (Uniform Resource Identifier),
          so a <a>DID</a> can refer to any resource. Per [[RFC3986]]:
        </p>
        <blockquote>
          the term "resource" is used in a general sense for whatever might be
          identified by a URI. [...] A resource is not necessarily accessible
          via the Internet.
        </blockquote>
        <p>
          Resources can be digital or physical, abstract or concrete. Any
          resource that can be assigned a URI can be assigned a <a>DID</a>. The
          resource referred to by the <a>DID</a> is the <a>DID subject</a>.
        </p>
        <p>
          The <a>DID controller</a> determines the <a>DID subject</a>. It is not
          expected to be possible to determine the <a>DID subject</a> from
          looking at the <a>DID</a> itself, as <a>DIDs</a> are generally only
          meaningful to machines, not human. A <a>DID</a> is unlikely to contain
          any information about the <a>DID subject</a>, so further information
          about the <a>DID subject</a> is only discoverable by resolving the
          <a>DID</a> to the <a>DID document</a>, obtaining a verifiable
          credential about the <a>DID</a>, or via some other description of the
          <a>DID</a>.
        </p>
        <p>
          While the value of the <code><a>id</a></code> property in the
          retrieved <a>DID document</a> must always match the <a>DID</a> being
          resolved, whether or not the actual resource to which the
          <a>DID</a> refers can change over time is dependent upon the
          <a>DID method</a>. For example, a <a>DID method</a> that permits the
          <a>DID subject</a> to change could be used to generate a
          <a>DID</a> for the current occupant of a particular role&mdash;such as
          the CEO of a company&mdash;where the actual person occupying the role
          can be different depending on when the <a>DID</a> is resolved.
        </p>
      </section>
      <section>
        <h2>Referring to the DID document</h2>
        <p>
          The <a>DID</a> refers to the <a>DID subject</a> and
          <em>resolves to</em> the <a>DID document</a> (by following the
          protocol specified by the <a>DID method</a>). The
          <a>DID document</a> is not a separate resource from the
          <a>DID subject</a> and does not have a <a>URI</a> separate from the
          <a>DID</a>. Rather the <a>DID document</a> is an artifact of
          <a>DID resolution</a> controlled by the <a>DID controller</a> for the
          purpose of describing the <a>DID subject</a>.
        </p>
        <p>This distinction is illustrated by the graph model shown below.</p>
        <figure id="did-and-did-document-graph">
          <img
            style="margin: auto; display: block; width: 75%"
            src="diagrams/figure-a.1-did-and-did-document-graph.svg"
            alt="
Diagram showing a graph model for how DID controllers assign DIDs to refer to
DID subjects and resolve to DID documents that describe the DID subjects.
"
          />
          <figcaption>
            A <a>DID</a> is an identifier assigned by a <a>DID controller</a> to
            refer to a <a>DID subject</a> and resolve to a
            <a>DID document</a> that describes the <a>DID subject</a>. The
            <a>DID document</a> is an artifact of <a>DID resolution</a> and not
            a separate resource distinct from the <a>DID subject</a>. See also:
            <a class="longdesc-link" href="#did-and-did-document-graph-longdesc"
              >narrative description</a
            >.
          </figcaption>
        </figure>

        <div class="longdesc" id="did-and-did-document-graph-longdesc">
          Two filled black circles appear at the top of the diagram, one on the
          left, labeled "DID Controller", and one on the right, labeled "DID
          Subject". A rectangle, with lower right corner bent inwards to form a
          small triangle, appears below, containing the label "DID Document".
          Arrows extend between these three items, as follows. A solid red arrow
          points directly from the DID Controller circle, rightwards to the DID
          Subject circle, labeled "DID" above it in large font, and "Identifies"
          below it in small italic font. The other arrow labels are also in
          small italic font. A dotted red arrow, labeled "Resolves to", extends
          from DID Controller, starting in the same line as the first arrow,
          then curving downward to point to the DID Document rectangle. A green
          arrow, labeled "Controls", points directly from DID Controller to DID
          Document. A green arrow labeled "Controller" points in the opposite
          direction, from DID Document to DID Controller, making an arc outward
          to the left of the diagram. A blue arrow, labeled, "Describes" points
          directly from DID Document to DID Subject.
        </div>
      </section>
      <section>
        <h2>Statements in the DID document</h2>
        <p>
          Each property in a <a>DID document</a> is a statement by the
          <a>DID controller</a> that describes:
        </p>
        <ul>
          <li>
            The string of characters defining identifiers for the
            <a>DID subject</a> (e.g., the <code><a>id</a></code> and
            <code><a>alsoKnownAs</a></code>
            properties)
          </li>
          <li>
            How to interact with the <a>DID subject</a> (e.g., the
            <code><a>verificationMethod</a></code> and
            <code><a>service</a></code>
            properties).
          </li>
          <li>
            How to interpret the specific representation of the
            <a>DID document</a> (e.g., the <code>@context</code> property for a
            JSON-LD representation).
          </li>
        </ul>
        <p>
          The only required property in a <a>DID document</a> is
          <code><a>id</a></code
          >, so that is the only statement guaranteed to be in a
          <a>DID document</a>. That statement is illustrated in
          <a href="#did-and-did-document-graph"></a> with a direct link between
          the <a>DID</a> and the <a>DID subject</a>.
        </p>
      </section>
      <section>
        <h2>Discovering more information about the DID subject</h2>
        <p>
          Options for discovering more information about the
          <a>DID subject</a> depend on the properties present in the
          <a>DID document</a>. If the <code><a>service</a></code> property is
          present, more information can be requested from a
          <a>service endpoint</a>. For example, by querying a
          <a>service endpoint</a> that supports verifiable credentials for one
          or more claims (attributes) describing the <a>DID subject</a>.
        </p>
        <p>
          Another option is to use the <code><a>alsoKnownAs</a></code> property
          if it is present in the <a>DID document</a>. The
          <a>DID controller</a> can use it to provide a list of other URIs
          (including other <a>DIDs</a>) that refer to the same
          <a>DID subject</a>. Resolving or dereferencing these URIs might yield
          other descriptions or representations of the <a>DID subject</a> as
          illustrated in the figure below.
        </p>
        <figure id="alsoKnownAs-graph">
          <img
            style="margin: auto; display: block; width: 75%"
            src="diagrams/figure-a.2-also-known-as-graph.svg"
            alt="
          Diagram showing a graph model, with an
          alsoKnownAs property with an arc to another node representing a
          different resource that dereferences to another description of the
          DID subject.
        "
          />
          <figcaption>
            A <a>DID document</a> can use the alsoKnownAs property to assert
            that another <a>URI</a> (including, but not necessarily, another
            <a>DID</a>) refers to the same <a>DID subject</a>. See also:
            <a class="longdesc-link" href="#alsoKnownAs-graph-longdesc"
              >narrative description</a
            >.
          </figcaption>
        </figure>
        <div class="longdesc" id="alsoKnownAs-graph-longdesc">
          The diagram contains three small black filled circles, two rectangles
          with bent corners, arrows between them, and labels, as follows. On the
          upper left is a circle labeled "DID Controller". On the upper right is
          a circle labeled "DID Subject". On the lower-middle right is a circle
          without a label. On the lower right is a rectangle labeled
          "Description". In the center of the diagram is a rectangle labeled
          "DID Document". Inside the DID Document rectangle, beneath its label,
          is two lines of code: "alsoKnownAs: [", and "URI]". A black arrow
          extends from the second line, to the right, crossing the rectangle
          border, pointing to the unlabeled circle at the right of the diagram.
          This arrow is labeled above it in large font, "URI", and below it in
          italic, "Identifies". A black arrow points from the unlabeled circle
          downwards to the Description rectangle, labeled "Dereferences to". A
          blue arrow, labeled "Describes", extends from Description, arcing on
          the right, pointing up to DID Subject. A blue arrow, also labeled
          "Describes", points directly from the rectangle, labeled "DID
          Document", in the center of the diagram, up and to the right to the
          DID Subject circle. A red arrow, labeled "alsoKnownAs", points from
          DID Subject down to the unlabeled circle. A red arrow, labeled "DID"
          above it in large font, and "Identifies" below it in italic font, lies
          at the top of the image, pointing from DID Controller to DID Subject.
          A dotted red line starts in the same place but branches off and curves
          downward to point to the DID Document rectangle at the center of the
          image. A green arrow, labeled "Controls", points directly from DID
          Controller to DID Document. Another green arrow points in the opposite
          direction, labeled "Controller", curving outwards on the left of the
          image, from DID Document to DID Controller.
        </div>
      </section>
      <section>
        <h2>Serving a representation of the DID subject</h2>
        <p>
          If the <a>DID subject</a> is a digital resource that can be retrieved
          from the internet, a <a>DID method</a> can choose to construct a
          <a>DID URL</a> which returns a representation of the
          <a>DID subject</a> itself. For example, a data schema that needs a
          persistent, cryptographically verifiable identifier could be assigned
          a <a>DID</a>, and passing a specified DID parameter (see
          <a href="#did-parameters"></a>) could be used as a standard way to
          retrieve a representation of that schema.
        </p>
        <p>
          Similarly, a <a>DID</a> can be used to refer to a digital resource
          (such as an image) that can be returned directly from a
          <a>verifiable data registry</a> if that functionality is supported by
          the applicable <a>DID method</a>.
        </p>
      </section>
      <section>
        <h2>Assigning DIDs to existing web resources</h2>
        <p>
          If the controller of a web page or any other web resource wants to
          assign it a persistent, cryptographically verifiable identifier, the
          controller can give it a <a>DID</a>. For example, the author of a blog
          hosted by a blog hosting company (under that hosting company's domain)
          could create a <a>DID</a> for the blog. In the <a>DID document</a>,
          the author can include the <code><a>alsoKnownAs</a></code> property
          pointing to the current URL of the blog, e.g.:
        </p>
        <code>
          "alsoKnownAs": ["https://myblog.blogging-host.example/home"]
        </code>
        <p>
          If the author subsequently moves the blog to a different hosting
          company (or to the author's own domain), the author can update the
          <a>DID document</a>
          to point to the new URL for the blog, e.g.:
        </p>
        <code> "alsoKnownAs": ["https://myblog.example/"] </code>
        <p>
          The <a>DID</a> effectively adds a layer of indirection for the blog
          URL. This layer of indirection is under the control of the author
          instead of under the control of an external administrative authority
          such as the blog hosting company. This is how a <a>DID</a> can
          effectively function as an enhanced
          <a href="https://tools.ietf.org/html/rfc8141"
            >URN (Uniform Resource Name)</a
          >&mdash;a persistent identifier for an information resource whose
          network location might change over time.
        </p>
      </section>

      <section>
        <h2>The relationship between DID controllers and DID subjects</h2>
        <p>
          To avoid confusion, it is helpful to classify
          <a>DID subject</a>s into two disjoint sets based on their relationship
          to the <a>DID controller</a>.
        </p>
        <section>
          <h3>Set #1: The DID subject <em>is</em> the DID controller</h3>
          <p>
            The first case, shown in
            <a href="#controller-subject-equivalence"></a>, is the common
            scenario where the <a>DID subject</a> is also the
            <a>DID controller</a>. This is the case when an individual or
            organization creates a <a>DID</a> to self-identify.
          </p>
          <figure id="controller-subject-equivalence">
            <img
              style="margin: auto; display: block; width: 75%"
              src="diagrams/figure-b.1-controller-and-subject-equivalence.svg"
              alt="
Diagram showing a graph model with an equivalence arc from the DID
subject to the DID controller.
          "
            />
            <figcaption>
              The <a>DID subject</a> is the same entity as the
              <a>DID controller</a>. See also:
              <a
                class="longdesc-link"
                href="#controller-subject-equivalence-longdesc"
                >narrative description</a
              >.
            </figcaption>
          </figure>
          <div class="longdesc" id="controller-subject-equivalence-longdesc">
            Two small black circles appear in the diagram, one on the upper
            left, labeled, "DID Controller", and one on the upper right, labeled
            "DID Subject". A solid red arrow extends from the DID Controller
            circle to the DID Subject circle, labeled "DID" in large bold text
            above the arrow, and "Identifies" in small italic text beneath the
            arrow. A dotted red double-ended arrow, labeled "Equivalence",
            extends between the two circles, forming an arc in the space between
            and above them. In the lower part of the diagram is a rectangle with
            bent corner, outlined in black, containing the label "DID Document".
            Arrows point between this DID Document rectangle and the small black
            circles for DID Controller and DID Subject, with italic labels, as
            follows. A blue arrow points from the DID Document to the DID
            Subject, labeled, "Describes". A green arrow points from the DID
            Controller to the DID Document, labeled "Controls". A green arrow
            points from the DID Document to the DID Controller, in an outward
            arc, labeled, "Controller". A dotted red arrow, labeled "Resolves
            to", extends from the DID controller starting to the right,
            branching off from the arrow to the DID Subject, then curving
            downward to point to the DID Document.
          </div>
          <p>
            From a graph model perspective, even though the nodes identified as
            the
            <a>DID controller</a> and <a>DID subject</a> in
            <a href="#controller-subject-equivalence"></a> are distinct, there
            is a logical arc connecting them to express a semantic equivalence
            relationship.
          </p>
        </section>
        <section>
          <h3>Set #2: The DID subject is <em>not</em> the DID controller</h3>
          <p>
            The second case is when the <a>DID subject</a> is a separate entity
            from the <a>DID controller</a>. This is the case when, for example,
            a parent creates and maintains control of a <a>DID</a> for a child;
            a corporation creates and maintains control of a <a>DID</a> for a
            subsidiary; or a manufacturer creates and maintains control of a
            <a>DID</a> for a product, an IoT device, or a digital file.
          </p>
          <p>
            From a graph model perspective, the only difference from Set 1 that
            there is no equivalence arc relationship between the
            <a>DID subject</a> and <a>DID controller</a> nodes.
          </p>
        </section>
      </section>

      <section>
        <h2>Multiple DID controllers</h2>
        <p>
          A <a>DID document</a> might have more than one <a>DID controller</a>.
          This can happen in one of two ways.
        </p>
        <section>
          <h3>Independent Control</h3>
          <p>
            In this case, each of the <a>DID controllers</a> might act on its
            own, i.e., each one has full power to update the
            <a>DID document</a> independently. From a graph model perspective,
            in this configuration:
          </p>
          <ul>
            <li>
              Each additional <a>DID controller</a> is another distinct graph
              node (which might be identified by its own <a>DID</a>).
            </li>
            <li>
              The same arcs ("controls" and "controller") exist between each
              <a>DID controller</a> and the <a>DID document</a>.
            </li>
          </ul>
          <figure id="independent-did-controllers">
            <img
              style="margin: auto; display: block; width: 75%"
              src="diagrams/figure-c.1-independent-did-controllers.svg"
              alt="
            Diagram showing three DID controllers each with an independent
            control relationship with the DID document
          "
            />
            <figcaption>
              Multiple independent <a>DID controllers</a> that can each act
              independently. See also:
              <a
                href="#independent-did-controllers-longdesc"
                class="longdesc-link"
                >Text Description</a
              >
            </figcaption>
          </figure>
          <div class="longdesc" id="independent-did-controllers-longdesc">
            Three black circles appear on the left, vertically, each labeled
            "DID Controller". From each of these circles, a pair of green arrows
            extends towards the center of the diagram, to a single rectangle,
            labeled "DID Document". The rectangle has the lower right corner cut
            and bent inward to form a small triangle, as if to represent a
            physical piece of paper with curled corner. Each pair of green
            arrows consists of one arrow pointing from the black circle to the
            rectangle, labeled "Controls", and one pointing in the opposite
            direction, from the rectangle to the black circle, labeled
            "Controller". From the right of the rectangle extends a blue arrow,
            labeled, "Describes", pointing to a black circle labeled, "DID
            Subject".
          </div>
        </section>
        <section>
          <h3>Group Control</h3>
          <p>
            In the case of group control, the <a>DID controllers</a> are
            expected to act together in some fashion, such as when using a
            cryptographic algorithm that requires multiple digital signatures
            ("multi-sig") or a threshold number of digital signatures
            ("m-of-n"). From a functional standpoint, this option is similar to
            a single <a>DID controller</a> because, although each of the
            <a>DID controllers</a> in the <a>DID controller</a> group has its
            own graph node, the actual control collapses into a single logical
            graph node representing the <a>DID controller</a> group as shown in
            <a href="#group-did-controllers"></a>.
          </p>
          <figure id="group-did-controllers">
            <img
              style="margin: auto; display: block; width: 75%"
              src="diagrams/figure-c.2-group-did-controllers.svg"
              alt="
Diagram showing three DID controllers together as a single
DID controller group to control a DID document
          "
            />
            <figcaption>
              Multiple <a>DID controllers</a> who are expected to act together
              as a <a>DID controller</a> group. See also:
              <a class="longdesc-link" href="#group-did-controllers-longdesc">
                narrative description</a
              >.
            </figcaption>
          </figure>
          <div class="longdesc" id="group-did-controllers-longdesc">
            On the left are three black filled circles, labeled "DID Controller
            Group" by a brace on the left. From each of these three circles, a
            green arrow extends to the center right. These three arrows converge
            towards a single filled white circle. A pair of horizontal green
            arrows connects this white circle on its right to a rectangle shaped
            like a page with a curled corner, labeled "DID Document". The upper
            arrow points right, from the white circle to the rectangle, and is
            labeled "Controls". The lower arrow points left, from the rectangle
            to the white circle, and is labeled "Controller". From the right of
            the rectangle extends a blue arrow, labeled "Describes", pointing to
            a black circle, labeled "DID Subject".
          </div>
          <p>
            This configuration will often apply when the <a>DID subject</a> is
            an organization, corporation, government agency, community, or other
            group that is not controlled by a single individual.
          </p>
        </section>
      </section>
      <section>
        <h2>Changing the DID subject</h2>
        <p>
          A <a>DID document</a> has exactly one <a>DID</a> which refers to the
          <a>DID subject</a>. The <a>DID</a> is expressed as the value of the
          <code><a>id</a></code> property. This property value is immutable for
          the lifetime of the <a>DID document</a>.
        </p>
        <p>
          However, it is possible that the resource <em>identified</em> by the
          <a>DID</a>, the <a>DID subject</a>, may change over time. This is
          under the exclusive authority of the <a>DID controller</a>. For more
          details, see section <a href="#persistence"></a>.
        </p>
      </section>
      <section>
        <h2>Changing the DID controller</h2>
        <p>
          The <a>DID controller</a> for a <a>DID document</a> might change over
          time. However, depending on how it is implemented, a change in the
          <a>DID controller</a> might not be made apparent by changes to the
          <a>DID document</a> itself. For example, if the change is implemented
          through a shift in ownership of the underlying cryptographic keys or
          other controls used for one or more of the
          <a>verification methods</a> in the <a>DID document</a>, it might be
          indistinguishable from a standard key rotation.
        </p>
        <p>
          On the other hand, if the change is implemented by changing the value
          of the
          <a>`controller`</a> property, it will be transparent.
        </p>
        <p>
          If it is important to verify a change of <a>DID controller</a>,
          implementers are advised to <a>authenticate</a> the new
          <a>DID controller</a> against the <a>verification methods</a> in the
          revised <a>DID document</a>.
        </p>
      </section>
    </section>

    <section class="appendix">
      <h2>Revision History</h2>

      <p>
        This section contains the changes that have been made since the
        publication of this specification as a W3C First Public Working Draft.
      </p>

      <p>
        Changes since the
        <a href="https://www.w3.org/TR/2021/CR-did-core-20210615/"
          >Second Candidate Recommendation</a
        >
        include:
      </p>

      <ul>
        <li>
          Non-normatively refer to the DID Resolution specification to guide
          implementers toward common DID URL implementation patterns.
        </li>
        <li>
          Elaborate upon when DID Documents are understood to start existing.
        </li>
        <li>Convert PNG diagrams to SVG diagrams.</li>
        <li>Rearrange order of Appendices to improve readability.</li>
        <li>
          Update the IANA guidance as a result of the IETF Media Type
          Maintenance Working Group efforts.
        </li>
        <li>Add links to use cases document.</li>
        <li>
          Add warning related to [[?MULTIBASE]] and
          <code>publicKeyMultibase</code>.
        </li>
        <li>
          Remove at risk issue markers for features that gained enough
          implementation experience.
        </li>
        <li>
          Finalize the Editors, Authors, and Acknowledgements information.
        </li>
      </ul>

      <p>
        Changes since the
        <a href="https://www.w3.org/TR/2021/CR-did-core-20210318/"
          >First Candidate Recommendation</a
        >
        include:
      </p>

      <ul>
        <li>
          Addition of at risk markers to most of the DID Parameters, the data
          model datatypes that are expected to not be implemented, and the
          application/did+ld+json media type. This change resulted in the DID
          WG's decision to perform a second Candidate Recommendation phase. All
          other changes were either editorial or predicted in "at risk" issue
          markers.
        </li>
        <li>
          Removal of the at risk issue marker for the `method-specific-id` ABNF
          rule and for `nextUpdate` and `nextVersionId`.
        </li>
        <li>
          Clarification that `equivalentId` and `canonicalId` are optional.
        </li>
        <li>
          Addition of a definitions for "amplification attack" and
          "cryptographic suite".
        </li>
        <li>Replacement of `publicKeyBase58` with `publicKeyMultibase`.</li>
        <li>Updates to the DID Document examples section.</li>
        <li>
          A large number of editorial clean ups to the Security Considerations
          section.
        </li>
      </ul>

      <p>
        Changes since the
        <a href="https://www.w3.org/TR/2019/WD-did-core-20191107/"
          >First Public Working Draft</a
        >
        include:
      </p>

      <ul>
        <li>
          The introduction of an abstract data model that can be serialized to
          multiple representations including JSON and JSON-LD.
        </li>
        <li>
          The introduction of a DID Specifications Registry for the purposes of
          registering extension properties, representations, DID Resolution
          input metadata and output metadata, DID Document metadata, DID
          parameters, and DID Methods.
        </li>
        <li>
          Separation of DID Document metadata, such as created and updated
          values, from DID Document properties.
        </li>
        <li>The removal of embedded proofs in the DID Document.</li>
        <li>
          The addition of verification relationships for the purposes of
          authentication, assertion, key agreement, capability invocation and
          capability delegation.
        </li>
        <li>
          The ability to support relating multiple identifiers with the DID
          Document, such as the DID controller, also known as, equivalent IDs,
          and canonical IDs.
        </li>
        <li>
          Enhancing privacy by reducing information that could contain
          personally identifiable information in the DID Document.
        </li>
        <li>
          The addition of a large section on security considerations and privacy
          considerations.
        </li>
        <li>
          A Representations section that details how the abstract data model can
          be produced and consumed in a variety of different formats along with
          general rules for all representations, producers, and consumers.
        </li>
        <li>
          A section detailing the DID Resolution and DID URL Dereferencing
          interface definition that all DID resolvers are expected to expose as
          well as inputs and outputs to those processes.
        </li>
        <li>
          DID Document examples in an appendix that provide more complex
          examples of DID Document serializations.
        </li>
        <li>
          IANA Considerations for multiple representations specified in DID
          Core.
        </li>
        <li>
          Removal of the Future Work section as much of the work has now been
          accomplished.
        </li>
        <li>An acknowledgements section.</li>
      </ul>
    </section>

    <section class="appendix">
      <h2>Acknowledgements</h2>
      <p>
        The Working Group extends deep appreciation and heartfelt thanks to our
        Chairs Brent Zundel and Dan Burnett, as well as our W3C Staff Contact,
        Ivan Herman, for their tireless work in keeping the Working Group headed
        in a productive direction and navigating the deep and dangerous waters
        of the standards process.
      </p>

      <p>
        The Working Group gratefully acknowledges the work that led to the
        creation of this specification, and extends sincere appreciation to
        those individuals that worked on technologies and specifications that
        deeply influenced our work. In particular, this includes the work of
        Phil Zimmerman, Jon Callas, Lutz Donnerhacke, Hal Finney, David Shaw,
        and Rodney Thayer on
        <a href="https://en.wikipedia.org/wiki/Pretty_Good_Privacy">
          Pretty Good Privacy (PGP)</a
        >
        in the 1990s and 2000s.
      </p>

      <p>
        In the mid-2010s, preliminary implementations of what would become
        Decentralized Identifiers were
        <a href="https://web-payments.org/minutes/2014-05-07/#topic-1">
          built</a
        >
        in collaboration with Jeremie Miller's Telehash project and the W3C Web
        Payments Community Group's work led by Dave Longley and Manu Sporny.
        Around a year later, the XDI.org Registry Working Group
        <a
          href="https://docs.google.com/document/d/1EP-KhH60y-nl4xkEzoeSf3DjmjLomfboF4p2umF51FA/"
        >
          began exploring</a
        >
        decentralized technologies for replacing its existing identifier
        registry. Some of the first
        <a
          href="https://github.com/WebOfTrustInfo/rwot1-sf/blob/master/final-documents/dpki.pdf"
          >written</a
        >
        <a
          href="https://github.com/WebOfTrustInfo/rwot2-id2020/blob/master/final-documents/requirements-for-dids.pdf"
          >papers</a
        >
        exploring the concept of Decentralized Identifiers can be traced back to
        the first several Rebooting the Web of Trust workshops convened by
        Christopher Allen. That work led to a key collaboration between
        Christopher Allen, Drummond Reed, Les Chasen, Manu Sporny, and Anil
        John. Anil saw promise in the technology and allocated the initial set
        of government funding to explore the space. Without the support of Anil
        John and his guidance through the years, it is unlikely that
        Decentralized Identifiers would be where they are today. Further
        refinement at the Rebooting the Web of Trust workshops led to the
        <a
          href="https://github.com/WebOfTrustInfo/rwot3-sf/blob/master/final-documents/did-implementer-draft-10.pdf"
          >first implementers documentation</a
        >, edited by Drummond Reed, Les Chasen, Christopher Allen, and Ryan
        Grant. Contributors included Manu Sporny, Dave Longley, Jason Law,
        Daniel Hardman, Markus Sabadello, Christian Lundkvist, and Jonathan
        Endersby. This initial work was then merged into the W3C Credentials
        Community Group, incubated further, and then transitioned to the W3C
        Decentralized Identifiers Working Group for global standardization.
      </p>

      <p>
        Portions of the work on this specification have been funded by the
        United States Department of Homeland Security's (US DHS) Science and
        Technology Directorate under contracts HSHQDC-16-R00012-H-SB2016-1-002,
        and HSHQDC-17-C-00019, as well as the US DHS Silicon Valley Innovation
        Program under contracts 70RSAT20T00000010, 70RSAT20T00000029,
        70RSAT20T00000030, 70RSAT20T00000045, 70RSAT20T00000003, and
        70RSAT20T00000033. The content of this specification does not
        necessarily reflect the position or the policy of the U.S. Government
        and no official endorsement should be inferred.
      </p>

      <p>
        Portions of the work on this specification have also been funded by the
        European Union's StandICT.eu program under sub-grantee contract number
        CALL05/19. The content of this specification does not necessarily
        reflect the position or the policy of the European Union and no official
        endorsement should be inferred.
      </p>

      <p>
        Work on this specification has also been supported by the
        <a href="https://www.weboftrust.info/">Rebooting the Web of Trust</a>
        community facilitated by Christopher Allen, Shannon Appelcline, Kiara
        Robles, Brian Weller, Betty Dhamers, Kaliya Young, Kim Hamilton Duffy,
        Manu Sporny, Drummond Reed, Joe Andrieu, and Heather Vescent.
        Development of this specification has also been supported by the
        <a href="https://w3c-ccg.github.io/">W3C Credentials Community Group</a
        >, which has been Chaired by Kim Hamilton Duffy, Joe Andrieu,
        Christopher Allen, Heather Vescent, and Wayne Chang. The participants in
        the Internet Identity Workshop, facilitated by Phil Windley, Kaliya
        Young, Doc Searls, and Heidi Nobantu Saul, also supported this work
        through numerous working sessions designed to debate, improve, and
        educate participants about this specification.
      </p>

      <p>
        The Working Group thanks the following individuals for their
        contributions to this specification (in alphabetical order, Github
        handles start with `@` and are sorted as last names): Denis Ah-Kang,
        Nacho Alamillo, Christopher Allen, Joe Andrieu, Antonio, Phil Archer,
        George Aristy, Baha, Juan Benet, BigBlueHat, Dan Bolser, Chris Boscolo,
        Pelle Braendgaard, Daniel Buchner, Daniel Burnett, Juan Caballero,
        @cabo, Tim Cappalli, Melvin Carvalho, David Chadwick, Wayne Chang, Sam
        Curren, Hai Dang, Tim Daubenschütz, Oskar van Deventer, Kim Hamilton
        Duffy, Arnaud Durand, Ken Ebert, Veikko Eeva, @ewagner70, Carson Farmer,
        Nikos Fotiou, Gabe, Gayan, @gimly-jack, @gjgd, Ryan Grant, Peter
        Grassberger, Adrian Gropper, Amy Guy, Daniel Hardman, Kyle Den Hartog,
        Philippe Le Hegaret, Ivan Herman, Michael Herman, Alen Horvat, Dave
        Huseby, Marcel Jackisch, Mike Jones, Andrew Jones, Tom Jones,
        jonnycrunch, Gregg Kellogg, Michael Klein, @kdenhartog-sybil1, Paul
        Knowles, @ktobich, David I. Lehn, Charles E. Lehner, Michael Lodder,
        @mooreT1881, Dave Longley, Tobias Looker, Wolf McNally, Robert Mitwicki,
        Mircea Nistor, Grant Noble, Mark Nottingham, @oare, Darrell O'Donnell,
        Vinod Panicker, Dirk Porsche, Praveen, Mike Prorock, @pukkamustard,
        Drummond Reed, Julian Reschke, Yancy Ribbens, Justin Richer, Rieks,
        @rknobloch, Mikeal Rogers, Evstifeev Roman, Troy Ronda, Leonard
        Rosenthol, Michael Ruminer, Markus Sabadello, Cihan Saglam, Samu, Rob
        Sanderson, Wendy Seltzer, Mehran Shakeri, Jaehoon (Ace) Shim, Samuel
        Smith, James M Snell, SondreB, Manu Sporny, @ssstolk, Orie Steele,
        Shigeya Suzuki, Sammotic Switchyarn, @tahpot, Oliver Terbu, Ted
        Thibodeau Jr., Joel Thorstensson, Tralcan, Henry Tsai, Rod Vagg, Mike
        Varley, Kaliya "Identity Woman" Young, Eric Welton, Fuqiao Xue, @Yue,
        Dmitri Zagidulin, @zhanb, and Brent Zundel.
      </p>
    </section>

    <section class="appendix">
      <h1>IANA Considerations</h1>

      <p>
        This section will be submitted to the Internet Engineering Steering
        Group (IESG) for review, approval, and registration with IANA when this
        specification becomes a W3C Proposed Recommendation.
      </p>

      <section>
        <h2>application/did+json</h2>
        <dl>
          <dt>Type name:</dt>
          <dd>application</dd>
          <dt>Subtype name:</dt>
          <dd>did+json</dd>
          <dt>Required parameters:</dt>
          <dd>None</dd>
          <dt>Optional parameters:</dt>
          <dd>None</dd>
          <dt>Encoding considerations:</dt>
          <dd>
            See <a data-cite="RFC8259#section-11">RFC&nbsp;8259, section 11</a>.
          </dd>
          <dt>Security considerations:</dt>
          <dd>
            See
            <a data-cite="RFC8259#section-12">RFC&nbsp;8259, section 12</a>
            [[RFC8259]].
          </dd>
          <dt>Interoperability considerations:</dt>
          <dd>Not Applicable</dd>
          <dt>Published specification:</dt>
          <dd>https://www.w3.org/TR/did-core/</dd>
          <dt>Applications that use this media type:</dt>
          <dd>
            Any application that requires an identifier that is decentralized,
            persistent, cryptographically verifiable, and resolvable.
            Applications typically consist of cryptographic identity systems,
            decentralized networks of devices, and websites that issue or verify
            W3C Verifiable Credentials.
          </dd>
          <dt>Additional information:</dt>
          <dd>
            <dl>
              <dt>Magic number(s):</dt>
              <dd>Not Applicable</dd>
              <dt>File extension(s):</dt>
              <dd>.didjson</dd>
              <dt>Macintosh file type code(s):</dt>
              <dd>TEXT</dd>
            </dl>
          </dd>
          <dt>
            Person &amp; email address to contact for further information:
          </dt>
          <dd>Ivan Herman &lt;ivan@w3.org&gt;</dd>
          <dt>Intended usage:</dt>
          <dd>Common</dd>
          <dt>Restrictions on usage:</dt>
          <dd>None</dd>
          <dt>Author(s):</dt>
          <dd>
            Drummond Reed, Manu Sporny, Markus Sabadello, Dave Longley,
            Christopher Allen
          </dd>
          <dt>Change controller:</dt>
          <dd>W3C</dd>
        </dl>

        <p>
          Fragment identifiers used with
          <a href="#application-did-json">application/did+json</a> are treated
          according to the rules defined in <a href="#fragment"></a>.
        </p>
      </section>

      <section>
        <h2>application/did+ld+json</h2>

        <p class="note" title="IETF Structured Media Types">
          The Candidate Recommendation phase for this specification received a
          significant number of implementations for the
          <code>application/did+ld+json</code> media type. Registration of the
          media type <code>application/did+ld+json</code> at IANA is pending
          resolution of the
          <a
            href="https://datatracker.ietf.org/doc/html/draft-w3cdidwg-media-types-with-multiple-suffixes"
          >
            Media Types with Multiple Suffixes</a
          >
          issue. Work is expected to continue in the
          <a href="https://datatracker.ietf.org/wg/mediaman/about/"
            >IETF Media Type Maintenance Working Group</a
          >
          with a registration of the <code>application/did+ld+json</code> media
          type by W3C following shortly after the publication of the
          <a
            href="https://datatracker.ietf.org/doc/html/draft-w3cdidwg-media-types-with-multiple-suffixes"
          >
            Media Types with Multiple Suffixes</a
          >
          RFC.
        </p>

        <dl>
          <dt>Type name:</dt>
          <dd>application</dd>
          <dt>Subtype name:</dt>
          <dd>did+ld+json</dd>
          <dt>Required parameters:</dt>
          <dd>None</dd>
          <dt>Optional parameters:</dt>
          <dd>None</dd>
          <dt>Encoding considerations:</dt>
          <dd>
            See <a data-cite="RFC8259#section-11">RFC&nbsp;8259, section 11</a>.
          </dd>
          <dt>Security considerations:</dt>
          <dd>
            See
            <a data-cite="JSON-LD11#security"
              >JSON-LD 1.1, Security Considerations</a
            >
            [[JSON-LD11]].
          </dd>
          <dt>Interoperability considerations:</dt>
          <dd>Not Applicable</dd>
          <dt>Published specification:</dt>
          <dd>https://www.w3.org/TR/did-core/</dd>
          <dt>Applications that use this media type:</dt>
          <dd>
            Any application that requires an identifier that is decentralized,
            persistent, cryptographically verifiable, and resolvable.
            Applications typically consist of cryptographic identity systems,
            decentralized networks of devices, and websites that issue or verify
            W3C Verifiable Credentials.
          </dd>
          <dt>Additional information:</dt>
          <dd>
            <dl>
              <dt>Magic number(s):</dt>
              <dd>Not Applicable</dd>
              <dt>File extension(s):</dt>
              <dd>.didjsonld</dd>
              <dt>Macintosh file type code(s):</dt>
              <dd>TEXT</dd>
            </dl>
          </dd>
          <dt>
            Person &amp; email address to contact for further information:
          </dt>
          <dd>Ivan Herman &lt;ivan@w3.org&gt;</dd>
          <dt>Intended usage:</dt>
          <dd>Common</dd>
          <dt>Restrictions on usage:</dt>
          <dd>None</dd>
          <dt>Author(s):</dt>
          <dd>
            Drummond Reed, Manu Sporny, Markus Sabadello, Dave Longley,
            Christopher Allen
          </dd>
          <dt>Change controller:</dt>
          <dd>W3C</dd>
        </dl>

        <p>
          Fragment identifiers used with
          <a href="#application-did-ld-json">application/did+ld+json</a> are
          treated according to the rules associated with the
          <a data-cite="JSON-LD11#iana-considerations"
            >JSON-LD 1.1: application/ld+json media type</a
          >
          [[JSON-LD11]].
        </p>
      </section>
    </section>
  </body>
</html>
